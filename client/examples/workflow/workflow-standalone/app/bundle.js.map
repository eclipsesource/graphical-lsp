{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/autocompleter/autocomplete.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/es6/map.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/es6/promise.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/es6/string.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/es6/symbol.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_a-function.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_add-to-unscopables.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_advance-string-index.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_an-instance.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_an-object.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_array-includes.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_classof.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_cof.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_collection-strong.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_collection.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_core.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_ctx.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_defined.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_descriptors.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_dom-create.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_enum-bug-keys.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_enum-keys.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_export.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_fails-is-regexp.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_fails.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_fix-re-wks.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_flags.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_for-of.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_function-to-string.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_global.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_has.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_hide.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_html.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_ie8-dom-define.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_inherit-if-required.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_invoke.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_iobject.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_is-array-iter.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_is-array.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_is-object.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_is-regexp.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_iter-call.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_iter-create.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_iter-define.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_iter-detect.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_iter-step.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_iterators.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_library.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_meta.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_microtask.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_new-promise-capability.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-create.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-dp.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-dps.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-gopd.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-gopn-ext.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-gopn.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-gops.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-gpo.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-keys-internal.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-keys.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_object-pie.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_perform.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_promise-resolve.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_property-desc.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_redefine-all.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_redefine.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_regexp-exec-abstract.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_regexp-exec.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_same-value.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_set-proto.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_set-species.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_set-to-string-tag.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_shared-key.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_shared.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_species-constructor.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_string-at.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_string-context.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_string-html.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_string-repeat.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_string-trim.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_string-ws.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_task.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_to-absolute-index.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_to-integer.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_to-iobject.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_to-length.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_to-object.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_to-primitive.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_uid.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_user-agent.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_validate-collection.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_wks-define.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_wks-ext.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/_wks.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/core.get-iterator-method.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.array.iterator.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.map.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.object.to-string.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.promise.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.regexp.exec.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.regexp.match.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.regexp.replace.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.regexp.search.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.regexp.split.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.anchor.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.big.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.blink.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.bold.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.code-point-at.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.ends-with.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.fixed.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.fontcolor.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.fontsize.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.from-code-point.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.includes.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.italics.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.iterator.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.link.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.raw.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.repeat.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.small.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.starts-with.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.strike.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.sub.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.sup.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.string.trim.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/es6.symbol.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/core-js/modules/web.dom.iterable.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty-theia/css/theia-sprotty.css","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/css/command-palette.css","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/css/glsp-sprotty.css","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/css/tool-palette.css","webpack:///../workflow-sprotty/css/diagram.css","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/css-loader/dist/runtime/api.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/file-saver/FileSaver.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/html-parse-stringify2/lib/parse-tag.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/html-parse-stringify2/lib/parse.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/decorator_utils.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/inject.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/injectable.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/multi_inject.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/named.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/optional.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/post_construct.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/tagged.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/target_name.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/annotation/unmanaged.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/bindings/binding.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/bindings/binding_count.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/constants/error_msgs.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/constants/literal_types.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/constants/metadata_keys.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/container/container.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/container/container_module.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/container/container_snapshot.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/container/lookup.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/inversify.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/context.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/metadata.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/metadata_reader.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/plan.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/planner.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/queryable_string.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/reflection_utils.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/request.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/planning/target.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/resolution/instantiation.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/resolution/resolver.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/syntax/binding_in_syntax.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/syntax/binding_in_when_on_syntax.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/syntax/binding_on_syntax.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/syntax/binding_to_syntax.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/syntax/binding_when_on_syntax.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/syntax/binding_when_syntax.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/syntax/constraint_helpers.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/utils/binding_utils.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/utils/exceptions.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/utils/id.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/inversify/lib/utils/serialization.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/process/browser.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/reflect-metadata/Reflect.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom-jsx/snabbdom-jsx.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom-virtualize/lib/strings.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom-virtualize/lib/utils.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom-virtualize/strings.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/es/h.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/es/htmldomapi.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/es/is.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/es/snabbdom.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/es/thunk.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/es/vnode.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/h.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/is.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/modules/attributes.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/modules/class.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/modules/eventlisteners.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/modules/props.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/modules/style.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/snabbdom/vnode.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty-theia/css/theia-sprotty.css?b581","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/actions/action-dispatcher.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/actions/action-handler.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/actions/action.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/actions/diagram-locker.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/animations/animation-frame-syncer.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/animations/animation.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/animations/easing.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/commands/command-registration.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/commands/command-stack-options.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/commands/command-stack.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/commands/command.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/features/initialize-canvas.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/features/set-model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/model/smodel-factory.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/model/smodel-utils.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/model/smodel.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/tool-manager/tool-manager.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/tool-manager/tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/types.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/ui-extensions/ui-extension-registry.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/ui-extensions/ui-extension.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/css-class-decorator.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/dom-helper.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/id-decorator.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/key-tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/mouse-tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/thunk-view.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/view.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/viewer-cache.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/viewer-options.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/viewer.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/vnode-decorators.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/base/views/vnode-utils.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/abstract-layout.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/bounds-manipulation.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/hbox-layout.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/hidden-bounds-updater.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/layout.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/resize.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/stack-layout.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/bounds/vbox-layout.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/button/button-handler.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/button/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/button/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/command-palette/action-providers.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/command-palette/command-palette.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/command-palette/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/decoration/decoration-placer.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/decoration/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/decoration/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/decoration/views.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edge-layout/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edge-layout/edge-layout.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edge-layout/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/create-on-drag.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/create.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/delete.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/edit-label.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/edit-routing.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/edit/reconnect.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/expand/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/expand/expand.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/expand/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/expand/views.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/export/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/export/export.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/export/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/export/svg-exporter.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/fade/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/fade/fade.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/fade/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/hover/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/hover/hover.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/hover/initializer.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/hover/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/hover/popup-position-updater.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/move/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/move/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/move/move.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/nameable/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/open/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/open/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/open/open.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/anchor.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/linear-edge-router.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/manhattan-anchors.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/manhattan-edge-router.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/polyline-anchors.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/polyline-edge-router.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/routing/routing.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/select/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/select/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/select/select.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/undo-redo/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/undo-redo/undo-redo.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/update/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/update/model-matching.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/update/update-model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/viewport/center-fit.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/viewport/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/viewport/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/viewport/scroll.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/viewport/viewport-root.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/viewport/viewport.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/features/viewport/zoom.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/graph/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/graph/sgraph-factory.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/graph/sgraph.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/graph/views.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/index.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/lib/generic-views.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/lib/html-views.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/lib/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/lib/svg-views.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/model-source/commit-model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/model-source/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/model-source/diagram-server.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/model-source/local-model-source.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/model-source/logging.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/model-source/model-source.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/model-source/websocket.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/async.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/browser.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/color.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/geometry.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/inversify.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/iterable.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/keyboard.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/logging.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/sprotty/lib/utils/registry.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/style-loader/lib/addStyles.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/style-loader/lib/urls.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/uuid/index.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/uuid/lib/bytesToUuid.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/uuid/lib/rng-browser.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/uuid/v1.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/uuid/v4.js","webpack:////home/tobias/DA/git/graphical-lsp/client/node_modules/void-elements/index.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///(webpack)/buildin/global.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/css/command-palette.css?66f0","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/css/glsp-sprotty.css?8975","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/css/tool-palette.css?4f22","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/base/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/base/edit-config/edit-config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/base/model/update-model-command.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/base/tool-manager/tool-manager-action-handler.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/change-bounds/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/command-palette/action-definitions.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/command-palette/action-provider.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/command-palette/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/execute/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/execute/execute-command.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/execute/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/hints/action-definition.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/hints/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/hints/type-hints-action-initializer.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/mouse-tool/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/mouse-tool/mouse-tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/operation/operation-actions.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/operation/set-operations.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/rank/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/reconnect/action-definitions.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/reconnect/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/request-response/action-definitions.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/request-response/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/request-response/support.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/save/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/save/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/save/save.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/select/action-definitions.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/select/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/select/select-mouse-listener.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/select/selection-service.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/change-bounds-tool-feedback.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/creation-tool-feedback.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/cursor-feedback.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/edge-edit-tool-feedback.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/feedback-action-dispatcher.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-feedback/view.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-palette/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tool-palette/tool-palette.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tools/change-bounds-tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tools/creation-tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tools/default-tools.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tools/delete-tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tools/drag-aware-mouse-listener.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/tools/edge-edit-tool.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/validation/di.config.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/features/validation/validate.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/index.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/lib/model.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/model-source/websocket-diagram-server.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/types.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/utils/array-utils.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/utils/marker.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/utils/smodel-util.js","webpack:////home/tobias/DA/git/graphical-lsp/client/packages/sprotty-client/lib/utils/viewpoint-util.js","webpack:///../workflow-sprotty/css/diagram.css?8c17","webpack:///../workflow-sprotty/lib/di.config.js","webpack:///../workflow-sprotty/lib/index.js","webpack:///../workflow-sprotty/lib/model-factory.js","webpack:///../workflow-sprotty/lib/model-schema.js","webpack:///../workflow-sprotty/lib/model.js","webpack:///../workflow-sprotty/lib/workflow-views.js","webpack:///./lib/di.config.js","webpack:///./lib/main.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA,EAAE,KAA4D;AAC9D,EAAE,SACiC;AACnC,CAAC,qBAAqB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,sBAAsB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,wBAAwB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;AACD;;;;;;;;;;;;AChWA,mBAAO,CAAC,sGAAiC;AACzC,mBAAO,CAAC,oGAAgC;AACxC,mBAAO,CAAC,8FAA6B;AACrC,mBAAO,CAAC,4EAAoB;AAC5B,iBAAiB,mBAAO,CAAC,wEAAkB;;;;;;;;;;;;ACJ3C,mBAAO,CAAC,sGAAiC;AACzC,mBAAO,CAAC,oGAAgC;AACxC,mBAAO,CAAC,8FAA6B;AACrC,mBAAO,CAAC,oFAAwB;AAChC,iBAAiB,mBAAO,CAAC,wEAAkB;;;;;;;;;;;;ACJ3C,mBAAO,CAAC,kHAAuC;AAC/C,mBAAO,CAAC,0FAA2B;AACnC,mBAAO,CAAC,4FAA4B;AACpC,mBAAO,CAAC,oGAAgC;AACxC,mBAAO,CAAC,8GAAqC;AAC7C,mBAAO,CAAC,sGAAiC;AACzC,mBAAO,CAAC,oGAAgC;AACxC,mBAAO,CAAC,gGAA8B;AACtC,mBAAO,CAAC,0GAAmC;AAC3C,mBAAO,CAAC,gGAA8B;AACtC,mBAAO,CAAC,0FAA2B;AACnC,mBAAO,CAAC,8FAA6B;AACrC,mBAAO,CAAC,4FAA4B;AACpC,mBAAO,CAAC,8FAA6B;AACrC,mBAAO,CAAC,sGAAiC;AACzC,mBAAO,CAAC,oGAAgC;AACxC,mBAAO,CAAC,kGAA+B;AACvC,mBAAO,CAAC,4FAA4B;AACpC,mBAAO,CAAC,8FAA6B;AACrC,mBAAO,CAAC,gGAA8B;AACtC,mBAAO,CAAC,0FAA2B;AACnC,mBAAO,CAAC,0FAA2B;AACnC,mBAAO,CAAC,8FAA6B;AACrC,mBAAO,CAAC,kGAA+B;AACvC,mBAAO,CAAC,gGAA8B;AACtC,mBAAO,CAAC,8FAA6B;AACrC,iBAAiB,mBAAO,CAAC,wEAAkB;;;;;;;;;;;;AC1B3C,mBAAO,CAAC,kFAAuB;AAC/B,mBAAO,CAAC,sGAAiC;AACzC,iBAAiB,mBAAO,CAAC,wEAAkB;;;;;;;;;;;;ACF3C;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA,kBAAkB,mBAAO,CAAC,6DAAQ;AAClC;AACA,0CAA0C,mBAAO,CAAC,+DAAS,6BAA6B;AACxF;AACA;AACA;;;;;;;;;;;;;ACNa;AACb,SAAS,mBAAO,CAAC,yEAAc;;AAE/B;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACJA,eAAe,mBAAO,CAAC,yEAAc;AACrC;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,eAAe,mBAAO,CAAC,yEAAc;AACrC,sBAAsB,mBAAO,CAAC,yFAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,YAAY,eAAe;AAChC;AACA,KAAK;AACL;AACA;;;;;;;;;;;;ACtBA;AACA,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,UAAU,mBAAO,CAAC,6DAAQ;AAC1B;AACA,2BAA2B,kBAAkB,EAAE;;AAE/C;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;;ACJa;AACb,SAAS,mBAAO,CAAC,yEAAc;AAC/B,aAAa,mBAAO,CAAC,iFAAkB;AACvC,kBAAkB,mBAAO,CAAC,+EAAiB;AAC3C,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC,YAAY,mBAAO,CAAC,mEAAW;AAC/B,kBAAkB,mBAAO,CAAC,6EAAgB;AAC1C,WAAW,mBAAO,CAAC,yEAAc;AACjC,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC,kBAAkB,mBAAO,CAAC,6EAAgB;AAC1C,cAAc,mBAAO,CAAC,+DAAS;AAC/B,eAAe,mBAAO,CAAC,6FAAwB;AAC/C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,6BAA6B;AAC7B,0BAA0B;AAC1B,0BAA0B;AAC1B,qBAAqB;AACrB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,8EAA8E,OAAO;AACrF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,qBAAqB;AACrB,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;;;;;;;AC/Ia;AACb,aAAa,mBAAO,CAAC,mEAAW;AAChC,cAAc,mBAAO,CAAC,mEAAW;AACjC,eAAe,mBAAO,CAAC,uEAAa;AACpC,kBAAkB,mBAAO,CAAC,+EAAiB;AAC3C,WAAW,mBAAO,CAAC,+DAAS;AAC5B,YAAY,mBAAO,CAAC,mEAAW;AAC/B,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC,eAAe,mBAAO,CAAC,yEAAc;AACrC,YAAY,mBAAO,CAAC,iEAAU;AAC9B,kBAAkB,mBAAO,CAAC,6EAAgB;AAC1C,qBAAqB,mBAAO,CAAC,yFAAsB;AACnD,wBAAwB,mBAAO,CAAC,6FAAwB;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO,mCAAmC,gCAAgC,aAAa;AACvF,8BAA8B,mCAAmC,aAAa;AAC9E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,qDAAqD;AACrD;AACA,kDAAkD,iBAAiB,EAAE;AACrE;AACA,wDAAwD,aAAa,EAAE,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;ACpFA,6BAA6B;AAC7B,uCAAuC;;;;;;;;;;;;ACDvC;AACA,gBAAgB,mBAAO,CAAC,2EAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA,kBAAkB,mBAAO,CAAC,iEAAU;AACpC,iCAAiC,QAAQ,mBAAmB,UAAU,EAAE,EAAE;AAC1E,CAAC;;;;;;;;;;;;ACHD,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,mEAAW;AAClC;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA,cAAc,mBAAO,CAAC,6EAAgB;AACtC,WAAW,mBAAO,CAAC,6EAAgB;AACnC,UAAU,mBAAO,CAAC,2EAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACdA,aAAa,mBAAO,CAAC,mEAAW;AAChC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,WAAW,mBAAO,CAAC,+DAAS;AAC5B,eAAe,mBAAO,CAAC,uEAAa;AACpC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,uBAAuB;AACzG,iEAAiE;AACjE,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd,cAAc;AACd,cAAc;AACd,cAAc;AACd,eAAe;AACf,eAAe;AACf,eAAe;AACf,gBAAgB;AAChB;;;;;;;;;;;;AC1CA,YAAY,mBAAO,CAAC,6DAAQ;AAC5B;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK,YAAY;AACjB,GAAG;AACH;;;;;;;;;;;;ACXA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;ACNa;AACb,mBAAO,CAAC,mFAAmB;AAC3B,eAAe,mBAAO,CAAC,uEAAa;AACpC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,YAAY,mBAAO,CAAC,iEAAU;AAC9B,cAAc,mBAAO,CAAC,qEAAY;AAClC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,iBAAiB,mBAAO,CAAC,6EAAgB;;AAEzC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,yBAAyB,4CAA4C;AACrE;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,UAAU;AACvC;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB,aAAa;AAC3D;AACA;AACA;AACA;AACA,6CAA6C,WAAW;AACxD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,kBAAkB;AAClB;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE;AACA;AACA,2BAA2B,gCAAgC;AAC3D;AACA;AACA;;;;;;;;;;;;;AC/Fa;AACb;AACA,eAAe,mBAAO,CAAC,yEAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,WAAW,mBAAO,CAAC,yEAAc;AACjC,kBAAkB,mBAAO,CAAC,iFAAkB;AAC5C,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC,gBAAgB,mBAAO,CAAC,qGAA4B;AACpD;AACA;AACA;AACA,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF;AACA;AACA,GAAG,4CAA4C,gCAAgC;AAC/E;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxBA,iBAAiB,mBAAO,CAAC,mEAAW;;;;;;;;;;;;ACApC;AACA;AACA;AACA;AACA;AACA,yCAAyC;;;;;;;;;;;;ACLzC,uBAAuB;AACvB;AACA;AACA;;;;;;;;;;;;ACHA,SAAS,mBAAO,CAAC,yEAAc;AAC/B,iBAAiB,mBAAO,CAAC,iFAAkB;AAC3C,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC;AACA,CAAC;AACD;AACA;AACA;;;;;;;;;;;;ACPA,eAAe,mBAAO,CAAC,mEAAW;AAClC;;;;;;;;;;;;ACDA,kBAAkB,mBAAO,CAAC,6EAAgB,MAAM,mBAAO,CAAC,iEAAU;AAClE,+BAA+B,mBAAO,CAAC,2EAAe,gBAAgB,mBAAmB,UAAU,EAAE,EAAE;AACvG,CAAC;;;;;;;;;;;;ACFD,eAAe,mBAAO,CAAC,yEAAc;AACrC,qBAAqB,mBAAO,CAAC,yEAAc;AAC3C;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACfA;AACA,UAAU,mBAAO,CAAC,6DAAQ;AAC1B;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA,gBAAgB,mBAAO,CAAC,yEAAc;AACtC,eAAe,mBAAO,CAAC,6DAAQ;AAC/B;;AAEA;AACA;AACA;;;;;;;;;;;;ACPA;AACA,UAAU,mBAAO,CAAC,6DAAQ;AAC1B;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;;;;;;;;;;;;ACFA;AACA,eAAe,mBAAO,CAAC,yEAAc;AACrC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,YAAY,mBAAO,CAAC,6DAAQ;AAC5B;AACA;AACA;AACA;;;;;;;;;;;;ACPA;AACA,eAAe,mBAAO,CAAC,yEAAc;AACrC;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXa;AACb,aAAa,mBAAO,CAAC,iFAAkB;AACvC,iBAAiB,mBAAO,CAAC,iFAAkB;AAC3C,qBAAqB,mBAAO,CAAC,yFAAsB;AACnD;;AAEA;AACA,mBAAO,CAAC,+DAAS,qBAAqB,mBAAO,CAAC,6DAAQ,4BAA4B,aAAa,EAAE;;AAEjG;AACA,qDAAqD,4BAA4B;AACjF;AACA;;;;;;;;;;;;;ACZa;AACb,cAAc,mBAAO,CAAC,qEAAY;AAClC,cAAc,mBAAO,CAAC,mEAAW;AACjC,eAAe,mBAAO,CAAC,uEAAa;AACpC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,gBAAgB,mBAAO,CAAC,yEAAc;AACtC,kBAAkB,mBAAO,CAAC,6EAAgB;AAC1C,qBAAqB,mBAAO,CAAC,yFAAsB;AACnD,qBAAqB,mBAAO,CAAC,2EAAe;AAC5C,eAAe,mBAAO,CAAC,6DAAQ;AAC/B,8CAA8C;AAC9C;AACA;AACA;;AAEA,8BAA8B,aAAa;;AAE3C;AACA;AACA;AACA;AACA;AACA,yCAAyC,oCAAoC;AAC7E,6CAA6C,oCAAoC;AACjF,KAAK,4BAA4B,oCAAoC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA,kCAAkC,2BAA2B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;ACpEA,eAAe,mBAAO,CAAC,6DAAQ;AAC/B;;AAEA;AACA;AACA,iCAAiC,qBAAqB;AACtD;AACA,iCAAiC,SAAS,EAAE;AAC5C,CAAC,YAAY;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,SAAS,qBAAqB;AAC3D,iCAAiC,aAAa;AAC9C;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACrBA;AACA,UAAU;AACV;;;;;;;;;;;;ACFA;;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA,WAAW,mBAAO,CAAC,6DAAQ;AAC3B,eAAe,mBAAO,CAAC,yEAAc;AACrC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,cAAc,mBAAO,CAAC,yEAAc;AACpC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,iEAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,qBAAqB;AACrB;AACA,SAAS;AACT,GAAG,EAAE;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA,aAAa,mBAAO,CAAC,mEAAW;AAChC,gBAAgB,mBAAO,CAAC,+DAAS;AACjC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,6DAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uCAAuC,sBAAsB,EAAE;AAC/D;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACpEa;AACb;AACA,gBAAgB,mBAAO,CAAC,2EAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACjBA;AACA,eAAe,mBAAO,CAAC,yEAAc;AACrC,UAAU,mBAAO,CAAC,2EAAe;AACjC,kBAAkB,mBAAO,CAAC,iFAAkB;AAC5C,eAAe,mBAAO,CAAC,2EAAe;AACtC,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,2EAAe;AACtC;AACA;AACA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,+DAAS;AACnB,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;ACxCA,eAAe,mBAAO,CAAC,yEAAc;AACrC,qBAAqB,mBAAO,CAAC,mFAAmB;AAChD,kBAAkB,mBAAO,CAAC,+EAAiB;AAC3C;;AAEA,YAAY,mBAAO,CAAC,6EAAgB;AACpC;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;AACA;AACA;;;;;;;;;;;;ACfA,SAAS,mBAAO,CAAC,yEAAc;AAC/B,eAAe,mBAAO,CAAC,yEAAc;AACrC,cAAc,mBAAO,CAAC,6EAAgB;;AAEtC,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA,UAAU,mBAAO,CAAC,2EAAe;AACjC,iBAAiB,mBAAO,CAAC,iFAAkB;AAC3C,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,kBAAkB,mBAAO,CAAC,+EAAiB;AAC3C,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,qBAAqB,mBAAO,CAAC,mFAAmB;AAChD;;AAEA,YAAY,mBAAO,CAAC,6EAAgB;AACpC;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf;AACA;;;;;;;;;;;;ACfA;AACA,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,WAAW,mBAAO,CAAC,6EAAgB;AACnC,iBAAiB;;AAEjB;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AClBA;AACA,YAAY,mBAAO,CAAC,+FAAyB;AAC7C,iBAAiB,mBAAO,CAAC,iFAAkB;;AAE3C;AACA;AACA;;;;;;;;;;;;ACNA;;;;;;;;;;;;ACAA;AACA,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,2EAAe;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;ACZA,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,mBAAmB,mBAAO,CAAC,mFAAmB;AAC9C,eAAe,mBAAO,CAAC,2EAAe;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AACA,YAAY,mBAAO,CAAC,+FAAyB;AAC7C,kBAAkB,mBAAO,CAAC,iFAAkB;;AAE5C;AACA;AACA;;;;;;;;;;;;ACNA,cAAc;;;;;;;;;;;;ACAd;AACA;AACA,YAAY;AACZ,GAAG;AACH,YAAY;AACZ;AACA;;;;;;;;;;;;ACNA,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC,2BAA2B,mBAAO,CAAC,mGAA2B;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACPA,eAAe,mBAAO,CAAC,uEAAa;AACpC;AACA;AACA;AACA;;;;;;;;;;;;ACJA,aAAa,mBAAO,CAAC,mEAAW;AAChC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,gBAAgB,mBAAO,CAAC,2FAAuB;AAC/C;AACA;;AAEA,mBAAO,CAAC,+DAAS;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;;;;;;;;;;;;AC9BY;;AAEb,cAAc,mBAAO,CAAC,qEAAY;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpBa;;AAEb,kBAAkB,mBAAO,CAAC,iEAAU;;AAEpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,cAAc,mBAAO,CAAC,6DAAQ,iBAAiB,mBAAO,CAAC,6EAAgB;AACvE;AACA;AACA,OAAO,YAAY,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,GAAG;AACR;AACA;;;;;;;;;;;;;ACxBa;AACb,aAAa,mBAAO,CAAC,mEAAW;AAChC,SAAS,mBAAO,CAAC,yEAAc;AAC/B,kBAAkB,mBAAO,CAAC,6EAAgB;AAC1C,cAAc,mBAAO,CAAC,6DAAQ;;AAE9B;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC,GAAG;AACH;;;;;;;;;;;;ACZA,UAAU,mBAAO,CAAC,yEAAc;AAChC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,UAAU,mBAAO,CAAC,6DAAQ;;AAE1B;AACA,oEAAoE,iCAAiC;AACrG;;;;;;;;;;;;ACNA,aAAa,mBAAO,CAAC,mEAAW;AAChC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B;AACA;AACA;;;;;;;;;;;;ACJA,WAAW,mBAAO,CAAC,+DAAS;AAC5B,aAAa,mBAAO,CAAC,mEAAW;AAChC;AACA,kDAAkD;;AAElD;AACA,qEAAqE;AACrE,CAAC;AACD;AACA,QAAQ,mBAAO,CAAC,qEAAY;AAC5B;AACA,CAAC;;;;;;;;;;;;ACXD;AACA,eAAe,mBAAO,CAAC,yEAAc;AACrC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,cAAc,mBAAO,CAAC,6DAAQ;AAC9B;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,cAAc,mBAAO,CAAC,qEAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA,sBAAsB;AACtB,eAAe,mBAAO,CAAC,yEAAc;AACrC,cAAc,mBAAO,CAAC,qEAAY;;AAElC;AACA;AACA;AACA;;;;;;;;;;;;ACPA,cAAc,mBAAO,CAAC,mEAAW;AACjC,YAAY,mBAAO,CAAC,iEAAU;AAC9B,cAAc,mBAAO,CAAC,qEAAY;AAClC;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AClBa;AACb,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,cAAc,mBAAO,CAAC,qEAAY;;AAElC;AACA;AACA;AACA;AACA;AACA,QAAQ,MAAM;AACd;AACA;;;;;;;;;;;;ACXA,cAAc,mBAAO,CAAC,mEAAW;AACjC,cAAc,mBAAO,CAAC,qEAAY;AAClC,YAAY,mBAAO,CAAC,iEAAU;AAC9B,aAAa,mBAAO,CAAC,yEAAc;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7BA;AACA;;;;;;;;;;;;ACDA,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,aAAa,mBAAO,CAAC,mEAAW;AAChC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,UAAU,mBAAO,CAAC,2EAAe;AACjC,aAAa,mBAAO,CAAC,mEAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAO,CAAC,6DAAQ;AACtB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnFA,gBAAgB,mBAAO,CAAC,2EAAe;AACvC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,qEAAY;AAClC,cAAc,mBAAO,CAAC,qEAAY;AAClC;AACA;AACA;;;;;;;;;;;;ACLA;AACA,gBAAgB,mBAAO,CAAC,2EAAe;AACvC;AACA;AACA,2DAA2D;AAC3D;;;;;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,qEAAY;AAClC;AACA;AACA;;;;;;;;;;;;ACJA;AACA,eAAe,mBAAO,CAAC,yEAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA,aAAa,mBAAO,CAAC,mEAAW;AAChC;;AAEA;;;;;;;;;;;;ACHA,eAAe,mBAAO,CAAC,yEAAc;AACrC;AACA;AACA;AACA;;;;;;;;;;;;ACJA,aAAa,mBAAO,CAAC,mEAAW;AAChC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,cAAc,mBAAO,CAAC,qEAAY;AAClC,aAAa,mBAAO,CAAC,qEAAY;AACjC,qBAAqB,mBAAO,CAAC,yEAAc;AAC3C;AACA,0DAA0D,sBAAsB;AAChF,kFAAkF,wBAAwB;AAC1G;;;;;;;;;;;;ACRA,YAAY,mBAAO,CAAC,6DAAQ;;;;;;;;;;;;ACA5B,YAAY,mBAAO,CAAC,mEAAW;AAC/B,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,aAAa,mBAAO,CAAC,mEAAW;AAChC;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACVA,cAAc,mBAAO,CAAC,qEAAY;AAClC,eAAe,mBAAO,CAAC,6DAAQ;AAC/B,gBAAgB,mBAAO,CAAC,yEAAc;AACtC,iBAAiB,mBAAO,CAAC,+DAAS;AAClC;AACA;AACA;AACA;;;;;;;;;;;;;ACPa;AACb,uBAAuB,mBAAO,CAAC,2FAAuB;AACtD,WAAW,mBAAO,CAAC,yEAAc;AACjC,gBAAgB,mBAAO,CAAC,yEAAc;AACtC,gBAAgB,mBAAO,CAAC,2EAAe;;AAEvC;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC,gCAAgC;AAChC,cAAc;AACd,iBAAiB;AACjB;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACjCa;AACb,aAAa,mBAAO,CAAC,yFAAsB;AAC3C,eAAe,mBAAO,CAAC,6FAAwB;AAC/C;;AAEA;AACA,iBAAiB,mBAAO,CAAC,2EAAe;AACxC,yBAAyB,mEAAmE;AAC5F,CAAC;AACD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AClBY;AACb;AACA,cAAc,mBAAO,CAAC,qEAAY;AAClC;AACA,KAAK,mBAAO,CAAC,6DAAQ;AACrB;AACA,EAAE,mBAAO,CAAC,uEAAa;AACvB;AACA,GAAG;AACH;;;;;;;;;;;;;ACTa;AACb,cAAc,mBAAO,CAAC,qEAAY;AAClC,aAAa,mBAAO,CAAC,mEAAW;AAChC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,cAAc,mBAAO,CAAC,qEAAY;AAClC,cAAc,mBAAO,CAAC,mEAAW;AACjC,eAAe,mBAAO,CAAC,yEAAc;AACrC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC,YAAY,mBAAO,CAAC,mEAAW;AAC/B,yBAAyB,mBAAO,CAAC,6FAAwB;AACzD,WAAW,mBAAO,CAAC,+DAAS;AAC5B,gBAAgB,mBAAO,CAAC,yEAAc;AACtC,iCAAiC,mBAAO,CAAC,mGAA2B;AACpE,cAAc,mBAAO,CAAC,qEAAY;AAClC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,qBAAqB,mBAAO,CAAC,qFAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,EAAE,mBAAO,CAAC,6DAAQ;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,YAAY;AACf,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,mBAAmB,kCAAkC;AACrD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,eAAe,uCAAuC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,yBAAyB,KAAK;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,gBAAgB;AAChB,oBAAoB;AACpB;AACA,uBAAuB,mBAAO,CAAC,+EAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0DAA0D,oBAAoB;AAC9E,mBAAO,CAAC,yFAAsB;AAC9B,mBAAO,CAAC,6EAAgB;AACxB,UAAU,mBAAO,CAAC,+DAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,6EAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC7RY;AACb,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC,mBAAO,CAAC,mEAAW;AACnB;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;;;;;;;;;;;;;ACRY;;AAEb,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC,yBAAyB,mBAAO,CAAC,+FAAyB;AAC1D,iBAAiB,mBAAO,CAAC,+FAAyB;;AAElD;AACA,mBAAO,CAAC,2EAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACvCY;;AAEb,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,yBAAyB,mBAAO,CAAC,+FAAyB;AAC1D,iBAAiB,mBAAO,CAAC,+FAAyB;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAO,CAAC,2EAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;;ACrHY;;AAEb,eAAe,mBAAO,CAAC,yEAAc;AACrC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,iBAAiB,mBAAO,CAAC,+FAAyB;;AAElD;AACA,mBAAO,CAAC,2EAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC9BY;;AAEb,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC,yBAAyB,mBAAO,CAAC,6FAAwB;AACzD,yBAAyB,mBAAO,CAAC,+FAAyB;AAC1D,eAAe,mBAAO,CAAC,yEAAc;AACrC,qBAAqB,mBAAO,CAAC,+FAAyB;AACtD,iBAAiB,mBAAO,CAAC,6EAAgB;AACzC,YAAY,mBAAO,CAAC,iEAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAqC,yBAAyB,EAAE;;AAEhE;AACA,mBAAO,CAAC,2EAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yBAAyB,mBAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACrIY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb,cAAc,mBAAO,CAAC,mEAAW;AACjC,UAAU,mBAAO,CAAC,yEAAc;AAChC;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACRD;AACa;AACb,cAAc,mBAAO,CAAC,mEAAW;AACjC,eAAe,mBAAO,CAAC,yEAAc;AACrC,cAAc,mBAAO,CAAC,mFAAmB;AACzC;AACA;;AAEA,gCAAgC,mBAAO,CAAC,qFAAoB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACnBY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACND,cAAc,mBAAO,CAAC,mEAAW;AACjC,sBAAsB,mBAAO,CAAC,yFAAsB;AACpD;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;;ACtBD;AACa;AACb,cAAc,mBAAO,CAAC,mEAAW;AACjC,cAAc,mBAAO,CAAC,mFAAmB;AACzC;;AAEA,gCAAgC,mBAAO,CAAC,qFAAoB;AAC5D;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACXY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb,UAAU,mBAAO,CAAC,yEAAc;;AAEhC;AACA,mBAAO,CAAC,6EAAgB;AACxB,6BAA6B;AAC7B,cAAc;AACd;AACA,CAAC;AACD;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,UAAU;AACV,CAAC;;;;;;;;;;;;;AChBY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;ACND,cAAc,mBAAO,CAAC,mEAAW;AACjC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,eAAe,mBAAO,CAAC,yEAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;;;;;;;;;;;ACjBD,cAAc,mBAAO,CAAC,mEAAW;;AAEjC;AACA;AACA,UAAU,mBAAO,CAAC,iFAAkB;AACpC,CAAC;;;;;;;;;;;;;ACLY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACND;AACa;AACb,cAAc,mBAAO,CAAC,mEAAW;AACjC,eAAe,mBAAO,CAAC,yEAAc;AACrC,cAAc,mBAAO,CAAC,mFAAmB;AACzC;AACA;;AAEA,gCAAgC,mBAAO,CAAC,qFAAoB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACjBY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,mBAAO,CAAC,6EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACNY;AACb;AACA,aAAa,mBAAO,CAAC,mEAAW;AAChC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,kBAAkB,mBAAO,CAAC,6EAAgB;AAC1C,cAAc,mBAAO,CAAC,mEAAW;AACjC,eAAe,mBAAO,CAAC,uEAAa;AACpC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,aAAa,mBAAO,CAAC,iEAAU;AAC/B,aAAa,mBAAO,CAAC,mEAAW;AAChC,qBAAqB,mBAAO,CAAC,yFAAsB;AACnD,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,UAAU,mBAAO,CAAC,6DAAQ;AAC1B,aAAa,mBAAO,CAAC,qEAAY;AACjC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,eAAe,mBAAO,CAAC,yEAAc;AACrC,cAAc,mBAAO,CAAC,uEAAa;AACnC,eAAe,mBAAO,CAAC,yEAAc;AACrC,eAAe,mBAAO,CAAC,yEAAc;AACrC,gBAAgB,mBAAO,CAAC,2EAAe;AACvC,kBAAkB,mBAAO,CAAC,+EAAiB;AAC3C,iBAAiB,mBAAO,CAAC,iFAAkB;AAC3C,cAAc,mBAAO,CAAC,iFAAkB;AACxC,cAAc,mBAAO,CAAC,qFAAoB;AAC1C,YAAY,mBAAO,CAAC,6EAAgB;AACpC,UAAU,mBAAO,CAAC,yEAAc;AAChC,YAAY,mBAAO,CAAC,6EAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,sBAAsB,uBAAuB,WAAW,IAAI;AAC5D,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,KAAK;AACL;AACA,sBAAsB,mCAAmC;AACzD,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gCAAgC;AAChG;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,EAAE,mBAAO,CAAC,6EAAgB;AAC1B,EAAE,mBAAO,CAAC,2EAAe;AACzB,EAAE,mBAAO,CAAC,6EAAgB;;AAE1B,sBAAsB,mBAAO,CAAC,qEAAY;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0DAA0D,kBAAkB;;AAE5E;AACA;AACA;AACA,oBAAoB,uBAAuB;;AAE3C,oDAAoD,6BAA6B;;AAEjF;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,0BAA0B,eAAe,EAAE;AAC3C,0BAA0B,gBAAgB;AAC1C,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,OAAO,QAAQ,iCAAiC;AACpG,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,oCAAoC,mBAAO,CAAC,+DAAS;AACrD;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzOA,iBAAiB,mBAAO,CAAC,yFAAsB;AAC/C,cAAc,mBAAO,CAAC,6EAAgB;AACtC,eAAe,mBAAO,CAAC,uEAAa;AACpC,aAAa,mBAAO,CAAC,mEAAW;AAChC,WAAW,mBAAO,CAAC,+DAAS;AAC5B,gBAAgB,mBAAO,CAAC,yEAAc;AACtC,UAAU,mBAAO,CAAC,6DAAQ;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oDAAoD,wBAAwB;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzDA,2BAA2B,mBAAO,CAAC,kGAAsC;AACzE;AACA,cAAc,QAAS,41BAA41B,oBAAoB,kBAAkB,GAAG,SAAS,kBAAkB,cAAc,0BAA0B,wBAAwB,GAAG,eAAe,sBAAsB,GAAG,qBAAqB,yBAAyB,eAAe,iBAAiB,oBAAoB,0BAA0B,GAAG,4BAA4B,yCAAyC,4BAA4B,yCAAyC,8BAA8B,wCAAwC,2BAA2B,wCAAwC,oBAAoB,sCAAsC,uCAAuC,GAAG,sBAAsB,qCAAqC,sCAAsC,GAAG,mBAAmB,qCAAqC,sCAAsC,GAAG,0BAA0B,wBAAwB,GAAG,uBAAuB,yBAAyB,GAAG,6BAA6B,yBAAyB,yBAAyB,GAAG,mCAAmC,0BAA0B,yBAAyB,GAAG,mDAAmD,0BAA0B,GAAG,oBAAoB,yBAAyB,0BAA0B,yBAAyB,mBAAmB,yBAAyB,yBAAyB,iBAAiB,mBAAmB,GAAG,sBAAsB,uBAAuB,yBAAyB,GAAG,wBAAwB,qBAAqB,wBAAwB,GAAG;;;;;;;;;;;;;ACF75E,2BAA2B,mBAAO,CAAC,kHAAsD;AACzF;AACA,cAAc,QAAS,q2BAAq2B,sCAAsC,mFAAmF,GAAG,kCAAkC,wBAAwB,oBAAoB,qBAAqB,6BAA6B,8CAA8C,mFAAmF,GAAG,oCAAoC,oBAAoB,GAAG,sCAAsC,qBAAqB,GAAG,yCAAyC,uBAAuB,GAAG,mGAAmG,sBAAsB,GAAG,wDAAwD,0BAA0B,GAAG,+CAA+C,0BAA0B,GAAG;;;;;;;;;;;;;ACFrtD,2BAA2B,mBAAO,CAAC,kHAAsD;AACzF;AACA,cAAc,QAAS,61BAA61B,mBAAmB,oEAAoE,GAAG,qBAAqB,qBAAqB,yBAAyB,iBAAiB,kBAAkB,GAAG,oBAAoB,oEAAoE,yBAAyB,wBAAwB,yBAAyB,wBAAwB,uBAAuB,uBAAuB,GAAG,wBAAwB,mBAAmB,GAAG,2BAA2B,oBAAoB,GAAG,4BAA4B,aAAa,iBAAiB,mBAAmB,oBAAoB,GAAG,qCAAqC,iBAAiB,GAAG,sCAAsC,mBAAmB,sBAAsB,GAAG,yBAAyB,mBAAmB,GAAG,yCAAyC,sBAAsB,GAAG,uCAAuC,sBAAsB,GAAG,2EAA2E,wBAAwB,GAAG;;;;;;;;;;;;;ACFx4D,2BAA2B,mBAAO,CAAC,kHAAsD;AACzF;AACA,cAAc,QAAS,wEAAwE;;AAE/F;AACA,cAAc,QAAS,g4BAAg4B,yBAAyB,kBAAkB,gBAAgB,yBAAyB,mBAAmB,qBAAqB,oBAAoB,0BAA0B,wBAAwB,yBAAyB,yBAAyB,GAAG,yDAAyD,qBAAqB,uBAAuB,wBAAwB,wBAAwB,0BAA0B,8CAA8C,GAAG,oBAAoB,4BAA4B,qBAAqB,gCAAgC,qBAAqB,0BAA0B,GAAG,2BAA2B,0BAA0B,GAAG,4BAA4B,0BAA0B,8CAA8C,GAAG,4DAA4D,2CAA2C,8CAA8C,mFAAmF,GAAG,iBAAiB,uBAAuB,0BAA0B,GAAG,mBAAmB,wBAAwB,0BAA0B,GAAG,yBAAyB,0BAA0B,GAAG,qBAAqB,qBAAqB,GAAG,kBAAkB,0BAA0B,qBAAqB,GAAG,wBAAwB,0BAA0B,GAAG,0BAA0B,0BAA0B,GAAG,4BAA4B,oBAAoB,GAAG;;;;;;;;;;;;;ACLl2E,2BAA2B,mBAAO,CAAC,qHAAyD;AAC5F;AACA,cAAc,QAAS,m2BAAm2B,sBAAsB,qCAAqC,mBAAmB,mBAAmB,GAAG,oBAAoB,iBAAiB,GAAG,mBAAmB,sBAAsB,4BAA4B,mBAAmB,iBAAiB,mBAAmB,sBAAsB,wBAAwB,GAAG,4CAA4C,sBAAsB,GAAG,mBAAmB,uBAAuB,0BAA0B,uBAAuB,GAAG,oBAAoB,sBAAsB,iBAAiB,2BAA2B,0BAA0B,sBAAsB,GAAG,4BAA4B,wBAAwB,GAAG,mBAAmB,kBAAkB,sBAAsB,GAAG,yBAAyB,iBAAiB,GAAG,qBAAqB,iBAAiB,sBAAsB,GAAG,mBAAmB,iBAAiB,oBAAoB,wBAAwB,GAAG,yBAAyB,kBAAkB,GAAG,4BAA4B,mBAAmB,wBAAwB,GAAG,4CAA4C,wBAAwB,GAAG,2CAA2C,aAAa,iBAAiB,mBAAmB,oBAAoB,GAAG,6DAA6D,oBAAoB,GAAG,oDAAoD,iBAAiB,GAAG,qDAAqD,mBAAmB,sBAAsB,GAAG,sBAAsB,sBAAsB,mBAAmB,iBAAiB,sBAAsB,0BAA0B,GAAG,wBAAwB,wBAAwB,oBAAoB,GAAG,kCAAkC,iBAAiB,GAAG,+BAA+B,sBAAsB,GAAG,UAAU,sBAAsB,mBAAmB,iBAAiB,8BAA8B,qBAAqB,0BAA0B,GAAG,mEAAmE,0BAA0B,uCAAuC,sBAAsB,GAAG,yEAAyE,qBAAqB,0CAA0C,iBAAiB,GAAG,qEAAqE,yBAAyB,wCAAwC,qBAAqB,GAAG,0BAA0B,kBAAkB,oBAAoB,wBAAwB,GAAG,4BAA4B,sBAAsB,GAAG,SAAS,0BAA0B,wBAAwB,yBAAyB,GAAG;;;;;;;;;;;;;;ACF/7G;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,uCAAuC,gBAAgB;AACvD,OAAO;AACP;AACA;AACA,KAAK;AACL,IAAI;;;AAGJ;AACA;AACA;AACA;;AAEA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,oBAAoB;AACnC,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA,KAAK,OAAO;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,0DAA0D,gBAAgB;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,GAAG,yBAAyB;AAC7G;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,KAA6B;AACjC;AACA,CAAC,WAAW,KAA6B,IAAI,qGAAM,eAAe,uGAAU;AAC5E,EAAE,mCAAuB;AACzB;AACA,GAAG;AAAA,oGAAC;AACJ;;;;;;;;;;;;AC3LA;AACA,mBAAmB,mBAAO,CAAC,mEAAe;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;;;;;;;;;;AC3CA;AACA;AACA,eAAe,mBAAO,CAAC,iFAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACtGa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E,uCAAuC;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzDa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,4FAAyB;AACpD,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9Ba;AACb,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,4FAAyB;AACnD,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACda;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,4FAAyB;AACnD,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACda;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACfa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACXa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,WAAW,mBAAO,CAAC,oEAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,aAAa;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACnCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACZa;AACb;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,oFAAqB;AAC7C,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,wBAAwB,mBAAO,CAAC,oGAA6B;AAC7D,gBAAgB,mBAAO,CAAC,oFAAqB;AAC7C,iBAAiB,mBAAO,CAAC,0FAAwB;AACjD,0BAA0B,mBAAO,CAAC,oGAA6B;AAC/D,WAAW,mBAAO,CAAC,oEAAa;AAChC,sBAAsB,mBAAO,CAAC,0FAAwB;AACtD,2BAA2B,mBAAO,CAAC,iGAAsB;AACzD,eAAe,mBAAO,CAAC,yEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,oDAAoD;AACpD;AACA,UAAU;AACV;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gCAAgC,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA,qEAAqE,mBAAmB,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,SAAS,EAAE;AACX;AACA;AACA;AACA;AACA;AACA,oDAAoD,gBAAgB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACpUa;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,oEAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AClBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACba;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,0BAA0B,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iCAAiC,EAAE;AAC3E,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC9Ea;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,iGAA2B;AAC9C;AACA,kBAAkB,mBAAO,CAAC,yFAAuB;AACjD;AACA,sBAAsB,mBAAO,CAAC,iGAA2B;AACzD;AACA;AACA;AACA,yBAAyB,mBAAO,CAAC,uGAA8B;AAC/D;AACA;AACA,mBAAmB,mBAAO,CAAC,6FAAyB;AACpD;AACA,eAAe,mBAAO,CAAC,qFAAqB;AAC5C;AACA,cAAc,mBAAO,CAAC,mFAAoB;AAC1C;AACA,eAAe,mBAAO,CAAC,qFAAqB;AAC5C;AACA;AACA,iBAAiB,mBAAO,CAAC,yFAAuB;AAChD;AACA,kBAAkB,mBAAO,CAAC,2FAAwB;AAClD;AACA,qBAAqB,mBAAO,CAAC,iGAA2B;AACxD;AACA,oBAAoB,mBAAO,CAAC,+FAA0B;AACtD;AACA,uBAAuB,mBAAO,CAAC,qGAA6B;AAC5D;AACA,wBAAwB,mBAAO,CAAC,mGAA4B;AAC5D;AACA,WAAW,mBAAO,CAAC,mEAAY;AAC/B;AACA,wBAAwB,mBAAO,CAAC,uGAA8B;AAC9D;AACA,2BAA2B,mBAAO,CAAC,qGAA6B;AAChE;AACA;AACA;AACA;AACA,sBAAsB,mBAAO,CAAC,yFAAuB;AACrD;AACA,sBAAsB,mBAAO,CAAC,yFAAuB;AACrD;;;;;;;;;;;;;AC9Ca;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,oEAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AChBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,6DAA6D;AAC1F;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AClBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACpBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACTa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,gGAA2B;AACzD,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,mBAAmB,mBAAO,CAAC,oFAAqB;AAChD,sBAAsB,mBAAO,CAAC,0FAAwB;AACtD,gBAAgB,mBAAO,CAAC,0EAAW;AACnC,iBAAiB,mBAAO,CAAC,4EAAY;AACrC,aAAa,mBAAO,CAAC,oEAAQ;AAC7B,yBAAyB,mBAAO,CAAC,4FAAoB;AACrD,gBAAgB,mBAAO,CAAC,0EAAW;AACnC,eAAe,mBAAO,CAAC,wEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Ja;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC1Ba;AACb,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,sFAAsB;AAC7C,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,sBAAsB,mBAAO,CAAC,0FAAwB;AACtD;AACA,eAAe,mBAAO,CAAC,wEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3Ha;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,oEAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACvBa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,WAAW,mBAAO,CAAC,oEAAa;AAChC,iBAAiB,mBAAO,CAAC,4EAAY;AACrC,yBAAyB,mBAAO,CAAC,4FAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yCAAyC,EAAE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzFa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,4FAAyB;AACpD,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjDa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,mBAAmB,mBAAO,CAAC,oFAAqB;AAChD,sBAAsB,mBAAO,CAAC,0FAAwB;AACtD,sBAAsB,mBAAO,CAAC,wFAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAmG,sDAAsD,EAAE;AAC3J;AACA;AACA,8FAA8F,iDAAiD,EAAE;AACjJ;AACA;AACA,+FAA+F,kDAAkD,EAAE;AACnJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjGa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,+BAA+B,mBAAO,CAAC,sGAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACtBa;AACb,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,4FAAqB;AACvD,0BAA0B,mBAAO,CAAC,4FAAqB;AACvD,4BAA4B,mBAAO,CAAC,gGAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACvEa;AACb,8CAA8C,cAAc;AAC5D,4BAA4B,mBAAO,CAAC,gGAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACba;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD,sBAAsB,mBAAO,CAAC,kGAA4B;AAC1D,kCAAkC,mBAAO,CAAC,4GAA6B;AACvE,+BAA+B,mBAAO,CAAC,sGAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iDAAiD;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,uCAAuC,EAAE;AACzF;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACxEa;AACb,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,4FAAqB;AACvD,4BAA4B,mBAAO,CAAC,gGAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC5Da;AACb,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,4FAAqB;AACvD,2BAA2B,mBAAO,CAAC,8FAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACjGa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,kGAA4B;AACvD,iBAAiB,mBAAO,CAAC,sFAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;;;;;;;;;;;;;ACvCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA,+CAA+C,6CAA6C,EAAE;AAC9F;AACA;AACA;;;;;;;;;;;;;ACZa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,4FAAyB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;ACvLtC;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,mDAAmD;AAC3G;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE,6BAA6B,gBAAgB,kBAAkB;AAC/D;AACA;AACA;AACA;AACA,+BAA+B,4CAA4C;AAC3E;AACA,mCAAmC,wBAAwB,kBAAkB,EAAE;AAC/E,mCAAmC,yBAAyB,EAAE,EAAE;AAChE;AACA,uCAAuC,8BAA8B;AACrE,uCAAuC,mBAAmB,EAAE;AAC5D;AACA,uCAAuC,qDAAqD;AAC5F,uCAAuC,iBAAiB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,2CAA2C;AAC3C,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,QAAQ;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,uBAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,0BAA0B;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,aAAa;AAChF,qEAAqE,aAAa;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B,EAAE;AAClE;AACA;AACA,iBAAiB;AACjB,oDAAoD,+CAA+C;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,UAAU;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,0DAA0D;AAC5G,oDAAoD,4DAA4D;AAChH,qDAAqD,4DAA4D;AACjH,2DAA2D,uBAAuB;AAClF,6DAA6D,uBAAuB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uBAAuB,EAAE;AAC/D;AACA;AACA,iBAAiB;AACjB,sDAAsD,6BAA6B;AACnF,sDAAsD,0CAA0C;AAChG,yDAAyD,gCAAgC;AACzF,mDAAmD,mBAAmB;AACtE,kDAAkD,yBAAyB;AAC3E,oDAAoD,2BAA2B;AAC/E,qDAAqD,4BAA4B;AACjF,2DAA2D,oBAAoB;AAC/E,6DAA6D,oBAAoB;AACjF;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,0BAA0B;AACtF;AACA;AACA;AACA;AACA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC,0BAA0B;;;;;;;;;;;;;;AC1mCd;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;AACnD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Ha;;AAEb;AACA;AACA,CAAC;;AAED;AACA,0EAA0E;;;AAG1E;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAuB,8BAA8B;AACrD,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,aAAa,mBAAO,CAAC,iGAAiC;;AAEtD;;AAEA,SAAS,mBAAO,CAAC,uDAAY;;AAE7B;;AAEA,aAAa,mBAAO,CAAC,uEAAS;;AAE9B,sCAAsC,uCAAuC,gBAAgB;;AAE7F,2CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,C;;;;;;;;;;;;ACzIa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA,aAAa,mBAAO,CAAC,+DAAgB;;AAErC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0CAA0C;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,C;;;;;;;;;;;AC3CA,iBAAiB,mBAAO,CAAC,+EAAe;;;;;;;;;;;;;ACAxC;AAAA;AAAA;AAAA;AAAgC;AACL;AAC3B;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,iBAAiB;AACjB;AACA;AACA,YAAY,yCAAQ;AACpB;AACA;AACA,iBAAiB,6CAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAQ;AACpB;AACA;AACA,iBAAiB,6CAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC,gBAAgB,6CAAY;AAC5B,8BAA8B,oDAAK;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oDAAK;AAChB;AACA;AACe,gEAAC,EAAC;AACjB,6B;;;;;;;;;;;;ACvDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,yEAAU,EAAC;AAC1B,sC;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAO;AACA;AACP;AACA;AACA,8B;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4B;AACD;AACW;AACtC,qBAAqB,wBAAwB;AAC7C,mBAAmB,wBAAwB;AAC3C,gBAAgB,sDAAK,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,sBAAsB,aAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACwB;AACQ;AACzB;AACP;AACA,8CAA8C,mDAAU;AACxD,eAAe,kBAAkB;AACjC;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sDAAK,4CAA4C;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA,gBAAgB,yCAAQ;AACxB,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,6CAAY;AACjC;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,oBAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA,2BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,oBAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,+BAA+B;AAClD;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;AClTA;AAAA;AAAA;AAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,WAAW,4CAAC;AACZ;AACA,eAAe,iCAAiC;AAChD;AACA;AACA,KAAK;AACL;AACe,oEAAK,EAAC;AACrB,iC;;;;;;;;;;;;AC5CA;AAAA;AAAO;AACP;AACA,YAAY;AACZ;AACA;AACe,oEAAK,EAAC;AACrB,iC;;;;;;;;;;;;ACNa;AACb,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,wDAAS;AAC/B,SAAS,mBAAO,CAAC,kDAAM;AACvB;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6B;;;;;;;;;;;;AC1Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,8B;;;;;;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,sC;;;;;;;;;;;;ACtDa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,iC;;;;;;;;;;;;ACxBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;AC9Fa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA,iC;;;;;;;;;;;;ACzBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA,+BAA+B,kBAAkB,SAAS,EAAE,EAAE;AAC9D;AACA;AACA,2BAA2B,iBAAiB,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,kBAAkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC/Fa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACRA,cAAc,mBAAO,CAAC,iKAAoD;;AAE1E,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,gGAAsC;;AAE3D;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACnBF;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,uBAAuB,mBAAO,CAAC,+FAAyB;AACxD,+BAA+B,mBAAO,CAAC,yHAAsC;AAC7E,kBAAkB,mBAAO,CAAC,2FAAuB;AACjD,kBAAkB,mBAAO,CAAC,6GAAoC;AAC9D,eAAe,mBAAO,CAAC,0EAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,0DAA0D,+BAA+B,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,EAAE;AACzE;AACA;AACA,uEAAuE,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,wBAAwB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,uBAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,mDAAmD;AAChG,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;AChJa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,mDAAmD,EAAE;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;AC/Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;ACrBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACpCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,wBAAwB,EAAE;AACjF;AACA,4CAA4C,wBAAwB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mCAAmC,EAAE;AAC5E,0CAA0C,mCAAmC,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kD;;;;;;;;;;;;AClEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,6EAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,2BAA2B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD,8BAA8B,2BAA2B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACtGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,kBAAkB,mBAAO,CAAC,mFAAuB;AACjD,cAAc,mBAAO,CAAC,iEAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gD;;;;;;;;;;;;ACnFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,iEAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iD;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,uBAAuB,mBAAO,CAAC,+FAAyB;AACxD,+BAA+B,mBAAO,CAAC,yHAAsC;AAC7E,gBAAgB,mBAAO,CAAC,6EAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8DAA8D,mBAAmB,EAAE;AACnF,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,qBAAqB;AACrB;AACA;AACA,uCAAuC;AACvC;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,aAAa;AACb,SAAS,EAAE,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gCAAgC,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;AC9da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;ACzKa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,gEAAS;AAC/B,0BAA0B,mBAAO,CAAC,0GAA8B;AAChE,gBAAgB,mBAAO,CAAC,4EAAkB;AAC1C,0BAA0B,mBAAO,CAAC,wGAA6B;AAC/D,uBAAuB,mBAAO,CAAC,kGAA0B;AACzD,sBAAsB,mBAAO,CAAC,kGAA0B;AACxD,uBAAuB,mBAAO,CAAC,8FAAwB;AACvD,+BAA+B,mBAAO,CAAC,wHAAqC;AAC5E,eAAe,mBAAO,CAAC,8EAAgB;AACvC,uBAAuB,mBAAO,CAAC,8FAAwB;AACvD,mBAAmB,mBAAO,CAAC,sFAAoB;AAC/C,iBAAiB,mBAAO,CAAC,kFAAkB;AAC3C,yBAAyB,mBAAO,CAAC,kGAA0B;AAC3D,aAAa,mBAAO,CAAC,0EAAc;AACnC,qBAAqB,mBAAO,CAAC,0FAAsB;AACnD,mBAAmB,mBAAO,CAAC,sFAAoB;AAC/C,qBAAqB,mBAAO,CAAC,0FAAsB;AACnD,6BAA6B,mBAAO,CAAC,gHAAiC;AACtE,4BAA4B,mBAAO,CAAC,wGAA6B;AACjE,qBAAqB,mBAAO,CAAC,wGAA6B;AAC1D,kBAAkB,mBAAO,CAAC,0FAAsB;AAChD,8BAA8B,mBAAO,CAAC,4HAAuC;AAC7E,uBAAuB,mBAAO,CAAC,kGAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,+BAA+B;AAC5E;AACA;AACA;AACA,6CAA6C,+BAA+B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,+BAA+B;AAC5E,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC5Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,+EAAiB;AACxC,gBAAgB,mBAAO,CAAC,uFAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,uCAAuC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;AChIa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,uFAAqB;AAC7C,cAAc,mBAAO,CAAC,iEAAU;AAChC,0BAA0B,mBAAO,CAAC,iGAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,+EAA+E;AACrH,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACtGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,wEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,kCAAkC,EAAE;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,iDAAiD,EAAE;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,+DAA+D,EAAE;AACxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACpKa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,wEAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,gBAAgB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,0DAA0D;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wC;;;;;;;;;;;;AC3Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,QAAQ;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2BAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4BAA4B,YAAY;AACxC;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACnQa;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,aAAa,mBAAO,CAAC,2EAAQ;AAC7B,iBAAiB,mBAAO,CAAC,mFAAmB;AAC5C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,8CAA8C,uBAAuB,EAAE;AACvE;AACA;AACA;AACA,2DAA2D,gBAAgB,EAAE;AAC7E;AACA;AACA;AACA;AACA,+CAA+C,uBAAuB,EAAE;AACxE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uDAAuD,2BAA2B,EAAE;AACpF;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,yCAAyC,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,yCAAyC,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;ACtJa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;ACzBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AChEa;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,gBAAgB,mBAAO,CAAC,uFAAqB;AAC7C,cAAc,mBAAO,CAAC,iEAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA,iDAAiD,gDAAgD,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iD;;;;;;;;;;;;AC3Ga;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AC/Ga;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,oBAAoB,mBAAO,CAAC,kFAAe;AAC3C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;;;;;;AC9Ca;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;ACpDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,mBAAmB,mBAAO,CAAC,gFAAc;AACzC,oBAAoB,mBAAO,CAAC,kFAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AC1Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,eAAe,mBAAO,CAAC,+EAAiB;AACxC,oBAAoB,mBAAO,CAAC,kFAAe;AAC3C;AACA;AACA,sCAAsC,mBAAmB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6DAA6D,EAAE;AACrG,qCAAqC,oBAAoB,EAAE;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;;;;;;ACnGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,eAAe,mBAAO,CAAC,+EAAiB;AACxC,eAAe,mBAAO,CAAC,mFAAmB;AAC1C,oBAAoB,mBAAO,CAAC,kFAAe;AAC3C,mBAAmB,mBAAO,CAAC,gFAAc;AACzC;AACA;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,+DAA+D,EAAE;AACvG,qCAAqC,oBAAoB,EAAE;AAC3D;AACA;AACA,iDAAiD,uBAAuB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,mEAAmE,sCAAsC,EAAE;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AC5Na;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,+DAAU;AACnC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,6BAA6B,gDAAgD,EAAE;AAC/E;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;ACvGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,uBAAuB,mBAAO,CAAC,+FAAyB;AACxD,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,kBAAkB,mBAAO,CAAC,mFAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kCAAkC,EAAE;AAC1E;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,8BAA8B;AACxE;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,8DAA8D;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;AC1Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,+BAA+B,mBAAO,CAAC,yHAAsC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AC9Fa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,iEAAU;AAChC,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,EAAE;AACH;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;AC/Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA,qBAAqB,mBAAO,CAAC,wEAAc,EAAE;AAC7C,iBAAiB,mBAAO,CAAC,+DAAU;AACnC,cAAc,mBAAO,CAAC,+EAAwB;AAC9C,mBAAmB,mBAAO,CAAC,yFAA6B;AACxD,cAAc,mBAAO,CAAC,+EAAwB;AAC9C,uBAAuB,mBAAO,CAAC,iGAAiC;AAChE,cAAc,mBAAO,CAAC,+EAAwB;AAC9C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iEAAU;AAChC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,0BAA0B,mBAAO,CAAC,2GAA+B;AACjE,oBAAoB,mBAAO,CAAC,kFAAe;AAC3C,mBAAmB,mBAAO,CAAC,gFAAc;AACzC,uBAAuB,mBAAO,CAAC,+FAAyB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,uCAAuC,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yCAAyC,EAAE;AACjG;AACA;AACA,sDAAsD,+BAA+B,EAAE;AACvF;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,uCAAuC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,2BAA2B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,6BAA6B;AAC/E;AACA;AACA;AACA;AACA,kDAAkD,6BAA6B;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,4BAA4B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gDAAgD;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACtPa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,oBAAoB,mBAAO,CAAC,kFAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;AC7Ca;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6BAA6B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;ACtFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,uFAAyB;AAChD,cAAc,mBAAO,CAAC,2EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,2BAA2B,EAAE;AACzF;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;ACjIa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,cAAc,mBAAO,CAAC,2EAAS;AAC/B,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA,0CAA0C,uCAAuC,EAAE;AACnF;AACA;AACA;AACA,0CAA0C,uCAAuC,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kDAAkD;AACxF,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,+C;;;;;;;;;;;;ACnKa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,4BAA4B,mBAAO,CAAC,uGAAuB;AAC3D,8BAA8B,mBAAO,CAAC,2GAAyB;AAC/D,eAAe,mBAAO,CAAC,6EAAU;AACjC,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E;AACA,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AChCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,+FAAmB;AACnD,cAAc,mBAAO,CAAC,2EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;;;;;;ACvGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,uFAAyB;AAChD,4BAA4B,mBAAO,CAAC,uGAAuB;AAC3D,cAAc,mBAAO,CAAC,2EAAS;AAC/B,eAAe,mBAAO,CAAC,6EAAU;AACjC,cAAc,mBAAO,CAAC,mFAAiB;AACvC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iD;;;;;;;;;;;;ACjJa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,2EAAS;AAC/B,oBAAoB,mBAAO,CAAC,uFAAe;AAC3C,oBAAoB,mBAAO,CAAC,uFAAe;AAC3C,qBAAqB,mBAAO,CAAC,yFAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACjIa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,uFAAyB;AAChD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC7Ja;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,uGAAiC;AAC3D;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;AC7Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,+FAAmB;AACnD,cAAc,mBAAO,CAAC,2EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AC7Fa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,wBAAwB,mBAAO,CAAC,+FAAmB;AACnD,cAAc,mBAAO,CAAC,2EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;;;;;;ACvGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA,2DAA2D,oDAAoD,EAAE;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACzDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,uBAAuB,mBAAO,CAAC,6FAAkB;AACjD;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACvBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,+EAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC1Ca;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,uFAAmB;AACzC,eAAe,mBAAO,CAAC,qFAAkB;AACzC,mBAAmB,mBAAO,CAAC,iGAAwB;AACnD;AACA;AACA,yCAAyC,sBAAsB;AAC/D;AACA;AACA;AACA,wEAAwE,kCAAkC,EAAE;AAC5G,2DAA2D,0CAA0C,0DAA0D,EAAE,EAAE,EAAE;AACrK;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,oCAAoC,EAAE;AAClI,kDAAkD,wJAAwJ,EAAE;AAC5M;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;ACrFa;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,eAAe,mBAAO,CAAC,2FAA2B;AAClD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,cAAc,mBAAO,CAAC,yEAAkB;AACxC,qBAAqB,mBAAO,CAAC,mHAAuC;AACpE,8BAA8B,mBAAO,CAAC,qIAAgD;AACtF,iBAAiB,mBAAO,CAAC,2FAA2B;AACpD,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,uFAAmB;AACzC,yBAAyB,mBAAO,CAAC,0GAAoB;AACrD;AACA;AACA;AACA,4BAA4B,mBAAO,CAAC,0EAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,uCAAuC,EAAE;AACjH,gDAAgD,uCAAuC,qBAAqB,EAAE,OAAO;AACrH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wFAAwF,8CAA8C,EAAE;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,kDAAkD,4GAA4G,EAAE;AAChK;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iDAAiD,EAAE;AACzG,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,2DAA2D,EAAE;AAC5G,sCAAsC,8GAA8G,EAAE;AACtJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AC3La;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,yBAAyB,mBAAO,CAAC,0GAAoB;AACrD,wBAAwB,mBAAO,CAAC,wGAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,eAAe,mBAAO,CAAC,uFAAyB;AAChD,cAAc,mBAAO,CAAC,+EAAS;AAC/B,oBAAoB,mBAAO,CAAC,iGAA8B;AAC1D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,qFAAkB;AACxC,gBAAgB,mBAAO,CAAC,yFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;AClFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,mFAAuB;AAC5C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,+EAAS;AAC/B,cAAc,mBAAO,CAAC,+EAAS;AAC/B,cAAc,mBAAO,CAAC,yEAAkB;AACxC,0BAA0B,mBAAO,CAAC,uGAAqB;AACvD;AACA,kCAAkC,+BAA+B;AACjE;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,iFAAgB;AACtC,cAAc,mBAAO,CAAC,mFAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC/Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C,oBAAoB,mBAAO,CAAC,iGAA8B;AAC1D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,8BAA8B;AAC3E,qCAAqC,mBAAmB;AACxD,4CAA4C,+BAA+B;AAC3E;AACA;AACA;AACA;AACA;AACA,8DAA8D,mBAAmB,EAAE,EAAE,gBAAgB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AClEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,oBAAoB,mBAAO,CAAC,4FAAe;AAC3C;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,eAAe,mBAAO,CAAC,uFAAyB;AAChD,oBAAoB,mBAAO,CAAC,iGAA8B;AAC1D,eAAe,mBAAO,CAAC,6EAAoB;AAC3C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,gFAAS;AAC/B,gBAAgB,mBAAO,CAAC,yFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,mBAAmB,QAAQ,EAAE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA,uBAAuB;AACvB,uBAAuB;AACvB,wBAAwB;AACxB,wBAAwB;AACxB,2BAA2B;AAC3B,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;;;;;;ACjOa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,uFAAyB;AAChD,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,qFAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACrDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,eAAe,mBAAO,CAAC,uFAAyB;AAChD,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACrFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,eAAe,mBAAO,CAAC,uFAAyB;AAChD,cAAc,mBAAO,CAAC,yEAAkB;AACxC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA,2CAA2C,yCAAyC;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACzGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,qBAAqB,mBAAO,CAAC,uFAAgB;AAC7C,kBAAkB,mBAAO,CAAC,iFAAa;AACvC,aAAa,mBAAO,CAAC,mFAAuB;AAC5C,cAAc,mBAAO,CAAC,iGAA8B;AACpD,kBAAkB,mBAAO,CAAC,+EAAqB;AAC/C,eAAe,mBAAO,CAAC,2EAAU;AACjC,mBAAmB,mBAAO,CAAC,mFAAc;AACzC,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E;AACA,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E,kCAAkC,+BAA+B;AACjE,CAAC;AACD;AACA;AACA,CAAC;AACD,qC;;;;;;;;;;;;ACpCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,+FAA6B;AACxD,eAAe,mBAAO,CAAC,6EAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;ACzDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,eAAe,mBAAO,CAAC,uFAAyB;AAChD,cAAc,mBAAO,CAAC,yEAAkB;AACxC,cAAc,mBAAO,CAAC,qFAAkB;AACxC,gBAAgB,mBAAO,CAAC,yFAAoB;AAC5C,cAAc,mBAAO,CAAC,yEAAS;AAC/B;AACA;AACA,4CAA4C,yBAAyB;AACrE,8CAA8C,2BAA2B;AACzE;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,oCAAoC;AACpF;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oDAAoD,gDAAgD,EAAE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,4CAA4C,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oDAAoD,gDAAgD,EAAE;AACtG;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;ACxKa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,qFAAkB;AACxC;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACvBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,cAAc,mBAAO,CAAC,yEAAkB;AACxC,cAAc,mBAAO,CAAC,qFAAkB;AACxC,gBAAgB,mBAAO,CAAC,yFAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC3Ga;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,eAAe,mBAAO,CAAC,6EAAU;AACjC;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,cAAc,mBAAO,CAAC,2EAAS;AAC/B,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;AC3Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C,cAAc,mBAAO,CAAC,2EAAS;AAC/B,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,2BAA2B,KAAK,sBAAsB,eAAe,GAAG;AAChH,wCAAwC,gDAAgD;AACxF,wCAAwC,UAAU;AAClD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC9Ca;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,eAAe,mBAAO,CAAC,6EAAU;AACjC,qBAAqB,mBAAO,CAAC,yFAAgB;AAC7C,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E;AACA;AACA;AACA,6CAA6C,+BAA+B;AAC5E;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC7Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,cAAc,mBAAO,CAAC,mFAAiB;AACvC,eAAe,mBAAO,CAAC,uFAAyB;AAChD,iBAAiB,mBAAO,CAAC,2FAA2B;AACpD,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,2EAAS;AAC/B,qBAAqB,mBAAO,CAAC,yFAAgB;AAC7C,uBAAuB,mBAAO,CAAC,uGAAiC;AAChE,cAAc,mBAAO,CAAC,uFAAmB;AACzC,cAAc,mBAAO,CAAC,iFAAgB;AACtC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;AC9Ha;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,mFAAiB;AACvC,0BAA0B,mBAAO,CAAC,iHAAsC;AACxE,cAAc,mBAAO,CAAC,yEAAkB;AACxC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,8BAA8B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,qDAAqD,qCAAqC,EAAE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AC5Ha;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,aAAa,mBAAO,CAAC,uEAAQ;AAC7B;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,kBAAkB,mBAAO,CAAC,uGAAiC;AAC3D,eAAe,mBAAO,CAAC,uFAAyB;AAChD,oBAAoB,mBAAO,CAAC,iGAA8B;AAC1D,cAAc,mBAAO,CAAC,yEAAS;AAC/B;AACA;AACA;AACA,4CAA4C,4BAA4B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;ACpFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,cAAc,mBAAO,CAAC,0EAAS;AAC/B,+BAA+B,mBAAO,CAAC,4GAA0B;AACjE,oBAAoB,mBAAO,CAAC,sFAAe;AAC3C,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E;AACA;AACA;AACA,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACvCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,yEAAkB;AACxC,eAAe,mBAAO,CAAC,uFAAyB;AAChD,mBAAmB,mBAAO,CAAC,+FAA6B;AACxD,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,uBAAuB,mBAAO,CAAC,uGAAiC;AAChE,iBAAiB,mBAAO,CAAC,2FAA2B;AACpD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,0EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,6EAA6E;AAC9H,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,iCAAiC;AACrG;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,6EAA6E;AAC1H;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC/Va;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,0EAAS;AAC/B,uBAAuB,mBAAO,CAAC,uGAAiC;AAChE,mBAAmB,mBAAO,CAAC,iGAAwB;AACnD,iBAAiB,mBAAO,CAAC,6FAAsB;AAC/C,aAAa,mBAAO,CAAC,6EAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,6EAA6E;AACjI;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;;;;;;AC5Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kD;;;;;;;;;;;;AC9Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,aAAa,mBAAO,CAAC,uEAAQ;AAC7B,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E;AACA;AACA,6CAA6C,+BAA+B;AAC5E;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,kBAAkB,mBAAO,CAAC,uGAAiC;AAC3D,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,eAAe,mBAAO,CAAC,uFAAyB;AAChD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,cAAc,mBAAO,CAAC,yEAAkB;AACxC,mBAAmB,mBAAO,CAAC,+FAA6B;AACxD,oBAAoB,mBAAO,CAAC,iGAA8B;AAC1D,qBAAqB,mBAAO,CAAC,uGAAiC;AAC9D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,mFAAiB;AACvC,uBAAuB,mBAAO,CAAC,iGAAwB;AACvD,eAAe,mBAAO,CAAC,iFAAgB;AACvC,qBAAqB,mBAAO,CAAC,6FAAsB;AACnD,kBAAkB,mBAAO,CAAC,uFAAmB;AAC7C,cAAc,mBAAO,CAAC,qFAAkB;AACxC,gBAAgB,mBAAO,CAAC,yFAAoB;AAC5C,cAAc,mBAAO,CAAC,mFAAiB;AACvC,eAAe,mBAAO,CAAC,qFAAkB;AACzC,cAAc,mBAAO,CAAC,uFAAmB;AACzC,cAAc,mBAAO,CAAC,yEAAS;AAC/B;AACA;AACA,iCAAiC,gBAAgB;AACjD,kCAAkC,kBAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,2CAA2C;AAC/E,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,kCAAkC,EAAE;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,2CAA2C;AACnF;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,qFAAqF,qDAAqD,EAAE;AAC5I;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,oFAAoF,uDAAuD,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,UAAU,kCAAkC;AAC/E,kCAAkC,QAAQ,gCAAgC;AAC1E,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,4CAA4C,EAAE;AAC/F,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,+BAA+B,yCAAyC;AACxE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,6CAA6C,oBAAoB,sDAAsD;AACvH;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,0DAA0D,EAAE;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,yEAAyE,EAAE;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;ACpjBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AChBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,aAAa,mBAAO,CAAC,uEAAQ;AAC7B;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,+FAA6B;AACxD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,cAAc,mBAAO,CAAC,yEAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;ACtDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,4CAA4C,EAAE;AACzF;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACtEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,8BAA8B,mBAAO,CAAC,4GAAyB;AAC/D,6BAA6B,mBAAO,CAAC,0GAAwB;AAC7D,0BAA0B,mBAAO,CAAC,oGAAqB;AACvD,yBAAyB,mBAAO,CAAC,kGAAoB;AACrD,eAAe,mBAAO,CAAC,8EAAU;AACjC,gBAAgB,mBAAO,CAAC,gFAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,qFAAkB;AACxC,eAAe,mBAAO,CAAC,8EAAU;AACjC,cAAc,mBAAO,CAAC,4EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,2CAA2C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,sBAAsB;AACtB,oBAAoB;AACpB,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,0CAA0C,sBAAsB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,6CAA6C,8BAA8B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gDAAgD,EAAE;AAC5F,uCAAuC,cAAc,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gDAAgD,EAAE;AAC3F;AACA,2DAA2D,yBAAyB,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,gGAAgG;AACzH,yBAAyB,wGAAwG;AACjI,yBAAyB,kGAAkG;AAC3H;AACA;AACA;AACA,yBAAyB,kGAAkG;AAC3H,yBAAyB,uGAAuG;AAChI,yBAAyB,8FAA8F;AACvH;AACA;AACA;AACA,yBAAyB,8FAA8F;AACvH,yBAAyB,oGAAoG;AAC7H,yBAAyB,4FAA4F;AACrH;AACA;AACA;AACA,yBAAyB,4FAA4F;AACrH,yBAAyB,qGAAqG;AAC9H,yBAAyB,gGAAgG;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,yCAAyC,EAAE;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;;;;;;ACtWa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,8EAAU;AACjC,8BAA8B,mBAAO,CAAC,4GAAyB;AAC/D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,wBAAwB;AAC7F;AACA,+DAA+D,sBAAsB,GAAG,sBAAsB;AAC9G;AACA,+DAA+D,sBAAsB,GAAG,sCAAsC;AAC9H;AACA;AACA,qEAAqE,wBAAwB;AAC7F;AACA,+DAA+D,qCAAqC,GAAG,sBAAsB;AAC7H;AACA,+DAA+D,qCAAqC,GAAG,sCAAsC;AAC7I;AACA;AACA;AACA;AACA,qEAAqE,wBAAwB;AAC7F;AACA,+DAA+D,sBAAsB,GAAG,sBAAsB;AAC9G;AACA,+DAA+D,qCAAqC,GAAG,sBAAsB;AAC7H;AACA;AACA,qEAAqE,wBAAwB;AAC7F;AACA,+DAA+D,sBAAsB,GAAG,sCAAsC;AAC9H;AACA,+DAA+D,qCAAqC,GAAG,sCAAsC;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;ACnMa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,2BAA2B,mBAAO,CAAC,sGAAsB;AACzD,cAAc,mBAAO,CAAC,4EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD,iDAAiD,kCAAkC,EAAE;AACrF,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,oCAAoC;AACzE,iBAAiB;AACjB;AACA;AACA;AACA;AACA,6BAA6B,iBAAiB;AAC9C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,6BAA6B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD,mCAAmC,6CAA6C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,QAAQ;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,8CAA8C,2BAA2B,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iCAAiC;AACvE;AACA;AACA,sCAAsC,iCAAiC;AACvE;AACA;AACA,sCAAsC,0FAA0F;AAChI,sCAAsC,wFAAwF;AAC9H;AACA;AACA;AACA,0CAA0C,sDAAsD;AAChG,0CAA0C,oDAAoD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,iCAAiC;AACvE;AACA;AACA,sCAAsC,iCAAiC;AACvE;AACA;AACA;AACA;AACA,0CAA0C,sDAAsD;AAChG,0CAA0C,oDAAoD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,8DAA8D;AACxG,0CAA0C,6FAA6F;AACvI,0CAA0C,gEAAgE;AAC1G;AACA;AACA,0CAA0C,iCAAiC;AAC3E;AACA;AACA;AACA;AACA,0CAA0C,8DAA8D;AACxG,0CAA0C,6FAA6F;AACvI,0CAA0C,gEAAgE;AAC1G;AACA;AACA,0CAA0C,iCAAiC;AAC3E;AACA;AACA;AACA,sCAAsC,0FAA0F;AAChI,sCAAsC,wFAAwF;AAC9H;AACA;AACA;AACA,0CAA0C,sDAAsD;AAChG,0CAA0C,oDAAoD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,8DAA8D;AACxG,0CAA0C,6FAA6F;AACvI,0CAA0C,gEAAgE;AAC1G;AACA;AACA,0CAA0C,iCAAiC;AAC3E;AACA;AACA;AACA;AACA,0CAA0C,8DAA8D;AACxG,0CAA0C,6FAA6F;AACvI,0CAA0C,gEAAgE;AAC1G;AACA;AACA,0CAA0C,iCAAiC;AAC3E;AACA;AACA;AACA;AACA;AACA,0CAA0C,sDAAsD;AAChG,0CAA0C,oDAAoD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA,gBAAgB;AAChB;AACA;AACA;AACA,CAAC;AACD;AACA,iD;;;;;;;;;;;;ACtfa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,uFAAyB;AAChD,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,mFAAiB;AACvC,eAAe,mBAAO,CAAC,iFAAgB;AACvC,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,iFAAgB;AACtC,cAAc,mBAAO,CAAC,+EAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA,aAAa,EAAE,EAAE;AACjB,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,iC;;;;;;;;;;;;ACpJa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,8EAAU;AACjC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,6BAA6B,mBAAO,CAAC,0GAAwB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,4C;;;;;;;;;;;;AC7Ja;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,cAAc,mBAAO,CAAC,4EAAS;AAC/B,eAAe,mBAAO,CAAC,8EAAU;AACjC,2BAA2B,mBAAO,CAAC,sGAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,uDAAuD;AAC5E,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA,6BAA6B,gDAAgD;AAC7E;AACA;AACA,qBAAqB,uDAAuD;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,oCAAoC;AACpC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gD;;;;;;;;;;;;AC/La;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,6BAA6B,mBAAO,CAAC,0GAAwB;AAC7D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA,+CAA+C,4CAA4C,EAAE;AAC7F;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;ACpEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,eAAe,mBAAO,CAAC,6EAAU;AACjC,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E;AACA,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,eAAe,mBAAO,CAAC,uFAAyB;AAChD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,cAAc,mBAAO,CAAC,yEAAkB;AACxC,iBAAiB,mBAAO,CAAC,2FAA2B;AACpD,mBAAmB,mBAAO,CAAC,+FAA6B;AACxD,oBAAoB,mBAAO,CAAC,iGAA8B;AAC1D,gBAAgB,mBAAO,CAAC,+EAAqB;AAC7C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,uBAAuB,mBAAO,CAAC,qGAA0B;AACzD,cAAc,mBAAO,CAAC,mFAAiB;AACvC,qBAAqB,mBAAO,CAAC,6FAAsB;AACnD,cAAc,mBAAO,CAAC,qFAAkB;AACxC,cAAc,mBAAO,CAAC,qFAAkB;AACxC,cAAc,mBAAO,CAAC,2EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,0BAA0B;AACvE,+CAA+C,4BAA4B;AAC3E;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,gBAAgB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD,4HAA4H,EAAE;AAC9H;AACA;AACA;AACA;AACA,yGAAyG,aAAa,EAAE;AACxH,6EAA6E,8CAA8C,EAAE,oBAAoB,aAAa,EAAE;AAChK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,aAAa,EAAE;AAC/F,yEAAyE,8CAA8C,EAAE,oBAAoB,aAAa,EAAE;AAC5J;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,gCAAgC,EAAE,oBAAoB,aAAa,EAAE;AACjK;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACpTa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,kBAAkB,mBAAO,CAAC,sFAAa;AACvC;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,2FAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC5Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E,qBAAqB,mBAAO,CAAC,yFAAgB;AAC7C;AACA,6CAA6C,+BAA+B;AAC5E,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,uFAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;ACpHa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,kBAAkB,mBAAO,CAAC,uGAAiC;AAC3D,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,aAAa,mBAAO,CAAC,6EAAc;AACnC,eAAe,mBAAO,CAAC,uFAAyB;AAChD,aAAa,mBAAO,CAAC,6EAAc;AACnC,cAAc,mBAAO,CAAC,+EAAe;AACrC,cAAc,mBAAO,CAAC,+EAAe;AACrC,cAAc,mBAAO,CAAC,mFAAiB;AACvC,sBAAsB,mBAAO,CAAC,uGAA2B;AACzD,cAAc,mBAAO,CAAC,mFAAiB;AACvC,uBAAuB,mBAAO,CAAC,6FAAkB;AACjD,eAAe,mBAAO,CAAC,qFAAkB;AACzC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,gBAAgB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;ACxSa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,uFAAyB;AAChD,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,iBAAiB,mBAAO,CAAC,2FAA2B;AACpD,cAAc,mBAAO,CAAC,mFAAiB;AACvC,cAAc,mBAAO,CAAC,mFAAiB;AACvC,iBAAiB,mBAAO,CAAC,mFAAY;AACrC,cAAc,mBAAO,CAAC,6EAAS;AAC/B,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,mEAAmE,mCAAmC,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AC3Pa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC,mBAAmB,mBAAO,CAAC,uFAAc;AACzC,iBAAiB,mBAAO,CAAC,mFAAY;AACrC,eAAe,mBAAO,CAAC,+EAAU;AACjC,aAAa,mBAAO,CAAC,2EAAQ;AAC7B,6BAA6B,mBAAO,CAAC,yHAA0C;AAC/E;AACA,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E,6CAA6C,+BAA+B;AAC5E;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACjCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,uFAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,uFAAyB;AAChD,mBAAmB,mBAAO,CAAC,+FAA6B;AACxD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,iBAAiB,mBAAO,CAAC,mFAAY;AACrC,cAAc,mBAAO,CAAC,6EAAS;AAC/B,cAAc,mBAAO,CAAC,+EAAe;AACrC,cAAc,mBAAO,CAAC,qFAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACvFa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,iFAAsB;AAC/C,eAAe,mBAAO,CAAC,uFAAyB;AAChD,cAAc,mBAAO,CAAC,6EAAS;AAC/B,cAAc,mBAAO,CAAC,mFAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;AC5Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,+FAA6B;AACrD,kBAAkB,mBAAO,CAAC,uGAAiC;AAC3D,cAAc,mBAAO,CAAC,6EAAS;AAC/B,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,yEAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;;;;;;AC9Ha;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,+FAA6B;AACxD,qBAAqB,mBAAO,CAAC,mGAA+B;AAC5D,iBAAiB,mBAAO,CAAC,mFAAY;AACrC,cAAc,mBAAO,CAAC,6EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;AC3Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,sEAAe;AACrC,uBAAuB,mBAAO,CAAC,mFAAkB;AACjD;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,uBAAuB,mBAAO,CAAC,oGAA8B;AAC7D,eAAe,mBAAO,CAAC,oFAAsB;AAC7C,qBAAqB,mBAAO,CAAC,gGAA4B;AACzD,eAAe,mBAAO,CAAC,mEAAU;AACjC,cAAc,mBAAO,CAAC,4FAA0B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACtHa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,oFAAsB;AAC7C,cAAc,mBAAO,CAAC,4FAA0B;AAChD,cAAc,mBAAO,CAAC,sGAA+B;AACrD,eAAe,mBAAO,CAAC,0FAAyB;AAChD,cAAc,mBAAO,CAAC,wFAAwB;AAC9C,cAAc,mBAAO,CAAC,wFAAwB;AAC9C,cAAc,mBAAO,CAAC,0FAAyB;AAC/C,cAAc,mBAAO,CAAC,wFAAwB;AAC9C,cAAc,mBAAO,CAAC,8FAA2B;AACjD,cAAc,mBAAO,CAAC,4FAA0B;AAChD,sBAAsB,mBAAO,CAAC,gHAAoC;AAClE,iBAAiB,mBAAO,CAAC,8EAAmB;AAC5C,iBAAiB,mBAAO,CAAC,8EAAmB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2BAA2B;AAC1D;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,2BAA2B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA,SAAS,EAAE,EAAE;AACb;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;ACzPa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C,qBAAqB,mBAAO,CAAC,gGAA4B;AACzD,oBAAoB,mBAAO,CAAC,8FAA2B;AACvD,cAAc,mBAAO,CAAC,8FAA2B;AACjD,gBAAgB,mBAAO,CAAC,kGAA6B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,8BAA8B;AACxE,qCAAqC,uBAAuB;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oEAAoE;AAC5G;AACA;AACA,0CAA0C,eAAe;AACzD;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA,2CAA2C,UAAU;AACrD;AACA;AACA;AACA;AACA;AACA,2CAA2C,sDAAsD;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,wKAAwK;AACrO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,gDAAgD,8BAA8B;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAA+C,KAAK,GAAG;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC1Ja;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,SAAS,mBAAO,CAAC,uFAAuB;AACxC,SAAS,mBAAO,CAAC,6GAAkC;AACnD,SAAS,mBAAO,CAAC,uGAA+B;AAChD,SAAS,mBAAO,CAAC,uGAA+B;AAChD,SAAS,mBAAO,CAAC,6HAA0C;AAC3D,SAAS,mBAAO,CAAC,mGAA6B;AAC9C,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,qHAAsC;AACvD,SAAS,mBAAO,CAAC,uHAAuC;AACxD,SAAS,mBAAO,CAAC,uGAA+B;AAChD,SAAS,mBAAO,CAAC,+GAAmC;AACpD,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,mGAA6B;AAC9C,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,mFAAqB;AACtC,SAAS,mBAAO,CAAC,6GAAkC;AACnD,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,iIAA4C;AAC7D,SAAS,mBAAO,CAAC,+GAAmC;AACpD,SAAS,mBAAO,CAAC,uFAAuB;AACxC,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,+EAAmB;AACpC,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,mGAA6B;AAC9C,SAAS,mBAAO,CAAC,mFAAqB;AACtC,SAAS,mBAAO,CAAC,uGAA+B;AAChD,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,qEAAc;AAC/B,kBAAkB,mBAAO,CAAC,6EAAkB;AAC5C;AACA;AACA,SAAS,mBAAO,CAAC,uHAAuC;AACxD,SAAS,mBAAO,CAAC,2HAAyC;AAC1D,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,uGAA+B;AAChD,SAAS,mBAAO,CAAC,uGAA+B;AAChD,SAAS,mBAAO,CAAC,yGAAgC;AACjD,SAAS,mBAAO,CAAC,6GAAkC;AACnD,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,mIAA6C;AAC9D,SAAS,mBAAO,CAAC,iIAA4C;AAC7D,SAAS,mBAAO,CAAC,6GAAkC;AACnD,SAAS,mBAAO,CAAC,iHAAoC;AACrD,SAAS,mBAAO,CAAC,qGAA8B;AAC/C,SAAS,mBAAO,CAAC,yFAAwB;AACzC,SAAS,mBAAO,CAAC,yGAAgC;AACjD,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,yFAAwB;AACzC,SAAS,mBAAO,CAAC,iGAA4B;AAC7C,SAAS,mBAAO,CAAC,qGAA8B;AAC/C,SAAS,mBAAO,CAAC,uFAAuB;AACxC,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,yGAAgC;AACjD,SAAS,mBAAO,CAAC,qFAAsB;AACvC,SAAS,mBAAO,CAAC,uFAAuB;AACxC,SAAS,mBAAO,CAAC,yFAAwB;AACzC,SAAS,mBAAO,CAAC,yFAAwB;AACzC,SAAS,mBAAO,CAAC,mGAA6B;AAC9C,SAAS,mBAAO,CAAC,mGAA6B;AAC9C,SAAS,mBAAO,CAAC,2HAAyC;AAC1D,SAAS,mBAAO,CAAC,uFAAuB;AACxC,SAAS,mBAAO,CAAC,qFAAsB;AACvC,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,qFAAsB;AACvC,SAAS,mBAAO,CAAC,uFAAuB;AACxC,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,uHAAuC;AACxD,SAAS,mBAAO,CAAC,qHAAsC;AACvD,SAAS,mBAAO,CAAC,6HAA0C;AAC3D,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,mHAAqC;AACtD,SAAS,mBAAO,CAAC,2HAAyC;AAC1D,SAAS,mBAAO,CAAC,iGAA4B;AAC7C,SAAS,mBAAO,CAAC,2FAAyB;AAC1C,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,SAAS,mBAAO,CAAC,yGAAgC;AACjD,SAAS,mBAAO,CAAC,6GAAkC;AACnD,SAAS,mBAAO,CAAC,yGAAgC;AACjD,SAAS,mBAAO,CAAC,yGAAgC;AACjD,SAAS,mBAAO,CAAC,+FAA2B;AAC5C,SAAS,mBAAO,CAAC,iGAA4B;AAC7C,SAAS,mBAAO,CAAC,+GAAmC;AACpD,SAAS,mBAAO,CAAC,qGAA8B;AAC/C,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,kBAAkB,mBAAO,CAAC,+EAAmB;AAC7C;AACA,kBAAkB,mBAAO,CAAC,mGAA6B;AACvD;AACA,kBAAkB,mBAAO,CAAC,mGAA6B;AACvD;AACA,kBAAkB,mBAAO,CAAC,qHAAsC;AAChE;AACA,kBAAkB,mBAAO,CAAC,2GAAiC;AAC3D;AACA,kBAAkB,mBAAO,CAAC,6GAAkC;AAC5D;AACA,kBAAkB,mBAAO,CAAC,mGAA6B;AACvD;AACA,kBAAkB,mBAAO,CAAC,mGAA6B;AACvD;AACA,mBAAmB,mBAAO,CAAC,+FAA2B;AACtD;AACA,mBAAmB,mBAAO,CAAC,iGAA4B;AACvD;AACA,mBAAmB,mBAAO,CAAC,+FAA2B;AACtD;AACA,mBAAmB,mBAAO,CAAC,+FAA2B;AACtD;AACA,mBAAmB,mBAAO,CAAC,qGAA8B;AACzD;AACA,mBAAmB,mBAAO,CAAC,mGAA6B;AACxD;AACA,mBAAmB,mBAAO,CAAC,yGAAgC;AAC3D;AACA,mBAAmB,mBAAO,CAAC,mGAA6B;AACxD;AACA,mBAAmB,mBAAO,CAAC,uGAA+B;AAC1D;AACA;AACA,SAAS,mBAAO,CAAC,yFAAwB;AACzC,SAAS,mBAAO,CAAC,yEAAgB;AACjC,SAAS,mBAAO,CAAC,uEAAe;AAChC;AACA,SAAS,mBAAO,CAAC,mFAAqB;AACtC,SAAS,mBAAO,CAAC,6EAAkB;AACnC,SAAS,mBAAO,CAAC,mEAAa;AAC9B,SAAS,mBAAO,CAAC,2EAAiB;AAClC;AACA,SAAS,mBAAO,CAAC,mGAA6B;AAC9C,SAAS,mBAAO,CAAC,uGAA+B;AAChD,SAAS,mBAAO,CAAC,+GAAmC;AACpD,SAAS,mBAAO,CAAC,yFAAwB;AACzC,SAAS,mBAAO,CAAC,mGAA6B;AAC9C,SAAS,mBAAO,CAAC,6FAA0B;AAC3C,mBAAmB,mBAAO,CAAC,6FAA0B;AACrD;AACA;AACA,SAAS,mBAAO,CAAC,2EAAiB;AAClC,SAAS,mBAAO,CAAC,uEAAe;AAChC,SAAS,mBAAO,CAAC,6EAAkB;AACnC,SAAS,mBAAO,CAAC,+EAAmB;AACpC,SAAS,mBAAO,CAAC,2EAAiB;AAClC,SAAS,mBAAO,CAAC,6EAAkB;AACnC,iC;;;;;;;;;;;;AC5Ka;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,yFAA6B;AACrD,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;ACxDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C,oBAAoB,mBAAO,CAAC,8FAA2B;AACvD,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sC;;;;;;;;;;;;AC5Ca;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,oFAAsB;AAC7C,iBAAiB,mBAAO,CAAC,8EAAmB;AAC5C,cAAc,mBAAO,CAAC,4FAA0B;AAChD,cAAc,mBAAO,CAAC,wFAAwB;AAC9C,cAAc,mBAAO,CAAC,4FAA0B;AAChD,eAAe,mBAAO,CAAC,0EAAiB;AACxC,eAAe,mBAAO,CAAC,gGAA4B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC9La;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C,eAAe,mBAAO,CAAC,0EAAiB;AACxC,iBAAiB,mBAAO,CAAC,8EAAmB;AAC5C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,uBAAuB;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,wNAAwN;AAClQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,iRAAiR;AACzT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,8CAA8C,yFAAyF;AACvI;AACA;AACA,2CAA2C,qMAAqM;AAChP;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC1Ga;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,4FAA0B;AAClD,cAAc,mBAAO,CAAC,sEAAe;AACrC,qBAAqB,mBAAO,CAAC,sFAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;ACtGa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,sEAAe;AACrC,6BAA6B,mBAAO,CAAC,sHAAuC;AAC5E,qBAAqB,mBAAO,CAAC,sFAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL,6CAA6C,+BAA+B;AAC5E;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACtCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,iEAAY;AACvC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,kBAAkB,mBAAO,CAAC,gGAA4B;AACtD,eAAe,mBAAO,CAAC,oFAAsB;AAC7C,cAAc,mBAAO,CAAC,sEAAe;AACrC,4BAA4B,mBAAO,CAAC,wHAAwC;AAC5E,eAAe,mBAAO,CAAC,8FAA2B;AAClD,qBAAqB,mBAAO,CAAC,0GAAiC;AAC9D,cAAc,mBAAO,CAAC,0FAAyB;AAC/C,aAAa,mBAAO,CAAC,sFAAuB;AAC5C,qBAAqB,mBAAO,CAAC,0GAAiC;AAC9D,qBAAqB,mBAAO,CAAC,sFAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,gBAAgB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gBAAgB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,kBAAkB;AAClB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,2CAA2C,mBAAmB,gBAAgB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;AC9Na;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,iEAAY;AACvC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,kBAAkB,mBAAO,CAAC,gGAA4B;AACtD,eAAe,mBAAO,CAAC,oFAAsB;AAC7C,qBAAqB,mBAAO,CAAC,gGAA4B;AACzD,cAAc,mBAAO,CAAC,sEAAe;AACrC,4BAA4B,mBAAO,CAAC,wHAAwC;AAC5E,qBAAqB,mBAAO,CAAC,0GAAiC;AAC9D,cAAc,mBAAO,CAAC,0FAAyB;AAC/C,uBAAuB,mBAAO,CAAC,8GAAmC;AAClE,qBAAqB,mBAAO,CAAC,0GAAiC;AAC9D,cAAc,mBAAO,CAAC,wEAAgB;AACtC,qBAAqB,mBAAO,CAAC,sFAAgB;AAC7C,uBAAuB,mBAAO,CAAC,oGAA8B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,oBAAoB,EAAE;AAC5E;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,gBAAgB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,kBAAkB;AAClB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,mBAAmB,gBAAgB;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;;;;;;ACnWa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,4EAAkB;AAC1C,cAAc,mBAAO,CAAC,sEAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,4MAA4M,0BAA0B,EAAE;AACxO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;ACnHa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,kBAAkB,mBAAO,CAAC,gGAA4B;AACtD,cAAc,mBAAO,CAAC,sEAAe;AACrC,qBAAqB,mBAAO,CAAC,0GAAiC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;ACtEa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,uBAAuB,mBAAO,CAAC,0FAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC1Ea;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AChCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;;;;;;;AC5Ca;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;ACzCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D;AAC3D;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,mEAAmE;AACnE,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oC;;;;;;;;;;;;ACzba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;ACrBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qCAAqC;AACxE,aAAa;AACb,+CAA+C,iBAAiB,EAAE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6BAA6B,EAAE;AACrE;AACA;AACA;AACA,qCAAqC,+BAA+B;AACpE;AACA;AACA;AACA;AACA,+CAA+C,8BAA8B,EAAE;AAC/E;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,8BAA8B,EAAE;AAC/E;AACA;AACA;AACA;AACA,oBAAoB;AACpB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,oBAAoB,4BAA4B,EAAE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oC;;;;;;;;;;;;AC5Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,qEAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,iEAAiE,qBAAqB,EAAE;AACxF;AACA,iEAAiE,wCAAwC,EAAE;AAC3G;AACA;AACA;AACA,iEAAiE,wCAAwC,EAAE;AAC3G;AACA,iEAAiE,qBAAqB,EAAE;AACxF;AACA;AACA,4DAA4D,oBAAoB,EAAE;AAClF;AACA,8DAA8D,sBAAsB,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oC;;;;;;;;;;;;AC7La;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,sEAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,uDAAuD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;AC9Ia;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;;;;;AChKA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,8DAAQ;;AAE9B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,iBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA,mBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;;AAEA,QAAQ,uBAAuB;AAC/B;AACA;AACA,GAAG;AACH;;AAEA,iBAAiB,uBAAuB;AACxC;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd,kDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA,KAAK,KAAwC,EAAE,EAE7C;;AAEF,QAAQ,sBAAiB;AACzB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD;AACvD;;AAEA,6BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;;;;;;;;;;;;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,WAAW,EAAE;AACrD,wCAAwC,WAAW,EAAE;;AAErD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,sCAAsC;AACtC,GAAG;AACH;AACA,8DAA8D;AAC9D;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;;;;;;;;;;;ACxFA,SAAS,mBAAO,CAAC,8CAAM;AACvB,SAAS,mBAAO,CAAC,8CAAM;;AAEvB;AACA;AACA;;AAEA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACjCA,UAAU,mBAAO,CAAC,gEAAW;AAC7B,kBAAkB,mBAAO,CAAC,wEAAmB;;AAE7C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC;AACnC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AC5GA,UAAU,mBAAO,CAAC,gEAAW;AAC7B,kBAAkB,mBAAO,CAAC,wEAAmB;;AAE7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;;;;;;;;;;;;;ACDA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;AClBA,cAAc,mBAAO,CAAC,kLAAsE;;AAE5F,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,gHAAsD;;AAE3E;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;AClBf,cAAc,mBAAO,CAAC,4KAAmE;;AAEzF,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,gHAAsD;;AAE3E;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;AClBf,cAAc,mBAAO,CAAC,4KAAmE;;AAEzF,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,gHAAsD;;AAE3E;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACnBF;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAO,CAAC,yFAA4B;AACpC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,+DAAU;AAChC,6BAA6B,mBAAO,CAAC,6GAA8B;AACnE,oCAAoC,mBAAO,CAAC,yIAA4C;AACxF;AACA;AACA;AACA;AACA;AACA,4BAA4B,+BAA+B;AAC3D,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC/Ba;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;AChDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,qBAAqB,mBAAO,CAAC,mHAA0C;AACvE,cAAc,mBAAO,CAAC,gHAAoC;AAC1D,cAAc,mBAAO,CAAC,kEAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,yBAAyB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,uCAAuC,EAAE;AACtG,aAAa;AACb;AACA,6DAA6D,2CAA2C,EAAE;AAC1G;AACA;AACA;AACA;AACA;AACA,uEAAuE,gDAAgD,EAAE;AACzH;AACA;AACA;AACA,SAAS;AACT;AACA,4CAA4C,wCAAwC,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gD;;;;;;;;;;;;AChHa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,uBAAuB,mBAAO,CAAC,0HAAyC;AACxE,sBAAsB,mBAAO,CAAC,gHAAoC;AAClE,oBAAoB,mBAAO,CAAC,4GAAkC;AAC9D,cAAc,mBAAO,CAAC,kEAAa;AACnC;AACA;AACA;AACA;AACA;AACA,yDAAyD,uCAAuC,EAAE;AAClG;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,0BAA0B,sCAAsC,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,EAAE;AAChD,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,uD;;;;;;;;;;;;AC9Ia;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,gHAAoC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,2FAA2F;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,uCAAuC,EAAE;AACjF;AACA;AACA,iC;;;;;;;;;;;;AC3Ea;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA,6CAA6C,0BAA0B;AACvE;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;;;;;;AC1Ba;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,iBAAiB,mBAAO,CAAC,uFAA4B;AACrD,cAAc,mBAAO,CAAC,kEAAa;AACnC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,gBAAgB,mBAAO,CAAC,8GAA6B;AACrD,2BAA2B,mBAAO,CAAC,iHAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,kJAAkJ,EAAE;AAC1L;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,gHAAgH,aAAa,EAAE;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AC9Ea;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAO,CAAC,kGAAkC;AAC1C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,wBAAwB,mBAAO,CAAC,2GAAmB;AACnD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC3Ba;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,wBAAwB,mBAAO,CAAC,mGAAmB;AACnD;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,+EAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAyF,sCAAsC;AAC/H;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AC1Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACPa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;;;;;;;AC1Ba;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,sCAAsC,mBAAO,CAAC,6HAAiC;AAC/E;AACA;AACA;AACA;AACA,4BAA4B,+BAA+B;AAC3D,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,gHAAoC;AAChE,oCAAoC,mBAAO,CAAC,kJAAqD;AACjG,cAAc,mBAAO,CAAC,kEAAa;AACnC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,cAAc,mBAAO,CAAC,oGAAwB;AAC9C,0BAA0B,mBAAO,CAAC,qGAAqB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,8EAA8E,EAAE;AACtI,sDAAsD,8EAA8E,EAAE;AACtI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,mIAAmI,EAAE;AACvL,kCAAkC,2FAA2F;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,oFAAoF,EAAE;AAClI,4CAA4C,oFAAoF;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yD;;;;;;;;;;;;ACxKa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,mBAAmB,mBAAO,CAAC,4FAAc;AACzC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,cAAc,mBAAO,CAAC,kFAAe;AACrC;AACA;AACA;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA,kFAAkF,kCAAkC,EAAE;AACtH;AACA;AACA;AACA;AACA,sFAAsF,kCAAkC,EAAE;AAC1H;AACA;AACA;AACA,sFAAsF,kCAAkC,EAAE;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,mEAAmE,sCAAsC,EAAE;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,+DAA+D,EAAE;AACvH,qDAAqD,oBAAoB,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,iCAAiC,0BAA0B;AAC3D;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sC;;;;;;;;;;;;ACtRa;AACb,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,mGAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;AC3Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sEAAsE;AACvE,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;ACxDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC1Ba;AACb,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,8GAA6B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;;;;;;ACtBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,0CAA0C,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;ACrFa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;;;;;;AClCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,gBAAgB,mBAAO,CAAC,4FAAW;AACnC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,iEAAiE,uBAAuB,EAAE,4BAA4B;AACrJ;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,aAAa,mBAAO,CAAC,iDAAM;AAC3B,2BAA2B,mBAAO,CAAC,kHAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kBAAkB;AACtD,mCAAmC,kBAAkB;AACrD,yCAAyC,yBAAyB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA,yBAAyB;AACzB;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,mC;;;;;;;;;;;;AC3Ja;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,+EAAwB;AAC9C,aAAa,mBAAO,CAAC,0EAAQ;AAC7B;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACxBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;ACPa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC,iBAAiB,mBAAO,CAAC,uFAA4B;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;ACtDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,0BAA0B,mBAAO,CAAC,sGAAqB;AACvD;AACA;AACA,6CAA6C,0BAA0B;AACvE,+CAA+C,4BAA4B;AAC3E;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6DAA6D,mBAAmB,EAAE;AAClF,6DAA6D,mBAAmB,EAAE;AAClF;AACA;AACA;AACA;AACA,2DAA2D,mBAAmB,EAAE;AAChF,+DAA+D,mBAAmB,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,UAAU;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,UAAU;AAC/E;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,8C;;;;;;;;;;;;AC5Pa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,2BAA2B,mBAAO,CAAC,wGAAsB;AACzD,8BAA8B,mBAAO,CAAC,8GAAyB;AAC/D,0BAA0B,mBAAO,CAAC,sGAAqB;AACvD;AACA;AACA;AACA,gCAAgC,+BAA+B;AAC/D,gCAAgC,+BAA+B;AAC/D,gCAAgC,+BAA+B;AAC/D,gCAAgC,+BAA+B;AAC/D;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACnCa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,cAAc,mBAAO,CAAC,kFAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,CAAC;AACD;AACA,iD;;;;;;;;;;;;AC9Ca;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,2BAA2B,mBAAO,CAAC,wGAAsB;AACzD;AACA;AACA,4CAA4C,yBAAyB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF,0CAA0C,EAAE;AACnI;AACA,+FAA+F,sBAAsB;AACrH;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA,+EAA+E,kBAAkB;AACjG;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA,4EAA4E,UAAU;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,wEAAwE,EAAE;AACvI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,6C;;;;;;;;;;;;AC7Ka;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,cAAc,mBAAO,CAAC,oGAAwB;AAC9C,cAAc,mBAAO,CAAC,qFAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,wDAAwD,EAAE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uD;;;;;;;;;;;;AC3La;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,uBAAuB,mBAAO,CAAC,gGAA4B;AAC3D,cAAc,mBAAO,CAAC,4FAAoB;AAC1C,cAAc,mBAAO,CAAC,qFAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,sCAAsC,0BAA0B;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+DAA+D,EAAE;AACjG;AACA;AACA;AACA;AACA,+CAA+C,4CAA4C;AAC3F;AACA;AACA;AACA,2CAA2C,8CAA8C;AACzF;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kD;;;;;;;;;;;;AC7La;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,cAAc,mBAAO,CAAC,qFAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;ACtFa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,cAAc,mBAAO,CAAC,oGAAwB;AAC9C,oCAAoC,mBAAO,CAAC,iIAA+B;AAC3E,+BAA+B,mBAAO,CAAC,uHAA0B;AACjE,wBAAwB,mBAAO,CAAC,yGAAmB;AACnD,gCAAgC,mBAAO,CAAC,yHAA2B;AACnE,mCAAmC,mBAAO,CAAC,+HAA8B;AACzE,aAAa,mBAAO,CAAC,mFAAQ;AAC7B;AACA;AACA;AACA,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D,yBAAyB,+BAA+B;AACxD;AACA,4BAA4B,+BAA+B;AAC3D;AACA,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D,yBAAyB,+BAA+B;AACxD;AACA,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;ACjDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,uBAAuB,mBAAO,CAAC,gGAA4B;AAC3D,cAAc,mBAAO,CAAC,4FAAoB;AAC1C,+BAA+B,mBAAO,CAAC,uHAA0B;AACjE,cAAc,mBAAO,CAAC,qFAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,+DAA+D,EAAE;AACjG;AACA;AACA;AACA;AACA,+CAA+C,4CAA4C;AAC3F;AACA;AACA;AACA,2CAA2C,8CAA8C;AACzF;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,0CAA0C,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,aAAa;AACb,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mD;;;;;;;;;;;;AC9Ua;AACb;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA,8CAA8C,cAAc;AAC5D,YAAY,mBAAO,CAAC,+DAAa;AACjC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,wCAAwC,EAAE;AACnF,+BAA+B,uFAAuF,EAAE;AACxH,sCAAsC,iFAAiF,EAAE;AACzH;AACA;AACA;AACA,6DAA6D,mDAAmD,EAAE;AAClH;AACA;AACA;AACA;AACA;AACA,yCAAyC,qBAAqB,EAAE;AAChE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,sD;;;;;;;;;;;;ACjFa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AChDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,qBAAqB,mBAAO,CAAC,wEAAc;AAC3C,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,oGAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,+BAA+B;AACvE;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,+GAA+G,EAAE;AACtK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA,wBAAwB;AACxB;AACA;AACA,wBAAwB;AACxB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,gC;;;;;;;;;;;;AClFa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAO,CAAC,4FAA+B;AACvC,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,qBAAqB,mBAAO,CAAC,kGAAgB;AAC7C;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,oCAAoC,mBAAO,CAAC,kJAAqD;AACjG,uBAAuB,mBAAO,CAAC,8GAA6B;AAC5D,sBAAsB,mBAAO,CAAC,oGAAwB;AACtD,oBAAoB,mBAAO,CAAC,gGAAsB;AAClD,iBAAiB,mBAAO,CAAC,oGAAwB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,8DAA8D,mCAAmC,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,kCAAkC,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wC;;;;;;;;;;;;AChPa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,cAAc,mBAAO,CAAC,oGAAwB;AAC9C,0BAA0B,mBAAO,CAAC,oHAAgC;AAClE,cAAc,mBAAO,CAAC,4FAAoB;AAC1C,0BAA0B,mBAAO,CAAC,8GAA6B;AAC/D,oCAAoC,mBAAO,CAAC,gJAA8C;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,6BAA6B,EAAE;AAClH;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,iCAAiC,EAAE;AACrH,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,UAAU;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,6BAA6B,EAAE;AACnF;AACA;AACA;AACA,oDAAoD,6BAA6B,EAAE;AACnF;AACA;AACA;AACA,oDAAoD,6BAA6B,EAAE;AACnF;AACA;AACA;AACA,oDAAoD,6BAA6B,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,sEAAsE,mDAAmD;AACzH;AACA;AACA;AACA;AACA;AACA,iBAAiB,mDAAmD;AACpE;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA,4CAA4C,2CAA2C;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8C;;;;;;;;;;;;AC3Ta;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,gHAAoC;AAChE,cAAc,mBAAO,CAAC,kEAAa;AACnC,uBAAuB,mBAAO,CAAC,gGAA4B;AAC3D,0BAA0B,mBAAO,CAAC,oHAAgC;AAClE,uBAAuB,mBAAO,CAAC,8GAA6B;AAC5D,+BAA+B,mBAAO,CAAC,sIAAyC;AAChF,wBAAwB,mBAAO,CAAC,wHAAkC;AAClE,kCAAkC,mBAAO,CAAC,qHAA6B;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,iEAAiE,EAAE;AACzI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;ACvPa;AACb,8CAA8C,cAAc;AAC5D,YAAY,mBAAO,CAAC,+DAAa;AACjC,2BAA2B,mBAAO,CAAC,uGAAsB;AACzD,oBAAoB,mBAAO,CAAC,yFAAe;AAC3C,uBAAuB,mBAAO,CAAC,+FAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yC;;;;;;;;;;;;ACba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,iBAAiB,mBAAO,CAAC,uFAA4B;AACrD,cAAc,mBAAO,CAAC,kEAAa;AACnC,0BAA0B,mBAAO,CAAC,oHAAgC;AAClE,wBAAwB,mBAAO,CAAC,wHAAkC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,4CAA4C,EAAE;AAC1I,sCAAsC,2BAA2B,EAAE,oBAAoB,aAAa,EAAE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,uC;;;;;;;;;;;;ACjJa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qD;;;;;;;;;;;;AC1Ea;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,gHAAoC;AAChE,cAAc,mBAAO,CAAC,kEAAa;AACnC,oBAAoB,mBAAO,CAAC,0FAAyB;AACrD,2BAA2B,mBAAO,CAAC,sHAAiC;AACpE,cAAc,mBAAO,CAAC,4FAAoB;AAC1C,0BAA0B,mBAAO,CAAC,8GAA6B;AAC/D,+BAA+B,mBAAO,CAAC,sIAAyC;AAChF,wBAAwB,mBAAO,CAAC,wHAAkC;AAClE,gCAAgC,mBAAO,CAAC,wIAA0C;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,UAAU;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,0C;;;;;;;;;;;;ACnUa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,iBAAiB,mBAAO,CAAC,wFAAY;AACrC;AACA,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D,4BAA4B,+BAA+B;AAC3D;AACA,CAAC;AACD;AACA,qC;;;;;;;;;;;;AC3Ba;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,kEAAa;AACnC,eAAe,mBAAO,CAAC,gFAAoB;AAC3C,cAAc,mBAAO,CAAC,oGAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA,qCAAqC,kBAAkB;AACvD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kDAAkD,EAAE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,mBAAmB;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,UAAU;AAChF;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ,gBAAgB;AAC3C;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF,mBAAmB;AACtG;AACA;AACA;AACA;AACA;AACA,2CAA2C,mCAAmC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,QAAQ,gBAAgB;AAC/C;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,oC;;;;;;;;;;;;ACvWa;AACb;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,gFAAkB;AAC5C;AACA,kBAAkB,mBAAO,CAAC,wHAAsC;AAChE;AACA,kBAAkB,mBAAO,CAAC,wGAA8B;AACxD;AACA,kBAAkB,mBAAO,CAAC,oGAA4B;AACtD;AACA,kBAAkB,mBAAO,CAAC,8GAAiC;AAC3D;AACA,kBAAkB,mBAAO,CAAC,0HAAuC;AACjE;AACA,kBAAkB,mBAAO,CAAC,kGAA2B;AACrD;AACA,kBAAkB,mBAAO,CAAC,sGAA6B;AACvD;AACA,kBAAkB,mBAAO,CAAC,oHAAoC;AAC9D;AACA,mBAAmB,mBAAO,CAAC,kHAAmC;AAC9D;AACA,mBAAmB,mBAAO,CAAC,8GAAiC;AAC5D;AACA,SAAS,mBAAO,CAAC,+DAAa;AAC9B,SAAS,mBAAO,CAAC,4GAAgC;AACjD,SAAS,mBAAO,CAAC,8HAAyC;AAC1D,SAAS,mBAAO,CAAC,kHAAmC;AACpD,SAAS,mBAAO,CAAC,8IAAiD;AAClE,SAAS,mBAAO,CAAC,4GAAgC;AACjD,SAAS,mBAAO,CAAC,0IAA+C;AAChE,SAAS,mBAAO,CAAC,oIAA4C;AAC7D,SAAS,mBAAO,CAAC,oHAAoC;AACrD,SAAS,mBAAO,CAAC,gGAA0B;AAC3C,SAAS,mBAAO,CAAC,oHAAoC;AACrD,SAAS,mBAAO,CAAC,4IAAgD;AACjE,SAAS,mBAAO,CAAC,8GAAiC;AAClD,SAAS,mBAAO,CAAC,4HAAwC;AACzD,SAAS,mBAAO,CAAC,sHAAqC;AACtD,SAAS,mBAAO,CAAC,4IAAgD;AACjE,SAAS,mBAAO,CAAC,sHAAqC;AACtD,SAAS,mBAAO,CAAC,0FAAuB;AACxC,SAAS,mBAAO,CAAC,wFAAsB;AACvC,SAAS,mBAAO,CAAC,sGAA6B;AAC9C,SAAS,mBAAO,CAAC,8IAAiD;AAClE,SAAS,mBAAO,CAAC,4GAAgC;AACjD,SAAS,mBAAO,CAAC,wHAAsC;AACvD,SAAS,mBAAO,CAAC,sHAAqC;AACtD,SAAS,mBAAO,CAAC,4GAAgC;AACjD,SAAS,mBAAO,CAAC,4GAAgC;AACjD,SAAS,mBAAO,CAAC,wGAA8B;AAC/C,SAAS,mBAAO,CAAC,4GAAgC;AACjD,SAAS,mBAAO,CAAC,sEAAa;AAC9B,SAAS,mBAAO,CAAC,8DAAS;AAC1B,SAAS,mBAAO,CAAC,sFAAqB;AACtC,SAAS,mBAAO,CAAC,4EAAgB;AACjC,SAAS,mBAAO,CAAC,sFAAqB;AACtC,SAAS,mBAAO,CAAC,4FAAwB;AACzC,iC;;;;;;;;;;;;AC5Ea;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC,cAAc,mBAAO,CAAC,2FAAwB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;AC3Ca;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,2BAA2B,mBAAO,CAAC,2IAAgD;AACnF,wBAAwB,mBAAO,CAAC,qHAAqC;AACrE,0BAA0B,mBAAO,CAAC,qHAAqC;AACvE,uBAAuB,mBAAO,CAAC,uHAAsC;AACrE,2BAA2B,mBAAO,CAAC,6IAAiD;AACpF,aAAa,mBAAO,CAAC,yFAAuB;AAC5C,iBAAiB,mBAAO,CAAC,6GAAiC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,4BAA4B,kBAAkB,EAAE,EAAE;AAC/G;AACA;AACA,oD;;;;;;;;;;;;AClGa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;ACxCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC,6DAA6D;AAC9D,kC;;;;;;;;;;;;ACvBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+DAAa;AACjC,oBAAoB,mBAAO,CAAC,6GAAiC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gCAAgC,EAAE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,sBAAsB;AACjH;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ,gBAAgB;AAC3C;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F,sBAAsB;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,QAAQ,gBAAgB;AAC3C;AACA;AACA;AACA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uC;;;;;;;;;;;;AC5Ga;AACb,8CAA8C,cAAc;AAC5D,YAAY,mBAAO,CAAC,+DAAa;AACjC,YAAY,mBAAO,CAAC,+DAAa;AACjC;AACA;AACA,uEAAuE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0C;;;;;;;;;;;;ACrCA,cAAc,mBAAO,CAAC,wJAAiE;;AAEvF,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,mHAAyD;;AAE9E;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;ACnBF;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAO,CAAC,+DAAoB;AAC5B,YAAY,mBAAO,CAAC,+EAA0B;AAC9C,kBAAkB,mBAAO,CAAC,+HAAqD;AAC/E,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,cAAc,mBAAO,CAAC,iDAAS;AAC/B,sBAAsB,mBAAO,CAAC,iEAAiB;AAC/C,uBAAuB,mBAAO,CAAC,mEAAkB;AACjD;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,qC;;;;;;;;;;;;AC7Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,yDAAa;AACvC;AACA,iC;;;;;;;;;;;;ACnBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+EAA0B;AAC9C,cAAc,mBAAO,CAAC,iDAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,yC;;;;;;;;;;;;AC/Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iEAAiE;AACtE,CAAC,qFAAqF;AACtF,wC;;;;;;;;;;;;ACfa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+EAA0B;AAC9C,qBAAqB,mBAAO,CAAC,+DAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iC;;;;;;;;;;;;ACzFa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,+EAA0B;AAC9C,kBAAkB,mBAAO,CAAC,mEAAW;AACrC,eAAe,mBAAO,CAAC,wEAAc;AACrC,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qUAAqU;AAC5W;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,4IAA4I,iCAAiC,yEAAyE;AAC7R;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,+NAA+N;AACtQ;AACA;AACA,0CAA0C,eAAe;AACzD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gEAAgE;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,0C;;;;;;;;;;;;ACtHa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,6EAAqC;AACzD,YAAY,mBAAO,CAAC,+EAA0B;AAC9C,YAAY,mBAAO,CAAC,+DAAa;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;AC7Ba;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAO,CAAC,2EAAkB;AAC1B,mBAAO,CAAC,sGAAqC;AAC7C,YAAY,mBAAO,CAAC,+EAA0B;AAC9C,gBAAgB,mBAAO,CAAC,2DAAS;AACjC,kBAAkB,mBAAO,CAAC,uCAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD,gC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.autocomplete = factory());\n}(this, (function () { 'use strict';\n\n  /*\r\n   * https://github.com/kraaden/autocomplete\r\n   * Copyright (c) 2016 Denys Krasnoshchok\r\n   * MIT License\r\n   */\r\n  function autocomplete(settings) {\r\n      // just an alias to minimize JS file size\r\n      var doc = document;\r\n      var container = doc.createElement(\"div\");\r\n      var containerStyle = container.style;\r\n      var userAgent = navigator.userAgent;\r\n      var mobileFirefox = userAgent.indexOf(\"Firefox\") !== -1 && userAgent.indexOf(\"Mobile\") !== -1;\r\n      var debounceWaitMs = settings.debounceWaitMs || 0;\r\n      // 'keyup' event will not be fired on Mobile Firefox, so we have to use 'input' event instead\r\n      var keyUpEventName = mobileFirefox ? \"input\" : \"keyup\";\r\n      var items = [];\r\n      var inputValue = \"\";\r\n      var minLen = settings.minLength || 2;\r\n      var selected;\r\n      var keypressCounter = 0;\r\n      var debounceTimer;\r\n      if (!settings.input) {\r\n          throw new Error(\"input undefined\");\r\n      }\r\n      var input = settings.input;\r\n      container.className = \"autocomplete \" + (settings.className || \"\");\r\n      containerStyle.position = \"fixed\";\r\n      /**\r\n       * Detach the container from DOM\r\n       */\r\n      function detach() {\r\n          var parent = container.parentNode;\r\n          if (parent) {\r\n              parent.removeChild(container);\r\n          }\r\n      }\r\n      /**\r\n       * Clear debouncing timer if assigned\r\n       */\r\n      function clearDebounceTimer() {\r\n          if (debounceTimer) {\r\n              window.clearTimeout(debounceTimer);\r\n          }\r\n      }\r\n      /**\r\n       * Attach the container to DOM\r\n       */\r\n      function attach() {\r\n          if (!container.parentNode) {\r\n              doc.body.appendChild(container);\r\n          }\r\n      }\r\n      /**\r\n       * Check if container for autocomplete is displayed\r\n       */\r\n      function containerDisplayed() {\r\n          return !!container.parentNode;\r\n      }\r\n      /**\r\n       * Clear autocomplete state and hide container\r\n       */\r\n      function clear() {\r\n          keypressCounter++;\r\n          items = [];\r\n          inputValue = \"\";\r\n          selected = undefined;\r\n          detach();\r\n      }\r\n      /**\r\n       * Update autocomplete position\r\n       */\r\n      function updatePosition() {\r\n          if (!containerDisplayed()) {\r\n              return;\r\n          }\r\n          containerStyle.height = \"auto\";\r\n          containerStyle.width = input.offsetWidth + \"px\";\r\n          var inputRect = input.getBoundingClientRect();\r\n          var top = inputRect.top + input.offsetHeight;\r\n          var maxHeight = window.innerHeight - top;\r\n          if (maxHeight < 0) {\r\n              maxHeight = 0;\r\n          }\r\n          containerStyle.top = top + \"px\";\r\n          containerStyle.bottom = \"\";\r\n          containerStyle.left = inputRect.left + \"px\";\r\n          containerStyle.maxHeight = maxHeight + \"px\";\r\n          if (settings.customize) {\r\n              settings.customize(input, inputRect, container, maxHeight);\r\n          }\r\n      }\r\n      /**\r\n       * Redraw the autocomplete div element with suggestions\r\n       */\r\n      function update() {\r\n          // delete all children from autocomplete DOM container\r\n          while (container.firstChild) {\r\n              container.removeChild(container.firstChild);\r\n          }\r\n          // function for rendering autocomplete suggestions\r\n          var render = function (item, currentValue) {\r\n              var itemElement = doc.createElement(\"div\");\r\n              itemElement.textContent = item.label || \"\";\r\n              return itemElement;\r\n          };\r\n          if (settings.render) {\r\n              render = settings.render;\r\n          }\r\n          // function to render autocomplete groups\r\n          var renderGroup = function (groupName, currentValue) {\r\n              var groupDiv = doc.createElement(\"div\");\r\n              groupDiv.textContent = groupName;\r\n              return groupDiv;\r\n          };\r\n          if (settings.renderGroup) {\r\n              renderGroup = settings.renderGroup;\r\n          }\r\n          var fragment = doc.createDocumentFragment();\r\n          var prevGroup = \"#9?$\";\r\n          items.forEach(function (item) {\r\n              if (item.group && item.group !== prevGroup) {\r\n                  prevGroup = item.group;\r\n                  var groupDiv = renderGroup(item.group, inputValue);\r\n                  if (groupDiv) {\r\n                      groupDiv.className += \" group\";\r\n                      fragment.appendChild(groupDiv);\r\n                  }\r\n              }\r\n              var div = render(item, inputValue);\r\n              if (div) {\r\n                  div.addEventListener(\"click\", function (ev) {\r\n                      settings.onSelect(item, input);\r\n                      clear();\r\n                      ev.preventDefault();\r\n                      ev.stopPropagation();\r\n                  });\r\n                  if (item === selected) {\r\n                      div.className += \" selected\";\r\n                  }\r\n                  fragment.appendChild(div);\r\n              }\r\n          });\r\n          container.appendChild(fragment);\r\n          if (items.length < 1) {\r\n              if (settings.emptyMsg) {\r\n                  var empty = doc.createElement(\"div\");\r\n                  empty.className = \"empty\";\r\n                  empty.textContent = settings.emptyMsg;\r\n                  container.appendChild(empty);\r\n              }\r\n              else {\r\n                  clear();\r\n                  return;\r\n              }\r\n          }\r\n          attach();\r\n          updatePosition();\r\n          updateScroll();\r\n      }\r\n      function updateIfDisplayed() {\r\n          if (containerDisplayed()) {\r\n              update();\r\n          }\r\n      }\r\n      function resizeEventHandler() {\r\n          updateIfDisplayed();\r\n      }\r\n      function scrollEventHandler(e) {\r\n          if (e.target !== container) {\r\n              updateIfDisplayed();\r\n          }\r\n          else {\r\n              e.preventDefault();\r\n          }\r\n      }\r\n      /**\r\n       * Event handler for keyup event\r\n       */\r\n      function keyup(ev) {\r\n          var keyCode = ev.which || ev.keyCode || 0;\r\n          var ignore = [38 /* Up */, 13 /* Enter */, 27 /* Esc */, 39 /* Right */, 37 /* Left */, 16 /* Shift */, 17 /* Ctrl */, 18 /* Alt */, 20 /* CapsLock */, 91 /* WindowsKey */, 9 /* Tab */];\r\n          for (var _i = 0, ignore_1 = ignore; _i < ignore_1.length; _i++) {\r\n              var key = ignore_1[_i];\r\n              if (keyCode === key) {\r\n                  return;\r\n              }\r\n          }\r\n          // the down key is used to open autocomplete\r\n          if (keyCode === 40 /* Down */ && containerDisplayed()) {\r\n              return;\r\n          }\r\n          // if multiple keys were pressed, before we get update from server,\r\n          // this may cause redrawing our autocomplete multiple times after the last key press.\r\n          // to avoid this, the number of times keyboard was pressed will be\r\n          // saved and checked before redraw our autocomplete box.\r\n          var savedKeypressCounter = ++keypressCounter;\r\n          var val = input.value;\r\n          if (val.length >= minLen) {\r\n              clearDebounceTimer();\r\n              debounceTimer = window.setTimeout(function () {\r\n                  settings.fetch(val, function (elements) {\r\n                      if (keypressCounter === savedKeypressCounter && elements) {\r\n                          items = elements;\r\n                          inputValue = val;\r\n                          selected = items.length > 0 ? items[0] : undefined;\r\n                          update();\r\n                      }\r\n                  });\r\n              }, debounceWaitMs);\r\n          }\r\n          else {\r\n              clear();\r\n          }\r\n      }\r\n      /**\r\n       * Automatically move scroll bar if selected item is not visible\r\n       */\r\n      function updateScroll() {\r\n          var elements = container.getElementsByClassName(\"selected\");\r\n          if (elements.length > 0) {\r\n              var element = elements[0];\r\n              // make group visible\r\n              var previous = element.previousElementSibling;\r\n              if (previous && previous.className.indexOf(\"group\") !== -1 && !previous.previousElementSibling) {\r\n                  element = previous;\r\n              }\r\n              if (element.offsetTop < container.scrollTop) {\r\n                  container.scrollTop = element.offsetTop;\r\n              }\r\n              else {\r\n                  var selectBottom = element.offsetTop + element.offsetHeight;\r\n                  var containerBottom = container.scrollTop + container.offsetHeight;\r\n                  if (selectBottom > containerBottom) {\r\n                      container.scrollTop += selectBottom - containerBottom;\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      /**\r\n       * Select the previous item in suggestions\r\n       */\r\n      function selectPrev() {\r\n          if (items.length < 1) {\r\n              selected = undefined;\r\n          }\r\n          else {\r\n              if (selected === items[0]) {\r\n                  selected = items[items.length - 1];\r\n              }\r\n              else {\r\n                  for (var i = items.length - 1; i > 0; i--) {\r\n                      if (selected === items[i] || i === 1) {\r\n                          selected = items[i - 1];\r\n                          break;\r\n                      }\r\n                  }\r\n              }\r\n          }\r\n      }\r\n      /**\r\n       * Select the next item in suggestions\r\n       */\r\n      function selectNext() {\r\n          if (items.length < 1) {\r\n              selected = undefined;\r\n          }\r\n          if (!selected || selected === items[items.length - 1]) {\r\n              selected = items[0];\r\n              return;\r\n          }\r\n          for (var i = 0; i < (items.length - 1); i++) {\r\n              if (selected === items[i]) {\r\n                  selected = items[i + 1];\r\n                  break;\r\n              }\r\n          }\r\n      }\r\n      /**\r\n       * keydown keyboard event handler\r\n       */\r\n      function keydown(ev) {\r\n          var keyCode = ev.which || ev.keyCode || 0;\r\n          if (keyCode === 38 /* Up */ || keyCode === 40 /* Down */ || keyCode === 27 /* Esc */) {\r\n              var containerIsDisplayed = containerDisplayed();\r\n              if (keyCode === 27 /* Esc */) {\r\n                  clear();\r\n              }\r\n              else {\r\n                  if (!containerDisplayed || items.length < 1) {\r\n                      return;\r\n                  }\r\n                  keyCode === 38 /* Up */\r\n                      ? selectPrev()\r\n                      : selectNext();\r\n                  update();\r\n              }\r\n              ev.preventDefault();\r\n              if (containerIsDisplayed) {\r\n                  ev.stopPropagation();\r\n              }\r\n              return;\r\n          }\r\n          if (keyCode === 13 /* Enter */ && selected) {\r\n              settings.onSelect(selected, input);\r\n              clear();\r\n          }\r\n      }\r\n      /**\r\n       * Blur keyboard event handler\r\n       */\r\n      function blur() {\r\n          // we need to delay clear, because when we click on an item, blur will be called before click and remove items from DOM\r\n          setTimeout(function () {\r\n              if (doc.activeElement !== input) {\r\n                  clear();\r\n              }\r\n          }, 200);\r\n      }\r\n      /**\r\n       * This function will remove DOM elements and clear event handlers\r\n       */\r\n      function destroy() {\r\n          input.removeEventListener(\"keydown\", keydown);\r\n          input.removeEventListener(keyUpEventName, keyup);\r\n          input.removeEventListener(\"blur\", blur);\r\n          window.removeEventListener(\"resize\", resizeEventHandler);\r\n          doc.removeEventListener(\"scroll\", scrollEventHandler, true);\r\n          clearDebounceTimer();\r\n          clear();\r\n          // prevent the update call if there are pending AJAX requests\r\n          keypressCounter++;\r\n      }\r\n      // setup event handlers\r\n      input.addEventListener(\"keydown\", keydown);\r\n      input.addEventListener(keyUpEventName, keyup);\r\n      input.addEventListener(\"blur\", blur);\r\n      window.addEventListener(\"resize\", resizeEventHandler);\r\n      doc.addEventListener(\"scroll\", scrollEventHandler, true);\r\n      return {\r\n          destroy: destroy\r\n      };\r\n  }\n\n  return autocomplete;\n\n})));\n//# sourceMappingURL=autocomplete.js.map\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nmodule.exports = require('../modules/_core').Map;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nmodule.exports = require('../modules/_core').Promise;\n","require('../modules/es6.string.from-code-point');\nrequire('../modules/es6.string.raw');\nrequire('../modules/es6.string.trim');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/es6.string.code-point-at');\nrequire('../modules/es6.string.ends-with');\nrequire('../modules/es6.string.includes');\nrequire('../modules/es6.string.repeat');\nrequire('../modules/es6.string.starts-with');\nrequire('../modules/es6.string.anchor');\nrequire('../modules/es6.string.big');\nrequire('../modules/es6.string.blink');\nrequire('../modules/es6.string.bold');\nrequire('../modules/es6.string.fixed');\nrequire('../modules/es6.string.fontcolor');\nrequire('../modules/es6.string.fontsize');\nrequire('../modules/es6.string.italics');\nrequire('../modules/es6.string.link');\nrequire('../modules/es6.string.small');\nrequire('../modules/es6.string.strike');\nrequire('../modules/es6.string.sub');\nrequire('../modules/es6.string.sup');\nrequire('../modules/es6.regexp.match');\nrequire('../modules/es6.regexp.replace');\nrequire('../modules/es6.regexp.search');\nrequire('../modules/es6.regexp.split');\nmodule.exports = require('../modules/_core').String;\n","require('../modules/es6.symbol');\nrequire('../modules/es6.object.to-string');\nmodule.exports = require('../modules/_core').Symbol;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var core = module.exports = { version: '2.6.5' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = false;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar sameValue = require('./_same-value');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","'use strict';\n// B.2.3.2 String.prototype.anchor(name)\nrequire('./_string-html')('anchor', function (createHTML) {\n  return function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  };\n});\n","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","'use strict';\n// B.2.3.4 String.prototype.blink()\nrequire('./_string-html')('blink', function (createHTML) {\n  return function blink() {\n    return createHTML(this, 'blink', '', '');\n  };\n});\n","'use strict';\n// B.2.3.5 String.prototype.bold()\nrequire('./_string-html')('bold', function (createHTML) {\n  return function bold() {\n    return createHTML(this, 'b', '', '');\n  };\n});\n","'use strict';\nvar $export = require('./_export');\nvar $at = require('./_string-at')(false);\n$export($export.P, 'String', {\n  // 21.1.3.3 String.prototype.codePointAt(pos)\n  codePointAt: function codePointAt(pos) {\n    return $at(this, pos);\n  }\n});\n","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n// B.2.3.7 String.prototype.fontcolor(color)\nrequire('./_string-html')('fontcolor', function (createHTML) {\n  return function fontcolor(color) {\n    return createHTML(this, 'font', 'color', color);\n  };\n});\n","'use strict';\n// B.2.3.8 String.prototype.fontsize(size)\nrequire('./_string-html')('fontsize', function (createHTML) {\n  return function fontsize(size) {\n    return createHTML(this, 'font', 'size', size);\n  };\n});\n","var $export = require('./_export');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar fromCharCode = String.fromCharCode;\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\n$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {\n  // 21.1.2.2 String.fromCodePoint(...codePoints)\n  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars\n    var res = [];\n    var aLen = arguments.length;\n    var i = 0;\n    var code;\n    while (aLen > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');\n      res.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)\n      );\n    } return res.join('');\n  }\n});\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n// B.2.3.9 String.prototype.italics()\nrequire('./_string-html')('italics', function (createHTML) {\n  return function italics() {\n    return createHTML(this, 'i', '', '');\n  };\n});\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var $export = require('./_export');\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\n\n$export($export.S, 'String', {\n  // 21.1.2.4 String.raw(callSite, ...substitutions)\n  raw: function raw(callSite) {\n    var tpl = toIObject(callSite.raw);\n    var len = toLength(tpl.length);\n    var aLen = arguments.length;\n    var res = [];\n    var i = 0;\n    while (len > i) {\n      res.push(String(tpl[i++]));\n      if (i < aLen) res.push(String(arguments[i]));\n    } return res.join('');\n  }\n});\n","var $export = require('./_export');\n\n$export($export.P, 'String', {\n  // 21.1.3.13 String.prototype.repeat(count)\n  repeat: require('./_string-repeat')\n});\n","'use strict';\n// B.2.3.11 String.prototype.small()\nrequire('./_string-html')('small', function (createHTML) {\n  return function small() {\n    return createHTML(this, 'small', '', '');\n  };\n});\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\n// B.2.3.12 String.prototype.strike()\nrequire('./_string-html')('strike', function (createHTML) {\n  return function strike() {\n    return createHTML(this, 'strike', '', '');\n  };\n});\n","'use strict';\n// B.2.3.13 String.prototype.sub()\nrequire('./_string-html')('sub', function (createHTML) {\n  return function sub() {\n    return createHTML(this, 'sub', '', '');\n  };\n});\n","'use strict';\n// B.2.3.14 String.prototype.sup()\nrequire('./_string-html')('sup', function (createHTML) {\n  return function sup() {\n    return createHTML(this, 'sup', '', '');\n  };\n});\n","'use strict';\n// 21.1.3.25 String.prototype.trim()\nrequire('./_string-trim')('trim', function ($trim) {\n  return function trim() {\n    return $trim(this, 3);\n  };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","exports = module.exports = require(\"../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (c) 2017-2018 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.sprotty {\\n    display: flex;\\n    height:100%;\\n}\\n\\nsvg {\\n    width: 100%;\\n    flex: 1;\\n    border-style: solid;\\n    border-width: 0px;\\n}\\n\\nsvg:focus {\\n    border-width: 0;\\n}\\n\\n.sprotty-status {\\n    position: absolute;\\n    top: 5px;\\n    left: 10px;\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.sprotty-status .fatal {\\n    color: var(--theia-error-color1)\\n}\\n\\n.sprotty-status .error {\\n    color: var(--theia-error-color0)\\n}\\n\\n.sprotty-status .warning {\\n    color: var(--theia-warn-color0)\\n}\\n\\n.sprotty-status .info {\\n    color: var(--theia-info-color0)\\n}\\n\\n.sprotty-error {\\n    fill: var(--theia-error-color0);\\n    color: var(--theia-error-color0);\\n}\\n\\n.sprotty-warning {\\n    fill: var(--theia-warn-color0);\\n    color: var(--theia-warn-color0);\\n}\\n\\n.sprotty-info {\\n    fill: var(--theia-info-color0);\\n    color: var(--theia-info-color0);\\n}\\n\\n.sprotty-infoRow .fa {\\n    margin-right: 8px;\\n}\\n.sprotty-status .ok {\\n    visibility: hidden;\\n}\\n\\n.sprotty-status-message {\\n    visibility: hidden;\\n    padding-left: 10px;\\n}\\n\\n.sprotty-status-message.fatal {\\n    visibility: visible;\\n    padding-left: 10px;\\n}\\n\\n.sprotty-status:hover .sprotty-status-message {\\n    visibility: visible;\\n}\\n\\n.sprotty-popup {\\n    position: absolute;\\n    background: #FFE9BE;\\n    border-radius: 0px;\\n    border: none;\\n    max-width: initial;\\n    min-width: initial;\\n    z-index: 1;\\n    padding: 8px;\\n}\\n\\n.sprotty-infoRow {\\n    font-size: small;\\n    margin-bottom: 8px;\\n}\\n\\n.sprotty-infoTitle {\\n    display: block;\\n    font-weight: bold;\\n}\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (c) 2019 EclipseSource and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.command-palette {\\n    transition: opacity 0.3s linear;\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n}\\n\\n.command-palette-suggestions {\\n    background: white;\\n    z-index: 1000;\\n    overflow: auto;\\n    box-sizing: border-box;\\n    border: 1px solid rgba(60, 60, 60, 0.6);\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n}\\n\\n.command-palette-suggestions * {\\n    font: inherit;\\n}\\n\\n.command-palette-suggestions>div {\\n    padding: 0 4px;\\n}\\n\\n.command-palette-suggestions .group {\\n    background: #eee;\\n}\\n\\n.command-palette-suggestions>div:hover:not(.group), .command-palette-suggestions>div.selected {\\n    cursor: pointer;\\n}\\n\\n.command-palette-suggestions>div:hover:not(.group) {\\n    background: #e0e0e0;\\n}\\n\\n.command-palette-suggestions>div.selected {\\n    background: #bbdefb;\\n}\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (c) 2019 EclipseSource and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.sprotty {\\n    padding: 0px;\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n}\\n\\n.sprotty-hidden {\\n    display: block;\\n    position: absolute;\\n    width: 0px;\\n    height: 0px;\\n}\\n\\n.sprotty-popup {\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n    position: absolute;\\n    background: white;\\n    border-radius: 5px;\\n    border: 1px solid;\\n    max-width: 400px;\\n    min-width: 100px;\\n}\\n\\n.sprotty-popup>div {\\n    margin: 10px;\\n}\\n\\n.sprotty-popup-closed {\\n    display: none;\\n}\\n\\n.sprotty-resize-handle {\\n    r: 7px;\\n    fill: #884;\\n    stroke: none;\\n    z-index: 1000;\\n}\\n\\n.sprotty-resize-handle.selected {\\n    fill: #66a;\\n}\\n\\n.sprotty-resize-handle.mouseover {\\n    stroke: #112;\\n    stroke-width: 1;\\n}\\n\\n.node-creation-mode {\\n    cursor: copy;\\n}\\n\\n.edge-modification-not-allowed-mode {\\n    cursor: no-drop;\\n}\\n\\n.edge-creation-select-source-mode {\\n    cursor: pointer;\\n}\\n\\n.edge-creation-select-target-mode, .edge-reconnect-select-target-mode {\\n    cursor: crosshair;\\n}\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nexports.push([module.id, \"@import url(https://use.fontawesome.com/releases/v5.6.3/css/all.css);\", \"\"]);\n\n// Module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (c) 2019 EclipseSource and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n/* Css for main container */\\n\\n.tool-palette {\\n    position: absolute;\\n    right: 25px;\\n    top: 25px;\\n    text-align: center;\\n    width: 150px;\\n    display: block;\\n    z-index: 1000;\\n    border-style: solid;\\n    border-width: 0px;\\n    border-color: #bbb;\\n    border-radius: 5px;\\n}\\n\\n/* Css for header compartment */\\n\\n.palette-header {\\n    padding: 0.4em;\\n    text-align: left;\\n    font-size: 1.15em;\\n    font-weight: bold;\\n    background: #CCCCCC;\\n    border: 1px solid rgba(60, 60, 60, 0.6);\\n}\\n\\n.header-icon i {\\n    margin-right: 0.2em\\n}\\n\\n.header-tools i {\\n    border: 1px solid #CCCCCC;\\n    padding: 0.2em;\\n    margin-right: 0.2em;\\n}\\n\\n.header-tools i:hover {\\n    background: #DFDFDF;\\n}\\n\\n.header-tools .clicked {\\n    background: #BDDAEF;\\n    border: 1px solid rgba(60, 60, 60, 0.6);\\n}\\n\\n/*Css for palette body compartment */\\n\\n.palette-body {\\n    background: rgba(100, 100, 100, 0.2);\\n    border: 1px solid rgba(60, 60, 60, 0.6);\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\\n}\\n\\n.tool-group {\\n    text-align: left;\\n    background: #EDEDEE;\\n}\\n\\n.group-header {\\n    font-weight: bold;\\n    background: #CCCCCC;\\n}\\n\\n.group-header:hover {\\n    background: #AAAAAA;\\n}\\n\\n.group-header i {\\n    padding: 0.4em;\\n}\\n\\n.tool-button {\\n    background: #EDEDEE;\\n    padding: 0.4em;\\n}\\n\\n.tool-button:hover {\\n    background: #DFDFDF;\\n}\\n\\n.tool-button.clicked {\\n    background: #BDDAEF;\\n}\\n\\n.tool-button.collapsed {\\n    display: none;\\n}\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (c) 2019 EclipseSource and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.sprotty-graph {\\n    font-size: 15pt;\\n    background: rgb(179, 196, 202);\\n    border: none;\\n    height: 100%;\\n}\\n\\n.sprotty-popup {\\n    z-index: 1;\\n}\\n\\n.sprotty-text {\\n    font-size: 12pt;\\n    text-anchor: middle\\n}\\n\\n.sprotty-node {\\n    fill: #cdc;\\n    stroke: #152;\\n    stroke-width: 0;\\n    font-weight: bold;\\n}\\n\\n.sprotty-node.mouseover:not(.selected) {\\n    stroke-width: 3;\\n}\\n\\n.sprotty-comp {\\n    line-height: 3px;\\n    font-weight: normal;\\n    text-align: left;\\n}\\n\\n.sprotty-label {\\n    stroke-width: 0;\\n    fill: #000;\\n    font-weight: inherit;\\n    text-align: inherit;\\n    font-size: 100%;\\n}\\n\\n.sprotty-label.heading {\\n    font-weight: bold;\\n}\\n\\n.sprotty-icon {\\n    fill: black;\\n    stroke-width: 0;\\n}\\n\\n.sprotty-label.icon {\\n    fill: #fff;\\n}\\n\\n.sprotty-button {\\n    fill: #152;\\n    stroke-width: 0;\\n}\\n\\n.sprotty-edge {\\n    fill: none;\\n    stroke: black;\\n    stroke-width: 2px;\\n}\\n\\n.sprotty-edge.arrow {\\n    fill: black;\\n}\\n\\n.sprotty-edge.selected {\\n    stroke: #844;\\n    stroke-width: 4px;\\n}\\n\\n.sprotty-edge.mouseover:not(.selected) {\\n    stroke-width: 3px;\\n}\\n\\n.sprotty-edge>.sprotty-routing-handle {\\n    r: 7px;\\n    fill: #884;\\n    stroke: none;\\n    z-index: 1000;\\n}\\n\\n.sprotty-edge>.sprotty-routing-handle[data-kind='line'] {\\n    opacity: 0.35;\\n}\\n\\n.sprotty-edge>.sprotty-routing-handle.selected {\\n    fill: #66a;\\n}\\n\\n.sprotty-edge>.sprotty-routing-handle.mouseover {\\n    stroke: #112;\\n    stroke-width: 1;\\n}\\n\\n.sprotty-missing {\\n    stroke-width: 1;\\n    stroke: #f00;\\n    fill: #f00;\\n    font-size: 14pt;\\n    text-anchor: middle;\\n}\\n\\n.sprotty-node.task {\\n    stroke-width: 1px;\\n    stroke: black;\\n}\\n\\n.sprotty-node.task.automated {\\n    fill: gray;\\n}\\n\\n.sprotty-node.task.manual {\\n    fill: lightblue;\\n}\\n\\ntext {\\n    stroke-width: 0;\\n    stroke: #000;\\n    fill: #000;\\n    font-family: sans-serif;\\n    font-size: 8pt;\\n    text-anchor: middle;\\n}\\n\\n.sprotty-edge.weighted.low, .sprotty-edge.weighted.low .arrow {\\n    stroke: lightblue\\n}\\n\\n.sprotty-edge.weighted.low .arrow {\\n    fill: lightblue;\\n}\\n\\n.sprotty-edge.weighted.medium, .sprotty-edge.weighted.medium .arrow {\\n    stroke: blue\\n}\\n\\n.sprotty-edge.weighted.medium .arrow {\\n    fill: blue;\\n}\\n\\n.sprotty-edge.weighted.high, .sprotty-edge.weighted.high .arrow {\\n    stroke: darkblue\\n}\\n\\n.sprotty-edge.weighted.high .arrow {\\n    fill: darkblue;\\n}\\n\\npolygon.sprotty-node {\\n    fill: white;\\n    stroke: black;\\n    stroke-width: 1pt;\\n}\\n\\n.sprotty-node.selected {\\n    stroke-width: 5;\\n}\\n\\nsvg {\\n    border-style: solid;\\n    border-width: 1px;\\n    border-color: #bbb;\\n}\\n\", \"\"]);\n\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","var attrRE = /([\\w-]+)|=|(['\"])([.\\s\\S]*?)\\2/g;\nvar voidElements = require('void-elements');\n\nmodule.exports = function (tag) {\n    var i = 0;\n    var key;\n    var expectingValueAfterEquals = true;\n    var res = {\n        type: 'tag',\n        name: '',\n        voidElement: false,\n        attrs: {},\n        children: []\n    };\n\n    tag.replace(attrRE, function (match) {\n        if (match === '=') {\n            expectingValueAfterEquals = true;\n            i++;\n            return;\n        }\n\n        if (!expectingValueAfterEquals) {\n            if (key) {\n                res.attrs[key] = key; // boolean attribute\n            }\n            key=match;\n        } else {\n            if (i === 0) {\n                if (voidElements[match] || tag.charAt(tag.length - 2) === '/') {\n                    res.voidElement = true;\n                }\n                res.name = match;\n            } else {\n                res.attrs[key] = match.replace(/^['\"]|['\"]$/g, '');\n                key=undefined;\n            }\n        }\n        i++;\n        expectingValueAfterEquals = false;\n    });\n\n    return res;\n};\n","/*jshint -W030 */\nvar tagRE = /(?:<!--[\\S\\s]*?-->|<(?:\"[^\"]*\"['\"]*|'[^']*'['\"]*|[^'\">])+>)/g;\nvar parseTag = require('./parse-tag');\n// re-used obj for quick lookups of components\nvar empty = Object.create ? Object.create(null) : {};\n// common logic for pushing a child node onto a list\nfunction pushTextNode(list, html, level, start, ignoreWhitespace) {\n    // calculate correct end of the content slice in case there's\n    // no tag after the text node.\n    var end = html.indexOf('<', start);\n    var content = html.slice(start, end === -1 ? undefined : end);\n    // if a node is nothing but whitespace, collapse it as the spec states:\n    // https://www.w3.org/TR/html4/struct/text.html#h-9.1\n    if (/^\\s*$/.test(content)) {\n        content = ' ';\n    }\n    // don't add whitespace-only text nodes if they would be trailing text nodes\n    // or if they would be leading whitespace-only text nodes:\n    //  * end > -1 indicates this is not a trailing text node\n    //  * leading node is when level is -1 and list has length 0\n    if ((!ignoreWhitespace && end > -1 && level + list.length >= 0) || content !== ' ') {\n        list.push({\n            type: 'text',\n            content: content\n        });\n    }\n}\n\nmodule.exports = function parse(html, options) {\n    options || (options = {});\n    options.components || (options.components = empty);\n    var result = [];\n    var current;\n    var level = -1;\n    var arr = [];\n    var byTag = {};\n    var inComponent = false;\n\n    html.replace(tagRE, function (tag, index) {\n        if (inComponent) {\n            if (tag !== ('</' + current.name + '>')) {\n                return;\n            } else {\n                inComponent = false;\n            }\n        }\n\n        var isOpen = tag.charAt(1) !== '/';\n        var isComment = tag.indexOf('<!--') === 0;\n        var start = index + tag.length;\n        var nextChar = html.charAt(start);\n        var parent;\n\n        if (isOpen && !isComment) {\n            level++;\n\n            current = parseTag(tag);\n            if (current.type === 'tag' && options.components[current.name]) {\n                current.type = 'component';\n                inComponent = true;\n            }\n\n            if (!current.voidElement && !inComponent && nextChar && nextChar !== '<') {\n                pushTextNode(current.children, html, level, start, options.ignoreWhitespace);\n            }\n\n            byTag[current.tagName] = current;\n\n            // if we're at root, push new base node\n            if (level === 0) {\n                result.push(current);\n            }\n\n            parent = arr[level - 1];\n\n            if (parent) {\n                parent.children.push(current);\n            }\n\n            arr[level] = current;\n        }\n\n        if (isComment || !isOpen || current.voidElement) {\n            if (!isComment) {\n                level--;\n            }\n            if (!inComponent && nextChar !== '<' && nextChar) {\n                // trailing text node\n                // if we're at the root, push a base text node. otherwise add as\n                // a child to the current node.\n                parent = level === -1 ? result : arr[level].children;\n                pushTextNode(parent, html, level, start, options.ignoreWhitespace);\n            }\n        }\n    });\n\n    // If the \"html\" passed isn't actually html, add it as a text node.\n    if (!result.length && html.length) {\n        pushTextNode(result, html, 0, 0, options.ignoreWhitespace);\n    }\n\n    return result;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = (function () {\n    function LazyServiceIdentifer(cb) {\n        this._cb = cb;\n    }\n    LazyServiceIdentifer.prototype.unwrap = function () {\n        return this._cb();\n    };\n    return LazyServiceIdentifer;\n}());\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        if (serviceIdentifier === undefined) {\n            throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n        }\n        var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.inject = inject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction injectable() {\n    return function (target) {\n        if (Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES, target)) {\n            throw new Error(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);\n        }\n        var types = Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES, target) || [];\n        Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES, types, target);\n        return target;\n    };\n}\nexports.injectable = injectable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction multiInject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.MULTI_INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.multiInject = multiInject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction named(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, name);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.named = named;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction optional() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.OPTIONAL_TAG, true);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.optional = optional;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nfunction postConstruct() {\n    return function (target, propertyKey, descriptor) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.POST_CONSTRUCT, propertyKey);\n        if (Reflect.hasOwnMetadata(METADATA_KEY.POST_CONSTRUCT, target.constructor)) {\n            throw new Error(ERRORS_MSGS.MULTIPLE_POST_CONSTRUCT_METHODS);\n        }\n        Reflect.defineMetadata(METADATA_KEY.POST_CONSTRUCT, metadata, target.constructor);\n    };\n}\nexports.postConstruct = postConstruct;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction tagged(metadataKey, metadataValue) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(metadataKey, metadataValue);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.tagged = tagged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction targetName(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAME_TAG, name);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.targetName = targetName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction unmanaged() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.UNMANAGED_TAG, true);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.unmanaged = unmanaged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar id_1 = require(\"../utils/id\");\nvar Binding = (function () {\n    function Binding(serviceIdentifier, scope) {\n        this.id = id_1.id();\n        this.activated = false;\n        this.serviceIdentifier = serviceIdentifier;\n        this.scope = scope;\n        this.type = literal_types_1.BindingTypeEnum.Invalid;\n        this.constraint = function (request) { return true; };\n        this.implementationType = null;\n        this.cache = null;\n        this.factory = null;\n        this.provider = null;\n        this.onActivation = null;\n        this.dynamicValue = null;\n    }\n    Binding.prototype.clone = function () {\n        var clone = new Binding(this.serviceIdentifier, this.scope);\n        clone.activated = false;\n        clone.implementationType = this.implementationType;\n        clone.dynamicValue = this.dynamicValue;\n        clone.scope = this.scope;\n        clone.type = this.type;\n        clone.factory = this.factory;\n        clone.provider = this.provider;\n        clone.constraint = this.constraint;\n        clone.onActivation = this.onActivation;\n        clone.cache = this.cache;\n        return clone;\n    };\n    return Binding;\n}());\nexports.Binding = Binding;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingCount = {\n    MultipleBindingsAvailable: 2,\n    NoBindingsAvailable: 0,\n    OnlyOneBindingAvailable: 1\n};\nexports.BindingCount = BindingCount;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DUPLICATED_INJECTABLE_DECORATOR = \"Cannot apply @injectable decorator multiple times.\";\nexports.DUPLICATED_METADATA = \"Metadata key was used more than once in a parameter:\";\nexports.NULL_ARGUMENT = \"NULL argument\";\nexports.KEY_NOT_FOUND = \"Key Not Found\";\nexports.AMBIGUOUS_MATCH = \"Ambiguous match found for serviceIdentifier:\";\nexports.CANNOT_UNBIND = \"Could not unbind serviceIdentifier:\";\nexports.NOT_REGISTERED = \"No matching bindings found for serviceIdentifier:\";\nexports.MISSING_INJECTABLE_ANNOTATION = \"Missing required @injectable annotation in:\";\nexports.MISSING_INJECT_ANNOTATION = \"Missing required @inject or @multiInject annotation in:\";\nexports.UNDEFINED_INJECT_ANNOTATION = function (name) {\n    return \"@inject called with undefined this could mean that the class \" + name + \" has \" +\n        \"a circular dependency problem. You can use a LazyServiceIdentifer to  \" +\n        \"overcome this limitation.\";\n};\nexports.CIRCULAR_DEPENDENCY = \"Circular dependency found:\";\nexports.NOT_IMPLEMENTED = \"Sorry, this feature is not fully implemented yet.\";\nexports.INVALID_BINDING_TYPE = \"Invalid binding type:\";\nexports.NO_MORE_SNAPSHOTS_AVAILABLE = \"No snapshot available to restore.\";\nexports.INVALID_MIDDLEWARE_RETURN = \"Invalid return type in middleware. Middleware must return!\";\nexports.INVALID_FUNCTION_BINDING = \"Value provided to function binding must be a function!\";\nexports.INVALID_TO_SELF_VALUE = \"The toSelf function can only be applied when a constructor is \" +\n    \"used as service identifier\";\nexports.INVALID_DECORATOR_OPERATION = \"The @inject @multiInject @tagged and @named decorators \" +\n    \"must be applied to the parameters of a class constructor or a class property.\";\nexports.ARGUMENTS_LENGTH_MISMATCH = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"The number of constructor arguments in the derived class \" +\n        (values[0] + \" must be >= than the number of constructor arguments of its base class.\");\n};\nexports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = \"Invalid Container constructor argument. Container options \" +\n    \"must be an object.\";\nexports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = \"Invalid Container option. Default scope must \" +\n    \"be a string ('singleton' or 'transient').\";\nexports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = \"Invalid Container option. Auto bind injectable must \" +\n    \"be a boolean\";\nexports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = \"Invalid Container option. Skip base check must \" +\n    \"be a boolean\";\nexports.MULTIPLE_POST_CONSTRUCT_METHODS = \"Cannot apply @postConstruct decorator multiple times in the same class\";\nexports.POST_CONSTRUCT_ERROR = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"@postConstruct error in class \" + values[0] + \": \" + values[1];\n};\nexports.CIRCULAR_DEPENDENCY_IN_FACTORY = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"It looks like there is a circular dependency \" +\n        (\"in one of the '\" + values[0] + \"' bindings. Please investigate bindings with\") +\n        (\"service identifier '\" + values[1] + \"'.\");\n};\nexports.STACK_OVERFLOW = \"Maximum call stack size exceeded\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BindingScopeEnum = {\n    Request: \"Request\",\n    Singleton: \"Singleton\",\n    Transient: \"Transient\"\n};\nexports.BindingScopeEnum = BindingScopeEnum;\nvar BindingTypeEnum = {\n    ConstantValue: \"ConstantValue\",\n    Constructor: \"Constructor\",\n    DynamicValue: \"DynamicValue\",\n    Factory: \"Factory\",\n    Function: \"Function\",\n    Instance: \"Instance\",\n    Invalid: \"Invalid\",\n    Provider: \"Provider\"\n};\nexports.BindingTypeEnum = BindingTypeEnum;\nvar TargetTypeEnum = {\n    ClassProperty: \"ClassProperty\",\n    ConstructorArgument: \"ConstructorArgument\",\n    Variable: \"Variable\"\n};\nexports.TargetTypeEnum = TargetTypeEnum;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NAMED_TAG = \"named\";\nexports.NAME_TAG = \"name\";\nexports.UNMANAGED_TAG = \"unmanaged\";\nexports.OPTIONAL_TAG = \"optional\";\nexports.INJECT_TAG = \"inject\";\nexports.MULTI_INJECT_TAG = \"multi_inject\";\nexports.TAGGED = \"inversify:tagged\";\nexports.TAGGED_PROP = \"inversify:tagged_props\";\nexports.PARAM_TYPES = \"inversify:paramtypes\";\nexports.DESIGN_PARAM_TYPES = \"design:paramtypes\";\nexports.POST_CONSTRUCT = \"post_construct\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_1 = require(\"../bindings/binding\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_reader_1 = require(\"../planning/metadata_reader\");\nvar planner_1 = require(\"../planning/planner\");\nvar resolver_1 = require(\"../resolution/resolver\");\nvar binding_to_syntax_1 = require(\"../syntax/binding_to_syntax\");\nvar id_1 = require(\"../utils/id\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar container_snapshot_1 = require(\"./container_snapshot\");\nvar lookup_1 = require(\"./lookup\");\nvar Container = (function () {\n    function Container(containerOptions) {\n        var options = containerOptions || {};\n        if (typeof options !== \"object\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);\n        }\n        if (options.defaultScope === undefined) {\n            options.defaultScope = literal_types_1.BindingScopeEnum.Transient;\n        }\n        else if (options.defaultScope !== literal_types_1.BindingScopeEnum.Singleton &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Transient &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Request) {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);\n        }\n        if (options.autoBindInjectable === undefined) {\n            options.autoBindInjectable = false;\n        }\n        else if (typeof options.autoBindInjectable !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);\n        }\n        if (options.skipBaseClassChecks === undefined) {\n            options.skipBaseClassChecks = false;\n        }\n        else if (typeof options.skipBaseClassChecks !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);\n        }\n        this.options = {\n            autoBindInjectable: options.autoBindInjectable,\n            defaultScope: options.defaultScope,\n            skipBaseClassChecks: options.skipBaseClassChecks\n        };\n        this.id = id_1.id();\n        this._bindingDictionary = new lookup_1.Lookup();\n        this._snapshots = [];\n        this._middleware = null;\n        this.parent = null;\n        this._metadataReader = new metadata_reader_1.MetadataReader();\n    }\n    Container.merge = function (container1, container2) {\n        var container = new Container();\n        var bindingDictionary = planner_1.getBindingDictionary(container);\n        var bindingDictionary1 = planner_1.getBindingDictionary(container1);\n        var bindingDictionary2 = planner_1.getBindingDictionary(container2);\n        function copyDictionary(origin, destination) {\n            origin.traverse(function (key, value) {\n                value.forEach(function (binding) {\n                    destination.add(binding.serviceIdentifier, binding.clone());\n                });\n            });\n        }\n        copyDictionary(bindingDictionary1, bindingDictionary);\n        copyDictionary(bindingDictionary2, bindingDictionary);\n        return container;\n    };\n    Container.prototype.load = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var getHelpers = this._getContainerModuleHelpersFactory();\n        for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {\n            var currentModule = modules_1[_a];\n            var containerModuleHelpers = getHelpers(currentModule.id);\n            currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction);\n        }\n    };\n    Container.prototype.loadAsync = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        getHelpers = this._getContainerModuleHelpersFactory();\n                        _a = 0, modules_2 = modules;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_a < modules_2.length)) return [3, 4];\n                        currentModule = modules_2[_a];\n                        containerModuleHelpers = getHelpers(currentModule.id);\n                        return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _a++;\n                        return [3, 1];\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.unload = function () {\n        var _this = this;\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var conditionFactory = function (expected) { return function (item) {\n            return item.moduleId === expected;\n        }; };\n        modules.forEach(function (module) {\n            var condition = conditionFactory(module.id);\n            _this._bindingDictionary.removeByCondition(condition);\n        });\n    };\n    Container.prototype.bind = function (serviceIdentifier) {\n        var scope = this.options.defaultScope || literal_types_1.BindingScopeEnum.Transient;\n        var binding = new binding_1.Binding(serviceIdentifier, scope);\n        this._bindingDictionary.add(serviceIdentifier, binding);\n        return new binding_to_syntax_1.BindingToSyntax(binding);\n    };\n    Container.prototype.rebind = function (serviceIdentifier) {\n        this.unbind(serviceIdentifier);\n        return this.bind(serviceIdentifier);\n    };\n    Container.prototype.unbind = function (serviceIdentifier) {\n        try {\n            this._bindingDictionary.remove(serviceIdentifier);\n        }\n        catch (e) {\n            throw new Error(ERROR_MSGS.CANNOT_UNBIND + \" \" + serialization_1.getServiceIdentifierAsString(serviceIdentifier));\n        }\n    };\n    Container.prototype.unbindAll = function () {\n        this._bindingDictionary = new lookup_1.Lookup();\n    };\n    Container.prototype.isBound = function (serviceIdentifier) {\n        var bound = this._bindingDictionary.hasKey(serviceIdentifier);\n        if (!bound && this.parent) {\n            bound = this.parent.isBound(serviceIdentifier);\n        }\n        return bound;\n    };\n    Container.prototype.isBoundNamed = function (serviceIdentifier, named) {\n        return this.isBoundTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.isBoundTagged = function (serviceIdentifier, key, value) {\n        var bound = false;\n        if (this._bindingDictionary.hasKey(serviceIdentifier)) {\n            var bindings = this._bindingDictionary.get(serviceIdentifier);\n            var request_1 = planner_1.createMockRequest(this, serviceIdentifier, key, value);\n            bound = bindings.some(function (b) { return b.constraint(request_1); });\n        }\n        if (!bound && this.parent) {\n            bound = this.parent.isBoundTagged(serviceIdentifier, key, value);\n        }\n        return bound;\n    };\n    Container.prototype.snapshot = function () {\n        this._snapshots.push(container_snapshot_1.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware));\n    };\n    Container.prototype.restore = function () {\n        var snapshot = this._snapshots.pop();\n        if (snapshot === undefined) {\n            throw new Error(ERROR_MSGS.NO_MORE_SNAPSHOTS_AVAILABLE);\n        }\n        this._bindingDictionary = snapshot.bindings;\n        this._middleware = snapshot.middleware;\n    };\n    Container.prototype.createChild = function (containerOptions) {\n        var child = new Container(containerOptions || this.options);\n        child.parent = this;\n        return child;\n    };\n    Container.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        var initial = (this._middleware) ? this._middleware : this._planAndResolve();\n        this._middleware = middlewares.reduce(function (prev, curr) { return curr(prev); }, initial);\n    };\n    Container.prototype.applyCustomMetadataReader = function (metadataReader) {\n        this._metadataReader = metadataReader;\n    };\n    Container.prototype.get = function (serviceIdentifier) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getNamed = function (serviceIdentifier, named) {\n        return this.getTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.getAll = function (serviceIdentifier) {\n        return this._get(true, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getAllTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getAllNamed = function (serviceIdentifier, named) {\n        return this.getAllTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.resolve = function (constructorFunction) {\n        var tempContainer = this.createChild();\n        tempContainer.bind(constructorFunction).toSelf();\n        return tempContainer.get(constructorFunction);\n    };\n    Container.prototype._getContainerModuleHelpersFactory = function () {\n        var _this = this;\n        var setModuleId = function (bindingToSyntax, moduleId) {\n            bindingToSyntax._binding.moduleId = moduleId;\n        };\n        var getBindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _bind = _this.bind.bind(_this);\n                var bindingToSyntax = _bind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        var getUnbindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _unbind = _this.unbind.bind(_this);\n                _unbind(serviceIdentifier);\n            };\n        };\n        var getIsboundFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _isBound = _this.isBound.bind(_this);\n                return _isBound(serviceIdentifier);\n            };\n        };\n        var getRebindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _rebind = _this.rebind.bind(_this);\n                var bindingToSyntax = _rebind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        return function (mId) { return ({\n            bindFunction: getBindFunction(mId),\n            isboundFunction: getIsboundFunction(mId),\n            rebindFunction: getRebindFunction(mId),\n            unbindFunction: getUnbindFunction(mId)\n        }); };\n    };\n    Container.prototype._get = function (avoidConstraints, isMultiInject, targetType, serviceIdentifier, key, value) {\n        var result = null;\n        var defaultArgs = {\n            avoidConstraints: avoidConstraints,\n            contextInterceptor: function (context) { return context; },\n            isMultiInject: isMultiInject,\n            key: key,\n            serviceIdentifier: serviceIdentifier,\n            targetType: targetType,\n            value: value\n        };\n        if (this._middleware) {\n            result = this._middleware(defaultArgs);\n            if (result === undefined || result === null) {\n                throw new Error(ERROR_MSGS.INVALID_MIDDLEWARE_RETURN);\n            }\n        }\n        else {\n            result = this._planAndResolve()(defaultArgs);\n        }\n        return result;\n    };\n    Container.prototype._planAndResolve = function () {\n        var _this = this;\n        return function (args) {\n            var context = planner_1.plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);\n            context = args.contextInterceptor(context);\n            var result = resolver_1.resolve(context);\n            return result;\n        };\n    };\n    return Container;\n}());\nexports.Container = Container;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar ContainerModule = (function () {\n    function ContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return ContainerModule;\n}());\nexports.ContainerModule = ContainerModule;\nvar AsyncContainerModule = (function () {\n    function AsyncContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return AsyncContainerModule;\n}());\nexports.AsyncContainerModule = AsyncContainerModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ContainerSnapshot = (function () {\n    function ContainerSnapshot() {\n    }\n    ContainerSnapshot.of = function (bindings, middleware) {\n        var snapshot = new ContainerSnapshot();\n        snapshot.bindings = bindings;\n        snapshot.middleware = middleware;\n        return snapshot;\n    };\n    return ContainerSnapshot;\n}());\nexports.ContainerSnapshot = ContainerSnapshot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar keys = require(\"./constants/metadata_keys\");\nexports.METADATA_KEY = keys;\nvar container_1 = require(\"./container/container\");\nexports.Container = container_1.Container;\nvar literal_types_1 = require(\"./constants/literal_types\");\nexports.BindingScopeEnum = literal_types_1.BindingScopeEnum;\nexports.BindingTypeEnum = literal_types_1.BindingTypeEnum;\nexports.TargetTypeEnum = literal_types_1.TargetTypeEnum;\nvar container_module_1 = require(\"./container/container_module\");\nexports.AsyncContainerModule = container_module_1.AsyncContainerModule;\nexports.ContainerModule = container_module_1.ContainerModule;\nvar injectable_1 = require(\"./annotation/injectable\");\nexports.injectable = injectable_1.injectable;\nvar tagged_1 = require(\"./annotation/tagged\");\nexports.tagged = tagged_1.tagged;\nvar named_1 = require(\"./annotation/named\");\nexports.named = named_1.named;\nvar inject_1 = require(\"./annotation/inject\");\nexports.inject = inject_1.inject;\nexports.LazyServiceIdentifer = inject_1.LazyServiceIdentifer;\nvar optional_1 = require(\"./annotation/optional\");\nexports.optional = optional_1.optional;\nvar unmanaged_1 = require(\"./annotation/unmanaged\");\nexports.unmanaged = unmanaged_1.unmanaged;\nvar multi_inject_1 = require(\"./annotation/multi_inject\");\nexports.multiInject = multi_inject_1.multiInject;\nvar target_name_1 = require(\"./annotation/target_name\");\nexports.targetName = target_name_1.targetName;\nvar post_construct_1 = require(\"./annotation/post_construct\");\nexports.postConstruct = post_construct_1.postConstruct;\nvar metadata_reader_1 = require(\"./planning/metadata_reader\");\nexports.MetadataReader = metadata_reader_1.MetadataReader;\nvar id_1 = require(\"./utils/id\");\nexports.id = id_1.id;\nvar decorator_utils_1 = require(\"./annotation/decorator_utils\");\nexports.decorate = decorator_utils_1.decorate;\nvar constraint_helpers_1 = require(\"./syntax/constraint_helpers\");\nexports.traverseAncerstors = constraint_helpers_1.traverseAncerstors;\nexports.taggedConstraint = constraint_helpers_1.taggedConstraint;\nexports.namedConstraint = constraint_helpers_1.namedConstraint;\nexports.typeConstraint = constraint_helpers_1.typeConstraint;\nvar serialization_1 = require(\"./utils/serialization\");\nexports.getServiceIdentifierAsString = serialization_1.getServiceIdentifierAsString;\nvar binding_utils_1 = require(\"./utils/binding_utils\");\nexports.multiBindToService = binding_utils_1.multiBindToService;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar Context = (function () {\n    function Context(container) {\n        this.id = id_1.id();\n        this.container = container;\n    }\n    Context.prototype.addPlan = function (plan) {\n        this.plan = plan;\n    };\n    Context.prototype.setCurrentRequest = function (currentRequest) {\n        this.currentRequest = currentRequest;\n    };\n    return Context;\n}());\nexports.Context = Context;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar Metadata = (function () {\n    function Metadata(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    Metadata.prototype.toString = function () {\n        if (this.key === METADATA_KEY.NAMED_TAG) {\n            return \"named: \" + this.value.toString() + \" \";\n        }\n        else {\n            return \"tagged: { key:\" + this.key.toString() + \", value: \" + this.value + \" }\";\n        }\n    };\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar MetadataReader = (function () {\n    function MetadataReader() {\n    }\n    MetadataReader.prototype.getConstructorMetadata = function (constructorFunc) {\n        var compilerGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.PARAM_TYPES, constructorFunc);\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED, constructorFunc);\n        return {\n            compilerGeneratedMetadata: compilerGeneratedMetadata,\n            userGeneratedMetadata: userGeneratedMetadata || {}\n        };\n    };\n    MetadataReader.prototype.getPropertiesMetadata = function (constructorFunc) {\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED_PROP, constructorFunc) || [];\n        return userGeneratedMetadata;\n    };\n    return MetadataReader;\n}());\nexports.MetadataReader = MetadataReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Plan = (function () {\n    function Plan(parentContext, rootRequest) {\n        this.parentContext = parentContext;\n        this.rootRequest = rootRequest;\n    }\n    return Plan;\n}());\nexports.Plan = Plan;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_count_1 = require(\"../bindings/binding_count\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar context_1 = require(\"./context\");\nvar metadata_1 = require(\"./metadata\");\nvar plan_1 = require(\"./plan\");\nvar reflection_utils_1 = require(\"./reflection_utils\");\nvar request_1 = require(\"./request\");\nvar target_1 = require(\"./target\");\nfunction getBindingDictionary(cntnr) {\n    return cntnr._bindingDictionary;\n}\nexports.getBindingDictionary = getBindingDictionary;\nfunction _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {\n    var metadataKey = isMultiInject ? METADATA_KEY.MULTI_INJECT_TAG : METADATA_KEY.INJECT_TAG;\n    var injectMetadata = new metadata_1.Metadata(metadataKey, serviceIdentifier);\n    var target = new target_1.Target(targetType, name, serviceIdentifier, injectMetadata);\n    if (key !== undefined) {\n        var tagMetadata = new metadata_1.Metadata(key, value);\n        target.metadata.push(tagMetadata);\n    }\n    return target;\n}\nfunction _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {\n    var bindings = getBindings(context.container, target.serviceIdentifier);\n    var activeBindings = [];\n    if (bindings.length === binding_count_1.BindingCount.NoBindingsAvailable &&\n        context.container.options.autoBindInjectable &&\n        typeof target.serviceIdentifier === \"function\" &&\n        metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {\n        context.container.bind(target.serviceIdentifier).toSelf();\n        bindings = getBindings(context.container, target.serviceIdentifier);\n    }\n    if (!avoidConstraints) {\n        activeBindings = bindings.filter(function (binding) {\n            var request = new request_1.Request(binding.serviceIdentifier, context, parentRequest, binding, target);\n            return binding.constraint(request);\n        });\n    }\n    else {\n        activeBindings = bindings;\n    }\n    _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);\n    return activeBindings;\n}\nfunction _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {\n    switch (bindings.length) {\n        case binding_count_1.BindingCount.NoBindingsAvailable:\n            if (target.isOptional()) {\n                return bindings;\n            }\n            else {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.NOT_REGISTERED;\n                msg += serialization_1.listMetadataForTarget(serviceIdentifierString, target);\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n        case binding_count_1.BindingCount.OnlyOneBindingAvailable:\n            if (!target.isArray()) {\n                return bindings;\n            }\n        case binding_count_1.BindingCount.MultipleBindingsAvailable:\n        default:\n            if (!target.isArray()) {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.AMBIGUOUS_MATCH + \" \" + serviceIdentifierString;\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n            else {\n                return bindings;\n            }\n    }\n}\nfunction _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {\n    var activeBindings;\n    var childRequest;\n    if (parentRequest === null) {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);\n        childRequest = new request_1.Request(serviceIdentifier, context, null, activeBindings, target);\n        var thePlan = new plan_1.Plan(context, childRequest);\n        context.addPlan(thePlan);\n    }\n    else {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);\n        childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);\n    }\n    activeBindings.forEach(function (binding) {\n        var subChildRequest = null;\n        if (target.isArray()) {\n            subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);\n        }\n        else {\n            if (binding.cache) {\n                return;\n            }\n            subChildRequest = childRequest;\n        }\n        if (binding.type === literal_types_1.BindingTypeEnum.Instance && binding.implementationType !== null) {\n            var dependencies = reflection_utils_1.getDependencies(metadataReader, binding.implementationType);\n            if (!context.container.options.skipBaseClassChecks) {\n                var baseClassDependencyCount = reflection_utils_1.getBaseClassDependencyCount(metadataReader, binding.implementationType);\n                if (dependencies.length < baseClassDependencyCount) {\n                    var error = ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH(reflection_utils_1.getFunctionName(binding.implementationType));\n                    throw new Error(error);\n                }\n            }\n            dependencies.forEach(function (dependency) {\n                _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);\n            });\n        }\n    });\n}\nfunction getBindings(container, serviceIdentifier) {\n    var bindings = [];\n    var bindingDictionary = getBindingDictionary(container);\n    if (bindingDictionary.hasKey(serviceIdentifier)) {\n        bindings = bindingDictionary.get(serviceIdentifier);\n    }\n    else if (container.parent !== null) {\n        bindings = getBindings(container.parent, serviceIdentifier);\n    }\n    return bindings;\n}\nfunction plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {\n    if (avoidConstraints === void 0) { avoidConstraints = false; }\n    var context = new context_1.Context(container);\n    var target = _createTarget(isMultiInject, targetType, serviceIdentifier, \"\", key, value);\n    try {\n        _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);\n        return context;\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            if (context.plan) {\n                serialization_1.circularDependencyToException(context.plan.rootRequest);\n            }\n        }\n        throw error;\n    }\n}\nexports.plan = plan;\nfunction createMockRequest(container, serviceIdentifier, key, value) {\n    var target = new target_1.Target(literal_types_1.TargetTypeEnum.Variable, \"\", serviceIdentifier, new metadata_1.Metadata(key, value));\n    var context = new context_1.Context(container);\n    var request = new request_1.Request(serviceIdentifier, context, null, [], target);\n    return request;\n}\nexports.createMockRequest = createMockRequest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar QueryableString = (function () {\n    function QueryableString(str) {\n        this.str = str;\n    }\n    QueryableString.prototype.startsWith = function (searchString) {\n        return this.str.indexOf(searchString) === 0;\n    };\n    QueryableString.prototype.endsWith = function (searchString) {\n        var reverseString = \"\";\n        var reverseSearchString = searchString.split(\"\").reverse().join(\"\");\n        reverseString = this.str.split(\"\").reverse().join(\"\");\n        return this.startsWith.call({ str: reverseString }, reverseSearchString);\n    };\n    QueryableString.prototype.contains = function (searchString) {\n        return (this.str.indexOf(searchString) !== -1);\n    };\n    QueryableString.prototype.equals = function (compareString) {\n        return this.str === compareString;\n    };\n    QueryableString.prototype.value = function () {\n        return this.str;\n    };\n    return QueryableString;\n}());\nexports.QueryableString = QueryableString;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inject_1 = require(\"../annotation/inject\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar serialization_1 = require(\"../utils/serialization\");\nexports.getFunctionName = serialization_1.getFunctionName;\nvar target_1 = require(\"./target\");\nfunction getDependencies(metadataReader, func) {\n    var constructorName = serialization_1.getFunctionName(func);\n    var targets = getTargets(metadataReader, constructorName, func, false);\n    return targets;\n}\nexports.getDependencies = getDependencies;\nfunction getTargets(metadataReader, constructorName, func, isBaseClass) {\n    var metadata = metadataReader.getConstructorMetadata(func);\n    var serviceIdentifiers = metadata.compilerGeneratedMetadata;\n    if (serviceIdentifiers === undefined) {\n        var msg = ERROR_MSGS.MISSING_INJECTABLE_ANNOTATION + \" \" + constructorName + \".\";\n        throw new Error(msg);\n    }\n    var constructorArgsMetadata = metadata.userGeneratedMetadata;\n    var keys = Object.keys(constructorArgsMetadata);\n    var hasUserDeclaredUnknownInjections = (func.length === 0 && keys.length > 0);\n    var iterations = (hasUserDeclaredUnknownInjections) ? keys.length : func.length;\n    var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);\n    var propertyTargets = getClassPropsAsTargets(metadataReader, func);\n    var targets = constructorTargets.concat(propertyTargets);\n    return targets;\n}\nfunction getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {\n    var targetMetadata = constructorArgsMetadata[index.toString()] || [];\n    var metadata = formatTargetMetadata(targetMetadata);\n    var isManaged = metadata.unmanaged !== true;\n    var serviceIdentifier = serviceIdentifiers[index];\n    var injectIdentifier = (metadata.inject || metadata.multiInject);\n    serviceIdentifier = (injectIdentifier) ? (injectIdentifier) : serviceIdentifier;\n    if (serviceIdentifier instanceof inject_1.LazyServiceIdentifer) {\n        serviceIdentifier = serviceIdentifier.unwrap();\n    }\n    if (isManaged) {\n        var isObject = serviceIdentifier === Object;\n        var isFunction = serviceIdentifier === Function;\n        var isUndefined = serviceIdentifier === undefined;\n        var isUnknownType = (isObject || isFunction || isUndefined);\n        if (!isBaseClass && isUnknownType) {\n            var msg = ERROR_MSGS.MISSING_INJECT_ANNOTATION + \" argument \" + index + \" in class \" + constructorName + \".\";\n            throw new Error(msg);\n        }\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        return target;\n    }\n    return null;\n}\nfunction getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {\n    var targets = [];\n    for (var i = 0; i < iterations; i++) {\n        var index = i;\n        var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);\n        if (target !== null) {\n            targets.push(target);\n        }\n    }\n    return targets;\n}\nfunction getClassPropsAsTargets(metadataReader, constructorFunc) {\n    var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);\n    var targets = [];\n    var keys = Object.keys(classPropsMetadata);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        var targetMetadata = classPropsMetadata[key];\n        var metadata = formatTargetMetadata(classPropsMetadata[key]);\n        var targetName = metadata.targetName || key;\n        var serviceIdentifier = (metadata.inject || metadata.multiInject);\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ClassProperty, targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        targets.push(target);\n    }\n    var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor);\n        targets = targets.concat(baseTargets);\n    }\n    return targets;\n}\nfunction getBaseClassDependencyCount(metadataReader, func) {\n    var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseConstructorName = serialization_1.getFunctionName(baseConstructor);\n        var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);\n        var metadata = targets.map(function (t) {\n            return t.metadata.filter(function (m) {\n                return m.key === METADATA_KEY.UNMANAGED_TAG;\n            });\n        });\n        var unmanagedCount = [].concat.apply([], metadata).length;\n        var dependencyCount = targets.length - unmanagedCount;\n        if (dependencyCount > 0) {\n            return dependencyCount;\n        }\n        else {\n            return getBaseClassDependencyCount(metadataReader, baseConstructor);\n        }\n    }\n    else {\n        return 0;\n    }\n}\nexports.getBaseClassDependencyCount = getBaseClassDependencyCount;\nfunction formatTargetMetadata(targetMetadata) {\n    var targetMetadataMap = {};\n    targetMetadata.forEach(function (m) {\n        targetMetadataMap[m.key.toString()] = m.value;\n    });\n    return {\n        inject: targetMetadataMap[METADATA_KEY.INJECT_TAG],\n        multiInject: targetMetadataMap[METADATA_KEY.MULTI_INJECT_TAG],\n        targetName: targetMetadataMap[METADATA_KEY.NAME_TAG],\n        unmanaged: targetMetadataMap[METADATA_KEY.UNMANAGED_TAG]\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar id_1 = require(\"../utils/id\");\nvar Request = (function () {\n    function Request(serviceIdentifier, parentContext, parentRequest, bindings, target) {\n        this.id = id_1.id();\n        this.serviceIdentifier = serviceIdentifier;\n        this.parentContext = parentContext;\n        this.parentRequest = parentRequest;\n        this.target = target;\n        this.childRequests = [];\n        this.bindings = (Array.isArray(bindings) ? bindings : [bindings]);\n        this.requestScope = parentRequest === null\n            ? new Map()\n            : null;\n    }\n    Request.prototype.addChildRequest = function (serviceIdentifier, bindings, target) {\n        var child = new Request(serviceIdentifier, this.parentContext, this, bindings, target);\n        this.childRequests.push(child);\n        return child;\n    };\n    return Request;\n}());\nexports.Request = Request;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar id_1 = require(\"../utils/id\");\nvar metadata_1 = require(\"./metadata\");\nvar queryable_string_1 = require(\"./queryable_string\");\nvar Target = (function () {\n    function Target(type, name, serviceIdentifier, namedOrTagged) {\n        this.id = id_1.id();\n        this.type = type;\n        this.serviceIdentifier = serviceIdentifier;\n        this.name = new queryable_string_1.QueryableString(name || \"\");\n        this.metadata = new Array();\n        var metadataItem = null;\n        if (typeof namedOrTagged === \"string\") {\n            metadataItem = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, namedOrTagged);\n        }\n        else if (namedOrTagged instanceof metadata_1.Metadata) {\n            metadataItem = namedOrTagged;\n        }\n        if (metadataItem !== null) {\n            this.metadata.push(metadataItem);\n        }\n    }\n    Target.prototype.hasTag = function (key) {\n        for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {\n            var m = _a[_i];\n            if (m.key === key) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Target.prototype.isArray = function () {\n        return this.hasTag(METADATA_KEY.MULTI_INJECT_TAG);\n    };\n    Target.prototype.matchesArray = function (name) {\n        return this.matchesTag(METADATA_KEY.MULTI_INJECT_TAG)(name);\n    };\n    Target.prototype.isNamed = function () {\n        return this.hasTag(METADATA_KEY.NAMED_TAG);\n    };\n    Target.prototype.isTagged = function () {\n        return this.metadata.some(function (m) {\n            return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                (m.key !== METADATA_KEY.NAME_TAG) &&\n                (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                (m.key !== METADATA_KEY.NAMED_TAG);\n        });\n    };\n    Target.prototype.isOptional = function () {\n        return this.matchesTag(METADATA_KEY.OPTIONAL_TAG)(true);\n    };\n    Target.prototype.getNamedTag = function () {\n        if (this.isNamed()) {\n            return this.metadata.filter(function (m) { return m.key === METADATA_KEY.NAMED_TAG; })[0];\n        }\n        return null;\n    };\n    Target.prototype.getCustomTags = function () {\n        if (this.isTagged()) {\n            return this.metadata.filter(function (m) {\n                return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.NAME_TAG) &&\n                    (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                    (m.key !== METADATA_KEY.NAMED_TAG);\n            });\n        }\n        return null;\n    };\n    Target.prototype.matchesNamedTag = function (name) {\n        return this.matchesTag(METADATA_KEY.NAMED_TAG)(name);\n    };\n    Target.prototype.matchesTag = function (key) {\n        var _this = this;\n        return function (value) {\n            for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {\n                var m = _a[_i];\n                if (m.key === key && m.value === value) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    };\n    return Target;\n}());\nexports.Target = Target;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, [void 0].concat(injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar instantiation_1 = require(\"./instantiation\");\nvar invokeFactory = function (factoryType, serviceIdentifier, fn) {\n    try {\n        return fn();\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY_IN_FACTORY(factoryType, serviceIdentifier.toString()));\n        }\n        else {\n            throw error;\n        }\n    }\n};\nvar _resolveRequest = function (requestScope) {\n    return function (request) {\n        request.parentContext.setCurrentRequest(request);\n        var bindings = request.bindings;\n        var childRequests = request.childRequests;\n        var targetIsAnArray = request.target && request.target.isArray();\n        var targetParentIsNotAnArray = !request.parentRequest ||\n            !request.parentRequest.target ||\n            !request.target ||\n            !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);\n        if (targetIsAnArray && targetParentIsNotAnArray) {\n            return childRequests.map(function (childRequest) {\n                var _f = _resolveRequest(requestScope);\n                return _f(childRequest);\n            });\n        }\n        else {\n            var result = null;\n            if (request.target.isOptional() && bindings.length === 0) {\n                return undefined;\n            }\n            var binding_1 = bindings[0];\n            var isSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Singleton;\n            var isRequestSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Request;\n            if (isSingleton && binding_1.activated) {\n                return binding_1.cache;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                requestScope.has(binding_1.id)) {\n                return requestScope.get(binding_1.id);\n            }\n            if (binding_1.type === literal_types_1.BindingTypeEnum.ConstantValue) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Function) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Constructor) {\n                result = binding_1.implementationType;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.DynamicValue && binding_1.dynamicValue !== null) {\n                result = invokeFactory(\"toDynamicValue\", binding_1.serviceIdentifier, function () { return binding_1.dynamicValue(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Factory && binding_1.factory !== null) {\n                result = invokeFactory(\"toFactory\", binding_1.serviceIdentifier, function () { return binding_1.factory(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Provider && binding_1.provider !== null) {\n                result = invokeFactory(\"toProvider\", binding_1.serviceIdentifier, function () { return binding_1.provider(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Instance && binding_1.implementationType !== null) {\n                result = instantiation_1.resolveInstance(binding_1.implementationType, childRequests, _resolveRequest(requestScope));\n            }\n            else {\n                var serviceIdentifier = serialization_1.getServiceIdentifierAsString(request.serviceIdentifier);\n                throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE + \" \" + serviceIdentifier);\n            }\n            if (typeof binding_1.onActivation === \"function\") {\n                result = binding_1.onActivation(request.parentContext, result);\n            }\n            if (isSingleton) {\n                binding_1.cache = result;\n                binding_1.activated = true;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                !requestScope.has(binding_1.id)) {\n                requestScope.set(binding_1.id, result);\n            }\n            return result;\n        }\n    };\n};\nfunction resolve(context) {\n    var _f = _resolveRequest(context.plan.rootRequest.requestScope);\n    return _f(context.plan.rootRequest);\n}\nexports.resolve = resolve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingInSyntax = (function () {\n    function BindingInSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingInSyntax.prototype.inRequestScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Request;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inSingletonScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inTransientScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Transient;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    return BindingInSyntax;\n}());\nexports.BindingInSyntax = BindingInSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_in_syntax_1 = require(\"./binding_in_syntax\");\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingInWhenOnSyntax = (function () {\n    function BindingInWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n        this._bindingInSyntax = new binding_in_syntax_1.BindingInSyntax(binding);\n    }\n    BindingInWhenOnSyntax.prototype.inRequestScope = function () {\n        return this._bindingInSyntax.inRequestScope();\n    };\n    BindingInWhenOnSyntax.prototype.inSingletonScope = function () {\n        return this._bindingInSyntax.inSingletonScope();\n    };\n    BindingInWhenOnSyntax.prototype.inTransientScope = function () {\n        return this._bindingInSyntax.inTransientScope();\n    };\n    BindingInWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingInWhenOnSyntax;\n}());\nexports.BindingInWhenOnSyntax = BindingInWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingOnSyntax = (function () {\n    function BindingOnSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingOnSyntax.prototype.onActivation = function (handler) {\n        this._binding.onActivation = handler;\n        return new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n    };\n    return BindingOnSyntax;\n}());\nexports.BindingOnSyntax = BindingOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = (function () {\n    function BindingToSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingToSyntax.prototype.to = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n        this._binding.implementationType = constructor;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toSelf = function () {\n        if (typeof this._binding.serviceIdentifier !== \"function\") {\n            throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n        }\n        var self = this._binding.serviceIdentifier;\n        return this.to(self);\n    };\n    BindingToSyntax.prototype.toConstantValue = function (value) {\n        this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n        this._binding.cache = value;\n        this._binding.dynamicValue = null;\n        this._binding.implementationType = null;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toDynamicValue = function (func) {\n        this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n        this._binding.cache = null;\n        this._binding.dynamicValue = func;\n        this._binding.implementationType = null;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toConstructor = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n        this._binding.implementationType = constructor;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFactory = function (factory) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = factory;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFunction = function (func) {\n        if (typeof func !== \"function\") {\n            throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n        }\n        var bindingWhenOnSyntax = this.toConstantValue(func);\n        this._binding.type = literal_types_1.BindingTypeEnum.Function;\n        return bindingWhenOnSyntax;\n    };\n    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = function (context) {\n            var autofactory = function () { return context.container.get(serviceIdentifier); };\n            return autofactory;\n        };\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toProvider = function (provider) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n        this._binding.provider = provider;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toService = function (service) {\n        this.toDynamicValue(function (context) { return context.container.get(service); });\n    };\n    return BindingToSyntax;\n}());\nexports.BindingToSyntax = BindingToSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingWhenOnSyntax = (function () {\n    function BindingWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    }\n    BindingWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingWhenOnSyntax;\n}());\nexports.BindingWhenOnSyntax = BindingWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar traverseAncerstors = function (request, constraint) {\n    var parent = request.parentRequest;\n    if (parent !== null) {\n        return constraint(parent) ? true : traverseAncerstors(parent, constraint);\n    }\n    else {\n        return false;\n    }\n};\nexports.traverseAncerstors = traverseAncerstors;\nvar taggedConstraint = function (key) { return function (value) {\n    var constraint = function (request) {\n        return request !== null && request.target !== null && request.target.matchesTag(key)(value);\n    };\n    constraint.metaData = new metadata_1.Metadata(key, value);\n    return constraint;\n}; };\nexports.taggedConstraint = taggedConstraint;\nvar namedConstraint = taggedConstraint(METADATA_KEY.NAMED_TAG);\nexports.namedConstraint = namedConstraint;\nvar typeConstraint = function (type) { return function (request) {\n    var binding = null;\n    if (request !== null) {\n        binding = request.bindings[0];\n        if (typeof type === \"string\") {\n            var serviceIdentifier = binding.serviceIdentifier;\n            return serviceIdentifier === type;\n        }\n        else {\n            var constructor = request.bindings[0].implementationType;\n            return type === constructor;\n        }\n    }\n    return false;\n}; };\nexports.typeConstraint = typeConstraint;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiBindToService = function (container) {\n    return function (service) {\n        return function () {\n            var types = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                types[_i] = arguments[_i];\n            }\n            return types.forEach(function (t) { return container.bind(t).toService(service); });\n        };\n    };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction isStackOverflowExeption(error) {\n    return (error instanceof RangeError ||\n        error.message === ERROR_MSGS.STACK_OVERFLOW);\n}\nexports.isStackOverflowExeption = isStackOverflowExeption;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar idCounter = 0;\nfunction id() {\n    return idCounter++;\n}\nexports.id = id;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction getServiceIdentifierAsString(serviceIdentifier) {\n    if (typeof serviceIdentifier === \"function\") {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier.name;\n    }\n    else if (typeof serviceIdentifier === \"symbol\") {\n        return serviceIdentifier.toString();\n    }\n    else {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier;\n    }\n}\nexports.getServiceIdentifierAsString = getServiceIdentifierAsString;\nfunction listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings) {\n    var registeredBindingsList = \"\";\n    var registeredBindings = getBindings(container, serviceIdentifier);\n    if (registeredBindings.length !== 0) {\n        registeredBindingsList = \"\\nRegistered bindings:\";\n        registeredBindings.forEach(function (binding) {\n            var name = \"Object\";\n            if (binding.implementationType !== null) {\n                name = getFunctionName(binding.implementationType);\n            }\n            registeredBindingsList = registeredBindingsList + \"\\n \" + name;\n            if (binding.constraint.metaData) {\n                registeredBindingsList = registeredBindingsList + \" - \" + binding.constraint.metaData;\n            }\n        });\n    }\n    return registeredBindingsList;\n}\nexports.listRegisteredBindingsForServiceIdentifier = listRegisteredBindingsForServiceIdentifier;\nfunction alreadyDependencyChain(request, serviceIdentifier) {\n    if (request.parentRequest === null) {\n        return false;\n    }\n    else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {\n        return true;\n    }\n    else {\n        return alreadyDependencyChain(request.parentRequest, serviceIdentifier);\n    }\n}\nfunction dependencyChainToString(request) {\n    function _createStringArr(req, result) {\n        if (result === void 0) { result = []; }\n        var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);\n        result.push(serviceIdentifier);\n        if (req.parentRequest !== null) {\n            return _createStringArr(req.parentRequest, result);\n        }\n        return result;\n    }\n    var stringArr = _createStringArr(request);\n    return stringArr.reverse().join(\" --> \");\n}\nfunction circularDependencyToException(request) {\n    request.childRequests.forEach(function (childRequest) {\n        if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {\n            var services = dependencyChainToString(childRequest);\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY + \" \" + services);\n        }\n        else {\n            circularDependencyToException(childRequest);\n        }\n    });\n}\nexports.circularDependencyToException = circularDependencyToException;\nfunction listMetadataForTarget(serviceIdentifierString, target) {\n    if (target.isTagged() || target.isNamed()) {\n        var m_1 = \"\";\n        var namedTag = target.getNamedTag();\n        var otherTags = target.getCustomTags();\n        if (namedTag !== null) {\n            m_1 += namedTag.toString() + \"\\n\";\n        }\n        if (otherTags !== null) {\n            otherTags.forEach(function (tag) {\n                m_1 += tag.toString() + \"\\n\";\n            });\n        }\n        return \" \" + serviceIdentifierString + \"\\n \" + serviceIdentifierString + \" - \" + m_1;\n    }\n    else {\n        return \" \" + serviceIdentifierString;\n    }\n}\nexports.listMetadataForTarget = listMetadataForTarget;\nfunction getFunctionName(v) {\n    if (v.name) {\n        return v.name;\n    }\n    else {\n        var name_1 = v.toString();\n        var match = name_1.match(/^function\\s*([^\\s(]+)/);\n        return match ? match[1] : \"Anonymous function: \" + name_1;\n    }\n}\nexports.getFunctionName = getFunctionName;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122  4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","\"use strict\";\r\n\r\nvar SVGNS = 'http://www.w3.org/2000/svg';\r\nvar modulesNS = ['hook', 'on', 'style', 'class', 'props', 'attrs', 'dataset'];\r\nvar slice = Array.prototype.slice;\r\n\r\nfunction isPrimitive(val) {\r\n  return  typeof val === 'string'   ||\r\n          typeof val === 'number'   ||\r\n          typeof val === 'boolean'  ||\r\n          typeof val === 'symbol'   ||\r\n          val === null              ||\r\n          val === undefined;\r\n}\r\n\r\nfunction normalizeAttrs(attrs, nsURI, defNS, modules) {\r\n  var map = { ns: nsURI };\r\n  for (var i = 0, len = modules.length; i < len; i++) {\r\n    var mod = modules[i];\r\n    if(attrs[mod])\r\n      map[mod] = attrs[mod];\r\n  }\r\n  for(var key in attrs) {\r\n    if(key !== 'key' && key !== 'classNames' && key !== 'selector') {\r\n      var idx = key.indexOf('-');\r\n      if(idx > 0)\r\n        addAttr(key.slice(0, idx), key.slice(idx+1), attrs[key]);\r\n      else if(!map[key])\r\n        addAttr(defNS, key, attrs[key]);\r\n    }\r\n  }\r\n  return map;\r\n\r\n  function addAttr(namespace, key, val) {\r\n    var ns = map[namespace] || (map[namespace] = {});\r\n    ns[key] = val;\r\n  }\r\n}\r\n\r\nfunction buildFromStringTag(nsURI, defNS, modules, tag, attrs, children) {\r\n\r\n  if(attrs.selector) {\r\n    tag = tag + attrs.selector;\r\n  }\r\n  if(attrs.classNames) {\r\n    var cns = attrs.classNames;\r\n    tag = tag + '.' + (\r\n      Array.isArray(cns) ? cns.join('.') : cns.replace(/\\s+/g, '.')\r\n    );\r\n  }\r\n\r\n  return {\r\n    sel       : tag,\r\n    data      : normalizeAttrs(attrs, nsURI, defNS, modules),\r\n    children  : children.map( function(c) {\r\n      return isPrimitive(c) ? {text: c} : c;\r\n    }),\r\n    key: attrs.key\r\n  };\r\n}\r\n\r\nfunction buildFromComponent(nsURI, defNS, modules, tag, attrs, children) {\r\n  var res;\r\n  if(typeof tag === 'function')\r\n    res = tag(attrs, children);\r\n  else if(tag && typeof tag.view === 'function')\r\n    res = tag.view(attrs, children);\r\n  else if(tag && typeof tag.render === 'function')\r\n    res = tag.render(attrs, children);\r\n  else\r\n    throw \"JSX tag must be either a string, a function or an object with 'view' or 'render' methods\";\r\n  res.key = attrs.key;\r\n  return res;\r\n}\r\n\r\nfunction flatten(nested, start, flat) {\r\n  for (var i = start, len = nested.length; i < len; i++) {\r\n    var item = nested[i];\r\n    if (Array.isArray(item)) {\r\n      flatten(item, 0, flat);\r\n    } else {\r\n      flat.push(item);\r\n    }\r\n  }\r\n}\r\n\r\nfunction maybeFlatten(array) {\r\n  if (array) {\r\n    for (var i = 0, len = array.length; i < len; i++) {\r\n      if (Array.isArray(array[i])) {\r\n        var flat = array.slice(0, i);\r\n        flatten(array, i, flat);\r\n        array = flat;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction buildVnode(nsURI, defNS, modules, tag, attrs, children) {\r\n  attrs = attrs || {};\r\n  children = maybeFlatten(children);\r\n  if(typeof tag === 'string') {\r\n    return buildFromStringTag(nsURI, defNS, modules, tag, attrs, children)\r\n  } else {\r\n    return buildFromComponent(nsURI, defNS, modules, tag, attrs, children)\r\n  }\r\n}\r\n\r\nfunction JSX(nsURI, defNS, modules) {\r\n  return function jsxWithCustomNS(tag, attrs, children) {\r\n    if(arguments.length > 3 || !Array.isArray(children))\r\n      children = slice.call(arguments, 2);\r\n    return buildVnode(nsURI, defNS || 'props', modules || modulesNS, tag, attrs, children);\r\n  };\r\n}\r\n\r\nmodule.exports = {\r\n  html: JSX(undefined),\r\n  svg: JSX(SVGNS, 'attrs'),\r\n  JSX: JSX\r\n};\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (html) {\n    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n\n    var context = options.context || document;\n\n    // If there's nothing here, return null;\n    if (!html) {\n        return null;\n    }\n\n    // Maintain a list of created vnodes so we can call the create hook.\n    var createdVNodes = [];\n\n    // Parse the string into the AST and convert to VNodes.\n    var vnodes = convertNodes((0, _parse2.default)(html), createdVNodes, context);\n\n    var res = void 0;\n    if (!vnodes) {\n        // If there are no vnodes but there is string content, then the string\n        // must be just text or at least invalid HTML that we should treat as\n        // text (since the AST parser didn't find any well-formed HTML).\n        res = toVNode({ type: 'text', content: html }, createdVNodes, context);\n    } else if (vnodes.length === 1) {\n        // If there's only one root node, just return it as opposed to an array.\n        res = vnodes[0];\n    } else {\n        // Otherwise we have an array of VNodes, which we should return.\n        res = vnodes;\n    }\n\n    // Call the 'create' hook for each created node.\n    options.hooks && options.hooks.create && createdVNodes.forEach(function (node) {\n        options.hooks.create(node);\n    });\n    return res;\n};\n\nvar _parse = require('html-parse-stringify2/lib/parse');\n\nvar _parse2 = _interopRequireDefault(_parse);\n\nvar _h = require('snabbdom/h');\n\nvar _h2 = _interopRequireDefault(_h);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction convertNodes(nodes, createdVNodes, context) {\n    if (nodes instanceof Array && nodes.length > 0) {\n        return nodes.map(function (node) {\n            return toVNode(node, createdVNodes, context);\n        });\n    } else {\n        return undefined;\n    }\n}\n\nfunction toVNode(node, createdVNodes, context) {\n    var newNode = void 0;\n    if (node.type === 'text') {\n        newNode = (0, _utils.createTextVNode)(node.content, context);\n    } else {\n        newNode = (0, _h2.default)(node.name, buildVNodeData(node, context), convertNodes(node.children, createdVNodes, context));\n    }\n    createdVNodes.push(newNode);\n    return newNode;\n}\n\nfunction buildVNodeData(node, context) {\n    var data = {};\n    if (!node.attrs) {\n        return data;\n    }\n\n    var attrs = Object.keys(node.attrs).reduce(function (memo, name) {\n        if (name !== 'style' && name !== 'class') {\n            var val = (0, _utils.unescapeEntities)(node.attrs[name], context);\n            memo ? memo[name] = val : memo = _defineProperty({}, name, val);\n        }\n        return memo;\n    }, null);\n    if (attrs) {\n        data.attrs = attrs;\n    }\n\n    var style = parseStyle(node);\n    if (style) {\n        data.style = style;\n    }\n\n    var classes = parseClass(node);\n    if (classes) {\n        data.class = classes;\n    }\n\n    return data;\n}\n\nfunction parseStyle(node) {\n    try {\n        return node.attrs.style.split(';').reduce(function (memo, styleProp) {\n            var res = styleProp.split(':');\n            var name = (0, _utils.transformName)(res[0].trim());\n            if (name) {\n                var val = res[1].replace('!important', '').trim();\n                memo ? memo[name] = val : memo = _defineProperty({}, name, val);\n            }\n            return memo;\n        }, null);\n    } catch (e) {\n        return null;\n    }\n}\n\nfunction parseClass(node) {\n    try {\n        return node.attrs.class.split(' ').reduce(function (memo, className) {\n            className = className.trim();\n            if (className) {\n                memo ? memo[className] = true : memo = _defineProperty({}, className, true);\n            }\n            return memo;\n        }, null);\n    } catch (e) {\n        return null;\n    }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createTextVNode = createTextVNode;\nexports.transformName = transformName;\nexports.unescapeEntities = unescapeEntities;\n\nvar _vnode = require('snabbdom/vnode');\n\nvar _vnode2 = _interopRequireDefault(_vnode);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createTextVNode(text, context) {\n    return (0, _vnode2.default)(undefined, undefined, undefined, unescapeEntities(text, context));\n}\n\nfunction transformName(name) {\n    // Replace -a with A to help camel case style property names.\n    name = name.replace(/-(\\w)/g, function _replace($1, $2) {\n        return $2.toUpperCase();\n    });\n    // Handle properties that start with a -.\n    var firstChar = name.charAt(0).toLowerCase();\n    return '' + firstChar + name.substring(1);\n}\n\n// Regex for matching HTML entities.\nvar entityRegex = new RegExp('&[a-z0-9#]+;', 'gi');\n// Element for setting innerHTML for transforming entities.\nvar el = null;\n\nfunction unescapeEntities(text, context) {\n    // Create the element using the context if it doesn't exist.\n    if (!el) {\n        el = context.createElement('div');\n    }\n    return text.replace(entityRegex, function (entity) {\n        el.innerHTML = entity;\n        return el.textContent;\n    });\n}","module.exports = require('./lib/strings');\n","import { vnode } from './vnode';\nimport * as is from './is';\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nexport function h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (children !== undefined) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode(sel, data, children, text, undefined);\n}\n;\nexport default h;\n//# sourceMappingURL=h.js.map","function createElement(tagName) {\n    return document.createElement(tagName);\n}\nfunction createElementNS(namespaceURI, qualifiedName) {\n    return document.createElementNS(namespaceURI, qualifiedName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(elm) {\n    return elm.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction getTextContent(node) {\n    return node.textContent;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isText(node) {\n    return node.nodeType === 3;\n}\nfunction isComment(node) {\n    return node.nodeType === 8;\n}\nexport var htmlDomApi = {\n    createElement: createElement,\n    createElementNS: createElementNS,\n    createTextNode: createTextNode,\n    createComment: createComment,\n    insertBefore: insertBefore,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    parentNode: parentNode,\n    nextSibling: nextSibling,\n    tagName: tagName,\n    setTextContent: setTextContent,\n    getTextContent: getTextContent,\n    isElement: isElement,\n    isText: isText,\n    isComment: isComment,\n};\nexport default htmlDomApi;\n//# sourceMappingURL=htmldomapi.js.map","export var array = Array.isArray;\nexport function primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\n//# sourceMappingURL=is.js.map","import vnode from './vnode';\nimport * as is from './is';\nimport htmlDomApi from './htmldomapi';\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\nvar emptyNode = vnode('', {}, [], undefined, undefined);\nfunction sameVnode(vnode1, vnode2) {\n    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\nfunction isVnode(vnode) {\n    return vnode.sel !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, map = {}, key, ch;\n    for (i = beginIdx; i <= endIdx; ++i) {\n        ch = children[i];\n        if (ch != null) {\n            key = ch.key;\n            if (key !== undefined)\n                map[key] = i;\n        }\n    }\n    return map;\n}\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\nexport { h } from './h';\nexport { thunk } from './thunk';\nexport function init(modules, domApi) {\n    var i, j, cbs = {};\n    var api = domApi !== undefined ? domApi : htmlDomApi;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            var hook = modules[j][hooks[i]];\n            if (hook !== undefined) {\n                cbs[hooks[i]].push(hook);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        var id = elm.id ? '#' + elm.id : '';\n        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n        return vnode(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        return function rmCb() {\n            if (--listeners === 0) {\n                var parent_1 = api.parentNode(childElm);\n                api.removeChild(parent_1, childElm);\n            }\n        };\n    }\n    function createElm(vnode, insertedVnodeQueue) {\n        var i, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.init)) {\n                i(vnode);\n                data = vnode.data;\n            }\n        }\n        var children = vnode.children, sel = vnode.sel;\n        if (sel === '!') {\n            if (isUndef(vnode.text)) {\n                vnode.text = '';\n            }\n            vnode.elm = api.createComment(vnode.text);\n        }\n        else if (sel !== undefined) {\n            // Parse selector\n            var hashIdx = sel.indexOf('#');\n            var dotIdx = sel.indexOf('.', hashIdx);\n            var hash = hashIdx > 0 ? hashIdx : sel.length;\n            var dot = dotIdx > 0 ? dotIdx : sel.length;\n            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                : api.createElement(tag);\n            if (hash < dot)\n                elm.setAttribute('id', sel.slice(hash + 1, dot));\n            if (dotIdx > 0)\n                elm.setAttribute('class', sel.slice(dot + 1).replace(/\\./g, ' '));\n            for (i = 0; i < cbs.create.length; ++i)\n                cbs.create[i](emptyNode, vnode);\n            if (is.array(children)) {\n                for (i = 0; i < children.length; ++i) {\n                    var ch = children[i];\n                    if (ch != null) {\n                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                    }\n                }\n            }\n            else if (is.primitive(vnode.text)) {\n                api.appendChild(elm, api.createTextNode(vnode.text));\n            }\n            i = vnode.data.hook; // Reuse variable\n            if (isDef(i)) {\n                if (i.create)\n                    i.create(emptyNode, vnode);\n                if (i.insert)\n                    insertedVnodeQueue.push(vnode);\n            }\n        }\n        else {\n            vnode.elm = api.createTextNode(vnode.text);\n        }\n        return vnode.elm;\n    }\n    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (ch != null) {\n                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n            }\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.destroy))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n            if (vnode.children !== undefined) {\n                for (j = 0; j < vnode.children.length; ++j) {\n                    i = vnode.children[j];\n                    if (i != null && typeof i !== \"string\") {\n                        invokeDestroyHook(i);\n                    }\n                }\n            }\n        }\n    }\n    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n            if (ch != null) {\n                if (isDef(ch.sel)) {\n                    invokeDestroyHook(ch);\n                    listeners = cbs.remove.length + 1;\n                    rm = createRmCb(ch.elm, listeners);\n                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n                        cbs.remove[i_1](ch, rm);\n                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n                        i_1(ch, rm);\n                    }\n                    else {\n                        rm();\n                    }\n                }\n                else {\n                    api.removeChild(parentElm, ch.elm);\n                }\n            }\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n        var oldStartIdx = 0, newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx;\n        var idxInOld;\n        var elmToMove;\n        var before;\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n            }\n            else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key];\n                if (isUndef(idxInOld)) {\n                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    newStartVnode = newCh[++newStartIdx];\n                }\n                else {\n                    elmToMove = oldCh[idxInOld];\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    }\n                    else {\n                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                        oldCh[idxInOld] = undefined;\n                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                    }\n                    newStartVnode = newCh[++newStartIdx];\n                }\n            }\n        }\n        if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\n            if (oldStartIdx > oldEndIdx) {\n                before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n                addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n            }\n            else {\n                removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n            }\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n        var i, hook;\n        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n            i(oldVnode, vnode);\n        }\n        var elm = vnode.elm = oldVnode.elm;\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (oldVnode === vnode)\n            return;\n        if (vnode.data !== undefined) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            i = vnode.data.hook;\n            if (isDef(i) && isDef(i = i.update))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n            }\n            else if (isDef(ch)) {\n                if (isDef(oldVnode.text))\n                    api.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            api.setTextContent(elm, vnode.text);\n        }\n        if (isDef(hook) && isDef(i = hook.postpatch)) {\n            i(oldVnode, vnode);\n        }\n    }\n    return function patch(oldVnode, vnode) {\n        var i, elm, parent;\n        var insertedVnodeQueue = [];\n        for (i = 0; i < cbs.pre.length; ++i)\n            cbs.pre[i]();\n        if (!isVnode(oldVnode)) {\n            oldVnode = emptyNodeAt(oldVnode);\n        }\n        if (sameVnode(oldVnode, vnode)) {\n            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n        }\n        else {\n            elm = oldVnode.elm;\n            parent = api.parentNode(elm);\n            createElm(vnode, insertedVnodeQueue);\n            if (parent !== null) {\n                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                removeVnodes(parent, [oldVnode], 0, 0);\n            }\n        }\n        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n        }\n        for (i = 0; i < cbs.post.length; ++i)\n            cbs.post[i]();\n        return vnode;\n    };\n}\n//# sourceMappingURL=snabbdom.js.map","import { h } from './h';\nfunction copyToThunk(vnode, thunk) {\n    thunk.elm = vnode.elm;\n    vnode.data.fn = thunk.data.fn;\n    vnode.data.args = thunk.data.args;\n    thunk.data = vnode.data;\n    thunk.children = vnode.children;\n    thunk.text = vnode.text;\n    thunk.elm = vnode.elm;\n}\nfunction init(thunk) {\n    var cur = thunk.data;\n    var vnode = cur.fn.apply(undefined, cur.args);\n    copyToThunk(vnode, thunk);\n}\nfunction prepatch(oldVnode, thunk) {\n    var i, old = oldVnode.data, cur = thunk.data;\n    var oldArgs = old.args, args = cur.args;\n    if (old.fn !== cur.fn || oldArgs.length !== args.length) {\n        copyToThunk(cur.fn.apply(undefined, args), thunk);\n        return;\n    }\n    for (i = 0; i < args.length; ++i) {\n        if (oldArgs[i] !== args[i]) {\n            copyToThunk(cur.fn.apply(undefined, args), thunk);\n            return;\n        }\n    }\n    copyToThunk(oldVnode, thunk);\n}\nexport var thunk = function thunk(sel, key, fn, args) {\n    if (args === undefined) {\n        args = fn;\n        fn = key;\n        key = undefined;\n    }\n    return h(sel, {\n        key: key,\n        hook: { init: init, prepatch: prepatch },\n        fn: fn,\n        args: args\n    });\n};\nexport default thunk;\n//# sourceMappingURL=thunk.js.map","export function vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexport default vnode;\n//# sourceMappingURL=vnode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vnode_1 = require(\"./vnode\");\nvar is = require(\"./is\");\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nfunction h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (children !== undefined) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode_1.vnode(undefined, undefined, undefined, children[i], undefined);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode_1.vnode(sel, data, children, text, undefined);\n}\nexports.h = h;\n;\nexports.default = h;\n//# sourceMappingURL=h.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.array = Array.isArray;\nfunction primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\nexports.primitive = primitive;\n//# sourceMappingURL=is.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\nvar xmlNS = 'http://www.w3.org/XML/1998/namespace';\nvar colonChar = 58;\nvar xChar = 120;\nfunction updateAttrs(oldVnode, vnode) {\n    var key, elm = vnode.elm, oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs;\n    if (!oldAttrs && !attrs)\n        return;\n    if (oldAttrs === attrs)\n        return;\n    oldAttrs = oldAttrs || {};\n    attrs = attrs || {};\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        var cur = attrs[key];\n        var old = oldAttrs[key];\n        if (old !== cur) {\n            if (cur === true) {\n                elm.setAttribute(key, \"\");\n            }\n            else if (cur === false) {\n                elm.removeAttribute(key);\n            }\n            else {\n                if (key.charCodeAt(0) !== xChar) {\n                    elm.setAttribute(key, cur);\n                }\n                else if (key.charCodeAt(3) === colonChar) {\n                    // Assume xml namespace\n                    elm.setAttributeNS(xmlNS, key, cur);\n                }\n                else if (key.charCodeAt(5) === colonChar) {\n                    // Assume xlink namespace\n                    elm.setAttributeNS(xlinkNS, key, cur);\n                }\n                else {\n                    elm.setAttribute(key, cur);\n                }\n            }\n        }\n    }\n    // remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexports.attributesModule = { create: updateAttrs, update: updateAttrs };\nexports.default = exports.attributesModule;\n//# sourceMappingURL=attributes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction updateClass(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldClass = oldVnode.data.class, klass = vnode.data.class;\n    if (!oldClass && !klass)\n        return;\n    if (oldClass === klass)\n        return;\n    oldClass = oldClass || {};\n    klass = klass || {};\n    for (name in oldClass) {\n        if (!klass[name]) {\n            elm.classList.remove(name);\n        }\n    }\n    for (name in klass) {\n        cur = klass[name];\n        if (cur !== oldClass[name]) {\n            elm.classList[cur ? 'add' : 'remove'](name);\n        }\n    }\n}\nexports.classModule = { create: updateClass, update: updateClass };\nexports.default = exports.classModule;\n//# sourceMappingURL=class.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction invokeHandler(handler, vnode, event) {\n    if (typeof handler === \"function\") {\n        // call function handler\n        handler.call(vnode, event, vnode);\n    }\n    else if (typeof handler === \"object\") {\n        // call handler with arguments\n        if (typeof handler[0] === \"function\") {\n            // special case for single argument for performance\n            if (handler.length === 2) {\n                handler[0].call(vnode, handler[1], event, vnode);\n            }\n            else {\n                var args = handler.slice(1);\n                args.push(event);\n                args.push(vnode);\n                handler[0].apply(vnode, args);\n            }\n        }\n        else {\n            // call multiple handlers\n            for (var i = 0; i < handler.length; i++) {\n                invokeHandler(handler[i], vnode, event);\n            }\n        }\n    }\n}\nfunction handleEvent(event, vnode) {\n    var name = event.type, on = vnode.data.on;\n    // call event handler(s) if exists\n    if (on && on[name]) {\n        invokeHandler(on[name], vnode, event);\n    }\n}\nfunction createListener() {\n    return function handler(event) {\n        handleEvent(event, handler.vnode);\n    };\n}\nfunction updateEventListeners(oldVnode, vnode) {\n    var oldOn = oldVnode.data.on, oldListener = oldVnode.listener, oldElm = oldVnode.elm, on = vnode && vnode.data.on, elm = (vnode && vnode.elm), name;\n    // optimization for reused immutable handlers\n    if (oldOn === on) {\n        return;\n    }\n    // remove existing listeners which no longer used\n    if (oldOn && oldListener) {\n        // if element changed or deleted we remove all existing listeners unconditionally\n        if (!on) {\n            for (name in oldOn) {\n                // remove listener if element was changed or existing listeners removed\n                oldElm.removeEventListener(name, oldListener, false);\n            }\n        }\n        else {\n            for (name in oldOn) {\n                // remove listener if existing listener removed\n                if (!on[name]) {\n                    oldElm.removeEventListener(name, oldListener, false);\n                }\n            }\n        }\n    }\n    // add new listeners which has not already attached\n    if (on) {\n        // reuse existing listener or create new\n        var listener = vnode.listener = oldVnode.listener || createListener();\n        // update vnode for listener\n        listener.vnode = vnode;\n        // if element changed or added we add all needed listeners unconditionally\n        if (!oldOn) {\n            for (name in on) {\n                // add listener if element was changed or new listeners added\n                elm.addEventListener(name, listener, false);\n            }\n        }\n        else {\n            for (name in on) {\n                // add listener if new listener added\n                if (!oldOn[name]) {\n                    elm.addEventListener(name, listener, false);\n                }\n            }\n        }\n    }\n}\nexports.eventListenersModule = {\n    create: updateEventListeners,\n    update: updateEventListeners,\n    destroy: updateEventListeners\n};\nexports.default = exports.eventListenersModule;\n//# sourceMappingURL=eventlisteners.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexports.propsModule = { create: updateProps, update: updateProps };\nexports.default = exports.propsModule;\n//# sourceMappingURL=props.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Bindig `requestAnimationFrame` like this fixes a bug in IE/Edge. See #360 and #409.\nvar raf = (typeof window !== 'undefined' && (window.requestAnimationFrame).bind(window)) || setTimeout;\nvar nextFrame = function (fn) { raf(function () { raf(fn); }); };\nvar reflowForced = false;\nfunction setNextFrame(obj, prop, val) {\n    nextFrame(function () { obj[prop] = val; });\n}\nfunction updateStyle(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldStyle = oldVnode.data.style, style = vnode.data.style;\n    if (!oldStyle && !style)\n        return;\n    if (oldStyle === style)\n        return;\n    oldStyle = oldStyle || {};\n    style = style || {};\n    var oldHasDel = 'delayed' in oldStyle;\n    for (name in oldStyle) {\n        if (!style[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.removeProperty(name);\n            }\n            else {\n                elm.style[name] = '';\n            }\n        }\n    }\n    for (name in style) {\n        cur = style[name];\n        if (name === 'delayed' && style.delayed) {\n            for (var name2 in style.delayed) {\n                cur = style.delayed[name2];\n                if (!oldHasDel || cur !== oldStyle.delayed[name2]) {\n                    setNextFrame(elm.style, name2, cur);\n                }\n            }\n        }\n        else if (name !== 'remove' && cur !== oldStyle[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.setProperty(name, cur);\n            }\n            else {\n                elm.style[name] = cur;\n            }\n        }\n    }\n}\nfunction applyDestroyStyle(vnode) {\n    var style, name, elm = vnode.elm, s = vnode.data.style;\n    if (!s || !(style = s.destroy))\n        return;\n    for (name in style) {\n        elm.style[name] = style[name];\n    }\n}\nfunction applyRemoveStyle(vnode, rm) {\n    var s = vnode.data.style;\n    if (!s || !s.remove) {\n        rm();\n        return;\n    }\n    if (!reflowForced) {\n        getComputedStyle(document.body).transform;\n        reflowForced = true;\n    }\n    var name, elm = vnode.elm, i = 0, compStyle, style = s.remove, amount = 0, applied = [];\n    for (name in style) {\n        applied.push(name);\n        elm.style[name] = style[name];\n    }\n    compStyle = getComputedStyle(elm);\n    var props = compStyle['transition-property'].split(', ');\n    for (; i < props.length; ++i) {\n        if (applied.indexOf(props[i]) !== -1)\n            amount++;\n    }\n    elm.addEventListener('transitionend', function (ev) {\n        if (ev.target === elm)\n            --amount;\n        if (amount === 0)\n            rm();\n    });\n}\nfunction forceReflow() {\n    reflowForced = false;\n}\nexports.styleModule = {\n    pre: forceReflow,\n    create: updateStyle,\n    update: updateStyle,\n    destroy: applyDestroyStyle,\n    remove: applyRemoveStyle\n};\nexports.default = exports.styleModule;\n//# sourceMappingURL=style.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexports.vnode = vnode;\nexports.default = vnode;\n//# sourceMappingURL=vnode.js.map","\nvar content = require(\"!!../../css-loader/dist/cjs.js!./theia-sprotty.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../css-loader/dist/cjs.js!./theia-sprotty.css\", function() {\n\t\tvar newContent = require(\"!!../../css-loader/dist/cjs.js!./theia-sprotty.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar smodel_factory_1 = require(\"../model/smodel-factory\");\nvar animation_frame_syncer_1 = require(\"../animations/animation-frame-syncer\");\nvar set_model_1 = require(\"../features/set-model\");\nvar undo_redo_1 = require(\"../../features/undo-redo/undo-redo\");\nvar action_1 = require(\"./action\");\n/**\n * Collects actions, converts them to commands and dispatches them.\n * Also acts as the proxy to model sources such as diagram servers.\n */\nvar ActionDispatcher = /** @class */ (function () {\n    function ActionDispatcher() {\n        this.postponedActions = [];\n    }\n    ActionDispatcher.prototype.initialize = function () {\n        var _this = this;\n        if (!this.initialized) {\n            this.initialized = this.actionHandlerRegistryProvider().then(function (registry) {\n                _this.actionHandlerRegistry = registry;\n                _this.handleAction(new set_model_1.SetModelAction(smodel_factory_1.EMPTY_ROOT));\n            });\n        }\n        return this.initialized;\n    };\n    ActionDispatcher.prototype.dispatchAll = function (actions) {\n        var _this = this;\n        return Promise.all(actions.map(function (action) { return _this.dispatch(action); }));\n    };\n    ActionDispatcher.prototype.dispatch = function (action) {\n        var _this = this;\n        return this.initialize().then(function () {\n            if (_this.blockUntil !== undefined) {\n                return _this.handleBlocked(action, _this.blockUntil);\n            }\n            else if (_this.diagramLocker.isAllowed(action)) {\n                if (action.kind === undo_redo_1.UndoAction.KIND) {\n                    return _this.commandStack.undo().then(function () { });\n                }\n                else if (action.kind === undo_redo_1.RedoAction.KIND) {\n                    return _this.commandStack.redo().then(function () { });\n                }\n                else {\n                    return _this.handleAction(action);\n                }\n            }\n            return undefined;\n        });\n    };\n    ActionDispatcher.prototype.handleAction = function (action) {\n        this.logger.log(this, 'handle', action);\n        var handlers = this.actionHandlerRegistry.get(action.kind);\n        if (handlers.length > 0) {\n            var promises = [];\n            for (var _i = 0, handlers_1 = handlers; _i < handlers_1.length; _i++) {\n                var handler = handlers_1[_i];\n                var result = handler.handle(action);\n                if (action_1.isAction(result)) {\n                    promises.push(this.dispatch(result));\n                }\n                else if (result !== undefined) {\n                    promises.push(this.commandStack.execute(result));\n                    this.blockUntil = result.blockUntil;\n                }\n            }\n            return Promise.all(promises);\n        }\n        else {\n            this.logger.warn(this, 'Missing handler for action', action);\n            return Promise.reject(\"Missing handler for action '\" + action.kind + \"'\");\n        }\n    };\n    ActionDispatcher.prototype.handleBlocked = function (action, predicate) {\n        var _this = this;\n        if (predicate(action)) {\n            this.blockUntil = undefined;\n            var result = this.handleAction(action);\n            var actions = this.postponedActions;\n            this.postponedActions = [];\n            for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\n                var a = actions_1[_i];\n                this.dispatch(a.action).then(a.resolve, a.reject);\n            }\n            return result;\n        }\n        else {\n            this.logger.log(this, 'Action is postponed due to block condition', action);\n            return new Promise(function (resolve, reject) {\n                _this.postponedActions.push({ action: action, resolve: resolve, reject: reject });\n            });\n        }\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ActionHandlerRegistryProvider),\n        __metadata(\"design:type\", Function)\n    ], ActionDispatcher.prototype, \"actionHandlerRegistryProvider\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ICommandStack),\n        __metadata(\"design:type\", Object)\n    ], ActionDispatcher.prototype, \"commandStack\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], ActionDispatcher.prototype, \"logger\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.AnimationFrameSyncer),\n        __metadata(\"design:type\", animation_frame_syncer_1.AnimationFrameSyncer)\n    ], ActionDispatcher.prototype, \"syncer\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IDiagramLocker),\n        __metadata(\"design:type\", Object)\n    ], ActionDispatcher.prototype, \"diagramLocker\", void 0);\n    ActionDispatcher = __decorate([\n        inversify_1.injectable()\n    ], ActionDispatcher);\n    return ActionDispatcher;\n}());\nexports.ActionDispatcher = ActionDispatcher;\n//# sourceMappingURL=action-dispatcher.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar registry_1 = require(\"../../utils/registry\");\n/**\n * The action handler registry maps actions to their handlers using the Action.kind property.\n */\nvar ActionHandlerRegistry = /** @class */ (function (_super) {\n    __extends(ActionHandlerRegistry, _super);\n    function ActionHandlerRegistry(initializers) {\n        var _this = _super.call(this) || this;\n        initializers.forEach(function (initializer) { return _this.initializeActionHandler(initializer); });\n        return _this;\n    }\n    ActionHandlerRegistry.prototype.initializeActionHandler = function (initializer) {\n        initializer.initialize(this);\n    };\n    ActionHandlerRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.IActionHandlerInitializer)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], ActionHandlerRegistry);\n    return ActionHandlerRegistry;\n}(registry_1.MultiInstanceRegistry));\nexports.ActionHandlerRegistry = ActionHandlerRegistry;\n//# sourceMappingURL=action-handler.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isAction(object) {\n    return object !== undefined && object.hasOwnProperty('kind') && typeof (object['kind']) === 'string';\n}\nexports.isAction = isAction;\n//# sourceMappingURL=action.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar DefaultDiagramLocker = /** @class */ (function () {\n    function DefaultDiagramLocker() {\n    }\n    DefaultDiagramLocker.prototype.isAllowed = function (action) {\n        return true;\n    };\n    DefaultDiagramLocker = __decorate([\n        inversify_1.injectable()\n    ], DefaultDiagramLocker);\n    return DefaultDiagramLocker;\n}());\nexports.DefaultDiagramLocker = DefaultDiagramLocker;\n//# sourceMappingURL=diagram-locker.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar AnimationFrameSyncer = /** @class */ (function () {\n    function AnimationFrameSyncer() {\n        this.tasks = [];\n        this.endTasks = [];\n        this.triggered = false;\n    }\n    AnimationFrameSyncer.prototype.isAvailable = function () {\n        return typeof requestAnimationFrame === \"function\";\n    };\n    AnimationFrameSyncer.prototype.onNextFrame = function (task) {\n        this.tasks.push(task);\n        this.trigger();\n    };\n    AnimationFrameSyncer.prototype.onEndOfNextFrame = function (task) {\n        this.endTasks.push(task);\n        this.trigger();\n    };\n    AnimationFrameSyncer.prototype.trigger = function () {\n        var _this = this;\n        if (!this.triggered) {\n            this.triggered = true;\n            if (this.isAvailable())\n                requestAnimationFrame(function (time) { return _this.run(time); });\n            else\n                setTimeout(function (time) { return _this.run(time); });\n        }\n    };\n    AnimationFrameSyncer.prototype.run = function (time) {\n        var tasks = this.tasks;\n        var endTasks = this.endTasks;\n        this.triggered = false;\n        this.tasks = [];\n        this.endTasks = [];\n        tasks.forEach(function (task) { return task.call(undefined, time); });\n        endTasks.forEach(function (task) { return task.call(undefined, time); });\n    };\n    AnimationFrameSyncer = __decorate([\n        inversify_1.injectable()\n    ], AnimationFrameSyncer);\n    return AnimationFrameSyncer;\n}());\nexports.AnimationFrameSyncer = AnimationFrameSyncer;\n//# sourceMappingURL=animation-frame-syncer.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar easing_1 = require(\"./easing\");\n/**\n * An animation uses the rendering loop of the browser to smoothly\n * calculate a transition between two states of a model element.\n */\nvar Animation = /** @class */ (function () {\n    function Animation(context, ease) {\n        if (ease === void 0) { ease = easing_1.easeInOut; }\n        this.context = context;\n        this.ease = ease;\n    }\n    Animation.prototype.start = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var start = undefined;\n            var frames = 0;\n            var lambda = function (time) {\n                frames++;\n                var dtime;\n                if (start === undefined) {\n                    start = time;\n                    dtime = 0;\n                }\n                else {\n                    dtime = time - start;\n                }\n                var t = Math.min(1, dtime / _this.context.duration);\n                var current = _this.tween(_this.ease(t), _this.context);\n                _this.context.modelChanged.update(current);\n                if (t === 1) {\n                    _this.context.logger.log(_this, (frames * 1000 / _this.context.duration) + ' fps');\n                    resolve(current);\n                }\n                else {\n                    _this.context.syncer.onNextFrame(lambda);\n                }\n            };\n            if (_this.context.syncer.isAvailable()) {\n                _this.context.syncer.onNextFrame(lambda);\n            }\n            else {\n                var finalModel = _this.tween(1, _this.context);\n                resolve(finalModel);\n            }\n        });\n    };\n    return Animation;\n}());\nexports.Animation = Animation;\nvar CompoundAnimation = /** @class */ (function (_super) {\n    __extends(CompoundAnimation, _super);\n    function CompoundAnimation(model, context, components, ease) {\n        if (components === void 0) { components = []; }\n        if (ease === void 0) { ease = easing_1.easeInOut; }\n        var _this = _super.call(this, context, ease) || this;\n        _this.model = model;\n        _this.context = context;\n        _this.components = components;\n        _this.ease = ease;\n        return _this;\n    }\n    CompoundAnimation.prototype.include = function (animation) {\n        this.components.push(animation);\n        return this;\n    };\n    CompoundAnimation.prototype.tween = function (t, context) {\n        for (var _i = 0, _a = this.components; _i < _a.length; _i++) {\n            var a = _a[_i];\n            a.tween(t, context);\n        }\n        return this.model;\n    };\n    return CompoundAnimation;\n}(Animation));\nexports.CompoundAnimation = CompoundAnimation;\n//# sourceMappingURL=animation.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Slows down animations towards the begin and the end.\n *\n * @param x the value between 0 (start of animation) and 1 (end of\n *     animation) linearly interpolated in time.\n * @returns {number} the eased value between 0 and 1\n */\nfunction easeInOut(x) {\n    if (x < 0.5)\n        return x * x * 2;\n    else\n        return 1 - (1 - x) * (1 - x) * 2;\n}\nexports.easeInOut = easeInOut;\n//# sourceMappingURL=easing.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar inversify_2 = require(\"../../utils/inversify\");\nvar types_1 = require(\"../types\");\nvar CommandActionHandler = /** @class */ (function () {\n    function CommandActionHandler(commandRegistration) {\n        this.commandRegistration = commandRegistration;\n    }\n    CommandActionHandler.prototype.handle = function (action) {\n        return this.commandRegistration.factory(action);\n    };\n    return CommandActionHandler;\n}());\nexports.CommandActionHandler = CommandActionHandler;\nvar CommandActionHandlerInitializer = /** @class */ (function () {\n    function CommandActionHandlerInitializer(registrations) {\n        this.registrations = registrations;\n    }\n    CommandActionHandlerInitializer.prototype.initialize = function (registry) {\n        this.registrations.forEach(function (registration) {\n            return registry.register(registration.kind, new CommandActionHandler(registration));\n        });\n    };\n    CommandActionHandlerInitializer = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.CommandRegistration)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], CommandActionHandlerInitializer);\n    return CommandActionHandlerInitializer;\n}());\nexports.CommandActionHandlerInitializer = CommandActionHandlerInitializer;\n/**\n * Use this method in your DI configuration to register a new command to the diagram.\n */\nfunction configureCommand(context, constr) {\n    if (inversify_2.isInjectable(constr)) {\n        if (!context.isBound(constr))\n            context.bind(constr).toSelf();\n        context.bind(types_1.TYPES.CommandRegistration).toDynamicValue(function (ctx) {\n            return {\n                factory: function (action) {\n                    var childContainer = new inversify_1.Container();\n                    childContainer.parent = ctx.container;\n                    childContainer.bind(types_1.TYPES.Action).toConstantValue(action);\n                    return childContainer.get(constr);\n                },\n                kind: constr.KIND\n            };\n        });\n    }\n    else {\n        throw Error(\"Commands should be @injectable \" + constr.name);\n    }\n}\nexports.configureCommand = configureCommand;\n//# sourceMappingURL=command-registration.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"../types\");\nfunction overrideCommandStackOptions(container, options) {\n    var defaultOptions = container.get(types_1.TYPES.CommandStackOptions);\n    for (var p in options) {\n        if (options.hasOwnProperty(p))\n            defaultOptions[p] = options[p];\n    }\n    return defaultOptions;\n}\nexports.overrideCommandStackOptions = overrideCommandStackOptions;\n//# sourceMappingURL=command-stack-options.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar smodel_factory_1 = require(\"../model/smodel-factory\");\nvar animation_frame_syncer_1 = require(\"../animations/animation-frame-syncer\");\nvar command_1 = require(\"./command\");\n/**\n * The implementation of the ICommandStack. Clients should not use this\n * class directly.\n *\n * The command stack holds the current model as the result of the current\n * promise. When a new command is executed/undone/redone, its execution is\n * chained using <code>Promise#then()</code> to the current Promise. This\n * way we can handle long running commands without blocking the current\n * thread.\n *\n * The command stack also does the special handling for special commands:\n *\n * System commands should be transparent to the user and as such be\n * automatically undone/redone with the next plain command. Additional care\n * must be taken that system commands that are executed after undo don't\n * break the correspondence between the topmost commands on the undo and\n * redo stacks.\n *\n * Hidden commands only tell the viewer to render a hidden model such that\n * its bounds can be extracted from the DOM and forwarded as separate actions.\n * Hidden commands should not leave any trace on the undo/redo/off stacks.\n *\n * Mergeable commands should be merged with their predecessor if possible,\n * such that e.g. multiple subsequent moves of the smae element can be undone\n * in one single step.\n */\nvar CommandStack = /** @class */ (function () {\n    function CommandStack() {\n        this.undoStack = [];\n        this.redoStack = [];\n        /**\n         * System commands should be transparent to the user in undo/redo\n         * operations. When a system command is executed when the redo\n         * stack is not empty, it is pushed to offStack instead.\n         *\n         * On redo, all commands form this stack are undone such that the\n         * redo operation gets the exact same model as when it was executed\n         * first.\n         *\n         * On undo, all commands form this stack are undone as well as\n         * system ommands should be transparent to the user.\n         */\n        this.offStack = [];\n    }\n    CommandStack.prototype.initialize = function () {\n        this.currentPromise = Promise.resolve({\n            root: this.modelFactory.createRoot(smodel_factory_1.EMPTY_ROOT),\n            hiddenRoot: undefined,\n            popupRoot: undefined,\n            rootChanged: false,\n            hiddenRootChanged: false,\n            popupChanged: false\n        });\n    };\n    Object.defineProperty(CommandStack.prototype, \"currentModel\", {\n        get: function () {\n            return this.currentPromise.then(function (state) { return state.root; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CommandStack.prototype.executeAll = function (commands) {\n        var _this = this;\n        commands.forEach(function (command) {\n            _this.logger.log(_this, 'Executing', command);\n            _this.handleCommand(command, command.execute, _this.mergeOrPush);\n        });\n        return this.thenUpdate();\n    };\n    CommandStack.prototype.execute = function (command) {\n        this.logger.log(this, 'Executing', command);\n        this.handleCommand(command, command.execute, this.mergeOrPush);\n        return this.thenUpdate();\n    };\n    CommandStack.prototype.undo = function () {\n        var _this = this;\n        this.undoOffStackSystemCommands();\n        this.undoPreceedingSystemCommands();\n        var command = this.undoStack[this.undoStack.length - 1];\n        if (command !== undefined && !this.isBlockUndo(command)) {\n            this.undoStack.pop();\n            this.logger.log(this, 'Undoing', command);\n            this.handleCommand(command, command.undo, function (c, context) {\n                _this.redoStack.push(c);\n            });\n        }\n        return this.thenUpdate();\n    };\n    CommandStack.prototype.redo = function () {\n        var _this = this;\n        this.undoOffStackSystemCommands();\n        var command = this.redoStack.pop();\n        if (command !== undefined) {\n            this.logger.log(this, 'Redoing', command);\n            this.handleCommand(command, command.redo, function (c, context) {\n                _this.pushToUndoStack(c);\n            });\n        }\n        this.redoFollowingSystemCommands();\n        return this.thenUpdate();\n    };\n    /**\n     * Chains the current promise with another Promise that performs the\n     * given operation on the given command.\n     *\n     * @param beforeResolve a function that is called directly before\n     * resolving the Promise to return the new model. Usually puts the\n     * command on the appropriate stack.\n     */\n    CommandStack.prototype.handleCommand = function (command, operation, beforeResolve) {\n        var _this = this;\n        this.currentPromise = this.currentPromise.then(function (state) {\n            return new Promise(function (resolve, reject) {\n                var context = _this.createContext(state.root);\n                var newResult;\n                try {\n                    newResult = operation.call(command, context);\n                }\n                catch (error) {\n                    _this.logger.error(_this, \"Failed to execute command:\", error);\n                    newResult = state.root;\n                }\n                if (command instanceof command_1.HiddenCommand) {\n                    resolve(__assign({}, state, {\n                        hiddenRoot: newResult,\n                        hiddenRootChanged: true\n                    }));\n                }\n                else if (command instanceof command_1.PopupCommand) {\n                    resolve(__assign({}, state, {\n                        popupRoot: newResult,\n                        popupChanged: true\n                    }));\n                }\n                else if (newResult instanceof Promise) {\n                    newResult.then(function (newModel) {\n                        beforeResolve.call(_this, command, context);\n                        resolve(__assign({}, state, {\n                            root: newModel,\n                            rootChanged: true\n                        }));\n                    });\n                }\n                else {\n                    beforeResolve.call(_this, command, context);\n                    resolve(__assign({}, state, {\n                        root: newResult,\n                        rootChanged: true\n                    }));\n                }\n            });\n        });\n    };\n    CommandStack.prototype.pushToUndoStack = function (command) {\n        this.undoStack.push(command);\n        if (this.options.undoHistoryLimit >= 0 && this.undoStack.length > this.options.undoHistoryLimit)\n            this.undoStack.splice(0, this.undoStack.length - this.options.undoHistoryLimit);\n    };\n    /**\n     * Notifies the Viewer to render the new model and/or the new hidden model\n     * and returns a Promise for the new model.\n     */\n    CommandStack.prototype.thenUpdate = function () {\n        var _this = this;\n        this.currentPromise = this.currentPromise.then(function (state) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(state.hiddenRootChanged && state.hiddenRoot !== undefined)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.updateHidden(state.hiddenRoot)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (!state.rootChanged) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.update(state.root)];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        if (!(state.popupChanged && state.popupRoot !== undefined)) return [3 /*break*/, 6];\n                        return [4 /*yield*/, this.updatePopup(state.popupRoot)];\n                    case 5:\n                        _a.sent();\n                        _a.label = 6;\n                    case 6: return [2 /*return*/, {\n                            root: state.root,\n                            hiddenRoot: undefined,\n                            popupRoot: undefined,\n                            rootChanged: false,\n                            hiddenRootChanged: false,\n                            popupChanged: false\n                        }];\n                }\n            });\n        }); });\n        return this.currentModel;\n    };\n    /**\n     * Notify the <code>Viewer</code> that the model has changed.\n     */\n    CommandStack.prototype.update = function (model) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(this.viewer === undefined)) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, this.viewerProvider()];\n                    case 1:\n                        _a.viewer = _b.sent();\n                        _b.label = 2;\n                    case 2:\n                        this.viewer.update(model);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Notify the <code>Viewer</code> that the hidden model has changed.\n     */\n    CommandStack.prototype.updateHidden = function (model) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(this.viewer === undefined)) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, this.viewerProvider()];\n                    case 1:\n                        _a.viewer = _b.sent();\n                        _b.label = 2;\n                    case 2:\n                        this.viewer.updateHidden(model);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Notify the <code>Viewer</code> that the model has changed.\n     */\n    CommandStack.prototype.updatePopup = function (model) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!(this.viewer === undefined)) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, this.viewerProvider()];\n                    case 1:\n                        _a.viewer = _b.sent();\n                        _b.label = 2;\n                    case 2:\n                        this.viewer.updatePopup(model);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Handling of commands after their execution.\n     *\n     * Hidden commands are not pushed to any stack.\n     *\n     * System commands are pushed to the <code>offStack</code> when the redo\n     * stack is not empty, allowing to undo the before a redo to keep the chain\n     * of commands consistent.\n     *\n     * Mergable commands are merged if possible.\n     */\n    CommandStack.prototype.mergeOrPush = function (command, context) {\n        var _this = this;\n        if (this.isBlockUndo(command)) {\n            this.undoStack = [];\n            this.redoStack = [];\n            this.offStack = [];\n            this.pushToUndoStack(command);\n            return;\n        }\n        if (this.isPushToOffStack(command) && this.redoStack.length > 0) {\n            if (this.offStack.length > 0) {\n                var lastCommand = this.offStack[this.offStack.length - 1];\n                if (lastCommand instanceof command_1.MergeableCommand && lastCommand.merge(command, context))\n                    return;\n            }\n            this.offStack.push(command);\n            return;\n        }\n        if (this.isPushToUndoStack(command)) {\n            this.offStack.forEach(function (c) { return _this.undoStack.push(c); });\n            this.offStack = [];\n            this.redoStack = [];\n            if (this.undoStack.length > 0) {\n                var lastCommand = this.undoStack[this.undoStack.length - 1];\n                if (lastCommand instanceof command_1.MergeableCommand && lastCommand.merge(command, context))\n                    return;\n            }\n            this.pushToUndoStack(command);\n        }\n    };\n    /**\n     * Reverts all system commands on the offStack.\n     */\n    CommandStack.prototype.undoOffStackSystemCommands = function () {\n        var command = this.offStack.pop();\n        while (command !== undefined) {\n            this.logger.log(this, 'Undoing off-stack', command);\n            this.handleCommand(command, command.undo, function () { });\n            command = this.offStack.pop();\n        }\n    };\n    /**\n     * System commands should be transparent to the user, so this method\n     * is called from <code>undo()</code> to revert all system commands\n     * at the top of the undoStack.\n     */\n    CommandStack.prototype.undoPreceedingSystemCommands = function () {\n        var _this = this;\n        var command = this.undoStack[this.undoStack.length - 1];\n        while (command !== undefined && this.isPushToOffStack(command)) {\n            this.undoStack.pop();\n            this.logger.log(this, 'Undoing', command);\n            this.handleCommand(command, command.undo, function (c, context) {\n                _this.redoStack.push(c);\n            });\n            command = this.undoStack[this.undoStack.length - 1];\n        }\n    };\n    /**\n     * System commands should be transparent to the user, so this method\n     * is called from <code>redo()</code> to re-execute all system commands\n     * at the top of the redoStack.\n     */\n    CommandStack.prototype.redoFollowingSystemCommands = function () {\n        var _this = this;\n        var command = this.redoStack[this.redoStack.length - 1];\n        while (command !== undefined && this.isPushToOffStack(command)) {\n            this.redoStack.pop();\n            this.logger.log(this, 'Redoing ', command);\n            this.handleCommand(command, command.redo, function (c, context) {\n                _this.pushToUndoStack(c);\n            });\n            command = this.redoStack[this.redoStack.length - 1];\n        }\n    };\n    /**\n     * Assembles the context object that is passed to the commands execution method.\n     */\n    CommandStack.prototype.createContext = function (currentModel) {\n        return {\n            root: currentModel,\n            modelChanged: this,\n            modelFactory: this.modelFactory,\n            duration: this.options.defaultDuration,\n            logger: this.logger,\n            syncer: this.syncer\n        };\n    };\n    CommandStack.prototype.isPushToOffStack = function (command) {\n        return command instanceof command_1.SystemCommand;\n    };\n    CommandStack.prototype.isPushToUndoStack = function (command) {\n        return !(command instanceof command_1.HiddenCommand);\n    };\n    CommandStack.prototype.isBlockUndo = function (command) {\n        return command instanceof command_1.ResetCommand;\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IModelFactory),\n        __metadata(\"design:type\", Object)\n    ], CommandStack.prototype, \"modelFactory\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IViewerProvider),\n        __metadata(\"design:type\", Function)\n    ], CommandStack.prototype, \"viewerProvider\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], CommandStack.prototype, \"logger\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.AnimationFrameSyncer),\n        __metadata(\"design:type\", animation_frame_syncer_1.AnimationFrameSyncer)\n    ], CommandStack.prototype, \"syncer\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.CommandStackOptions),\n        __metadata(\"design:type\", Object)\n    ], CommandStack.prototype, \"options\", void 0);\n    __decorate([\n        inversify_1.postConstruct(),\n        __metadata(\"design:type\", Function),\n        __metadata(\"design:paramtypes\", []),\n        __metadata(\"design:returntype\", void 0)\n    ], CommandStack.prototype, \"initialize\", null);\n    CommandStack = __decorate([\n        inversify_1.injectable()\n    ], CommandStack);\n    return CommandStack;\n}());\nexports.CommandStack = CommandStack;\n//# sourceMappingURL=command-stack.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\n/**\n * Base class for all commands.\n *\n * Command instances are created via dependency injection and should take\n * the respective action as an injected constructor parameter. They must\n * also define a static <code>KIND</code> which is used to map an\n * <code>Action#kind</code>.\n *\n * <pre>\n * export class MyCommand extends Command {\n *   static KIND = 'MyCommand'\n *   constructor(@inject(TYPES.Action) action: MyAction) {\n *   ...\n * }\n * @inject(TYPES.Action)\n * </pre>\n */\nvar Command = /** @class */ (function () {\n    function Command() {\n    }\n    Command = __decorate([\n        inversify_1.injectable()\n    ], Command);\n    return Command;\n}());\nexports.Command = Command;\n/**\n * A mergeable command can accumulate subsequent commands of the same kind.\n *\n * For example, multiple subsequent move commands can be merged to yield a\n * single command, such that undo will roll them back altogether. Otherwise\n * the user would have to push CTRL-Z for each mouse move element that\n * resuted in a command.\n */\nvar MergeableCommand = /** @class */ (function (_super) {\n    __extends(MergeableCommand, _super);\n    function MergeableCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Tries to merge the given command with this.\n     *\n     * @param command\n     * @param context\n     */\n    MergeableCommand.prototype.merge = function (command, context) {\n        return false;\n    };\n    MergeableCommand = __decorate([\n        inversify_1.injectable()\n    ], MergeableCommand);\n    return MergeableCommand;\n}(Command));\nexports.MergeableCommand = MergeableCommand;\n/**\n * A hidden command is used to trigger the rendering of a model on a\n * hidden canvas.\n *\n * Some graphical elements are styled using CSS, others have bounds that\n * require to layout their children before being computed. In such cases\n * we cannot tell about the size of elements without acutally rendering\n * the DOM. We render them to an invisible canvas. This can be achieved\n * using hidden commands.\n *\n * Hidden commands do not change the model directly, and are as such\n * neither undoable nor redoable. The command stack does not push them on\n * any stack and forwards the resulting model to the invisible viewer.\n */\nvar HiddenCommand = /** @class */ (function (_super) {\n    __extends(HiddenCommand, _super);\n    function HiddenCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HiddenCommand.prototype.undo = function (context) {\n        context.logger.error(this, 'Cannot undo a hidden command');\n        return context.root;\n    };\n    HiddenCommand.prototype.redo = function (context) {\n        context.logger.error(this, 'Cannot redo a hidden command');\n        return context.root;\n    };\n    HiddenCommand = __decorate([\n        inversify_1.injectable()\n    ], HiddenCommand);\n    return HiddenCommand;\n}(Command));\nexports.HiddenCommand = HiddenCommand;\nvar PopupCommand = /** @class */ (function (_super) {\n    __extends(PopupCommand, _super);\n    function PopupCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupCommand = __decorate([\n        inversify_1.injectable()\n    ], PopupCommand);\n    return PopupCommand;\n}(Command));\nexports.PopupCommand = PopupCommand;\n/**\n * A system command is triggered by the system, e.g. in order to update bounds\n * in the model with data fetched from the DOM.\n *\n * As it is automatically triggered it should not count as a single command in\n * undo/redo operations. Into the bargain, such an automatic command could occur\n * after an undo and as such make the next redo command invalid because it is\n * based on a model state that has changed. The command stack handles system\n * commands in a special way to overcome these issues.\n */\nvar SystemCommand = /** @class */ (function (_super) {\n    __extends(SystemCommand, _super);\n    function SystemCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SystemCommand = __decorate([\n        inversify_1.injectable()\n    ], SystemCommand);\n    return SystemCommand;\n}(Command));\nexports.SystemCommand = SystemCommand;\n/**\n * A reset command deletes all undo/redo stacks and cannot be undone.\n *\n * It marks a point of no return.\n */\nvar ResetCommand = /** @class */ (function (_super) {\n    __extends(ResetCommand, _super);\n    function ResetCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ResetCommand = __decorate([\n        inversify_1.injectable()\n    ], ResetCommand);\n    return ResetCommand;\n}(Command));\nexports.ResetCommand = ResetCommand;\n//# sourceMappingURL=command.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"./types\");\nvar initialize_canvas_1 = require(\"./features/initialize-canvas\");\nvar logging_1 = require(\"../utils/logging\");\nvar action_dispatcher_1 = require(\"./actions/action-dispatcher\");\nvar action_handler_1 = require(\"./actions/action-handler\");\nvar command_stack_1 = require(\"./commands/command-stack\");\nvar smodel_factory_1 = require(\"./model/smodel-factory\");\nvar animation_frame_syncer_1 = require(\"./animations/animation-frame-syncer\");\nvar viewer_1 = require(\"./views/viewer\");\nvar viewer_options_1 = require(\"./views/viewer-options\");\nvar mouse_tool_1 = require(\"./views/mouse-tool\");\nvar key_tool_1 = require(\"./views/key-tool\");\nvar vnode_decorators_1 = require(\"./views/vnode-decorators\");\nvar view_1 = require(\"./views/view\");\nvar viewer_cache_1 = require(\"./views/viewer-cache\");\nvar dom_helper_1 = require(\"./views/dom-helper\");\nvar id_decorator_1 = require(\"./views/id-decorator\");\nvar command_registration_1 = require(\"./commands/command-registration\");\nvar css_class_decorator_1 = require(\"./views/css-class-decorator\");\nvar tool_manager_1 = require(\"./tool-manager/tool-manager\");\nvar set_model_1 = require(\"./features/set-model\");\nvar ui_extension_registry_1 = require(\"./ui-extensions/ui-extension-registry\");\nvar diagram_locker_1 = require(\"./actions/diagram-locker\");\nvar defaultContainerModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    // Logging ---------------------------------------------\n    bind(types_1.TYPES.ILogger).to(logging_1.NullLogger).inSingletonScope();\n    bind(types_1.TYPES.LogLevel).toConstantValue(logging_1.LogLevel.warn);\n    // Registries ---------------------------------------------\n    bind(types_1.TYPES.SModelRegistry).to(smodel_factory_1.SModelRegistry).inSingletonScope();\n    bind(action_handler_1.ActionHandlerRegistry).toSelf().inSingletonScope();\n    bind(types_1.TYPES.ActionHandlerRegistryProvider).toProvider(function (context) {\n        return function () {\n            return new Promise(function (resolve) {\n                resolve(context.container.get(action_handler_1.ActionHandlerRegistry));\n            });\n        };\n    });\n    bind(types_1.TYPES.ViewRegistry).to(view_1.ViewRegistry).inSingletonScope();\n    // Model Creation ---------------------------------------------\n    bind(types_1.TYPES.IModelFactory).to(smodel_factory_1.SModelFactory).inSingletonScope();\n    // Action Dispatcher ---------------------------------------------\n    bind(types_1.TYPES.IActionDispatcher).to(action_dispatcher_1.ActionDispatcher).inSingletonScope();\n    bind(types_1.TYPES.IActionDispatcherProvider).toProvider(function (context) {\n        return function () {\n            return new Promise(function (resolve) {\n                resolve(context.container.get(types_1.TYPES.IActionDispatcher));\n            });\n        };\n    });\n    bind(types_1.TYPES.IDiagramLocker).to(diagram_locker_1.DefaultDiagramLocker).inSingletonScope();\n    // Action handler\n    bind(types_1.TYPES.IActionHandlerInitializer).to(command_registration_1.CommandActionHandlerInitializer);\n    // Command Stack ---------------------------------------------\n    bind(types_1.TYPES.ICommandStack).to(command_stack_1.CommandStack).inSingletonScope();\n    bind(types_1.TYPES.ICommandStackProvider).toProvider(function (context) {\n        return function () {\n            return new Promise(function (resolve) {\n                resolve(context.container.get(types_1.TYPES.ICommandStack));\n            });\n        };\n    });\n    bind(types_1.TYPES.CommandStackOptions).toConstantValue({\n        defaultDuration: 250,\n        undoHistoryLimit: 50\n    });\n    // Viewer ---------------------------------------------\n    bind(viewer_1.Viewer).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IViewer).toDynamicValue(function (context) {\n        return context.container.get(viewer_1.Viewer);\n    }).inSingletonScope().whenTargetNamed('delegate');\n    bind(viewer_cache_1.ViewerCache).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IViewer).toDynamicValue(function (context) {\n        return context.container.get(viewer_cache_1.ViewerCache);\n    }).inSingletonScope().whenTargetIsDefault();\n    bind(types_1.TYPES.IViewerProvider).toProvider(function (context) {\n        return function () {\n            return new Promise(function (resolve) {\n                resolve(context.container.get(types_1.TYPES.IViewer));\n            });\n        };\n    });\n    bind(types_1.TYPES.ViewerOptions).toConstantValue(viewer_options_1.defaultViewerOptions());\n    bind(types_1.TYPES.DOMHelper).to(dom_helper_1.DOMHelper).inSingletonScope();\n    bind(types_1.TYPES.ModelRendererFactory).toFactory(function (context) {\n        return function (decorators) {\n            var viewRegistry = context.container.get(types_1.TYPES.ViewRegistry);\n            return new viewer_1.ModelRenderer(viewRegistry, decorators);\n        };\n    });\n    // Tools & Decorators --------------------------------------\n    bind(id_decorator_1.IdDecorator).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IVNodeDecorator).toService(id_decorator_1.IdDecorator);\n    bind(types_1.TYPES.HiddenVNodeDecorator).toService(id_decorator_1.IdDecorator);\n    bind(css_class_decorator_1.CssClassDecorator).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IVNodeDecorator).toService(css_class_decorator_1.CssClassDecorator);\n    bind(types_1.TYPES.HiddenVNodeDecorator).toService(css_class_decorator_1.CssClassDecorator);\n    bind(mouse_tool_1.MouseTool).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IVNodeDecorator).toService(mouse_tool_1.MouseTool);\n    bind(key_tool_1.KeyTool).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IVNodeDecorator).toService(key_tool_1.KeyTool);\n    bind(vnode_decorators_1.FocusFixDecorator).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IVNodeDecorator).toService(vnode_decorators_1.FocusFixDecorator);\n    bind(types_1.TYPES.PopupVNodeDecorator).toService(id_decorator_1.IdDecorator);\n    bind(mouse_tool_1.PopupMouseTool).toSelf().inSingletonScope();\n    bind(types_1.TYPES.PopupVNodeDecorator).toService(mouse_tool_1.PopupMouseTool);\n    // Animation Frame Sync ------------------------------------------\n    bind(types_1.TYPES.AnimationFrameSyncer).to(animation_frame_syncer_1.AnimationFrameSyncer).inSingletonScope();\n    // Canvas Initialization ---------------------------------------------\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, initialize_canvas_1.InitializeCanvasBoundsCommand);\n    bind(initialize_canvas_1.CanvasBoundsInitializer).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IVNodeDecorator).toService(initialize_canvas_1.CanvasBoundsInitializer);\n    // Model commands ---------------------------------------------\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, set_model_1.SetModelCommand);\n    // Tool manager initialization ------------------------------------\n    bind(types_1.TYPES.IToolManager).to(tool_manager_1.ToolManager).inSingletonScope();\n    bind(types_1.TYPES.KeyListener).to(tool_manager_1.DefaultToolsEnablingKeyListener);\n    bind(types_1.TYPES.IActionHandlerInitializer).to(tool_manager_1.ToolManagerActionHandlerInitializer);\n    // UIExtension registry initialization ------------------------------------\n    bind(types_1.TYPES.UIExtensionRegistry).to(ui_extension_registry_1.UIExtensionRegistry).inSingletonScope();\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, ui_extension_registry_1.SetUIExtensionVisibilityCommand);\n});\nexports.default = defaultContainerModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar smodel_1 = require(\"../model/smodel\");\nvar command_1 = require(\"../commands/command\");\n/**\n * Grabs the bounds from the root element in page coordinates and fires a\n * InitializeCanvasBoundsAction. This size is needed for other actions such\n * as FitToScreenAction.\n */\nvar CanvasBoundsInitializer = /** @class */ (function () {\n    function CanvasBoundsInitializer() {\n    }\n    CanvasBoundsInitializer.prototype.decorate = function (vnode, element) {\n        if (element instanceof smodel_1.SModelRoot && !geometry_1.isValidDimension(element.canvasBounds)) {\n            this.rootAndVnode = [element, vnode];\n        }\n        return vnode;\n    };\n    CanvasBoundsInitializer.prototype.postUpdate = function () {\n        if (this.rootAndVnode !== undefined) {\n            var domElement = this.rootAndVnode[1].elm;\n            var oldBounds = this.rootAndVnode[0].canvasBounds;\n            if (domElement !== undefined) {\n                var newBounds = this.getBoundsInPage(domElement);\n                if (!(geometry_1.almostEquals(newBounds.x, oldBounds.x)\n                    && geometry_1.almostEquals(newBounds.y, oldBounds.y)\n                    && geometry_1.almostEquals(newBounds.width, oldBounds.width)\n                    && geometry_1.almostEquals(newBounds.height, oldBounds.width)))\n                    this.actionDispatcher.dispatch(new InitializeCanvasBoundsAction(newBounds));\n            }\n            this.rootAndVnode = undefined;\n        }\n    };\n    CanvasBoundsInitializer.prototype.getBoundsInPage = function (element) {\n        var bounds = element.getBoundingClientRect();\n        var scroll = typeof window !== 'undefined' ? { x: window.scrollX, y: window.scrollY } : geometry_1.ORIGIN_POINT;\n        return {\n            x: bounds.left + scroll.x,\n            y: bounds.top + scroll.y,\n            width: bounds.width,\n            height: bounds.height\n        };\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], CanvasBoundsInitializer.prototype, \"actionDispatcher\", void 0);\n    CanvasBoundsInitializer = __decorate([\n        inversify_1.injectable()\n    ], CanvasBoundsInitializer);\n    return CanvasBoundsInitializer;\n}());\nexports.CanvasBoundsInitializer = CanvasBoundsInitializer;\nvar InitializeCanvasBoundsAction = /** @class */ (function () {\n    function InitializeCanvasBoundsAction(newCanvasBounds) {\n        this.newCanvasBounds = newCanvasBounds;\n        this.kind = InitializeCanvasBoundsCommand.KIND;\n    }\n    return InitializeCanvasBoundsAction;\n}());\nexports.InitializeCanvasBoundsAction = InitializeCanvasBoundsAction;\nvar InitializeCanvasBoundsCommand = /** @class */ (function (_super) {\n    __extends(InitializeCanvasBoundsCommand, _super);\n    function InitializeCanvasBoundsCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    InitializeCanvasBoundsCommand.prototype.execute = function (context) {\n        this.newCanvasBounds = this.action.newCanvasBounds;\n        context.root.canvasBounds = this.newCanvasBounds;\n        return context.root;\n    };\n    InitializeCanvasBoundsCommand.prototype.undo = function (context) {\n        return context.root;\n    };\n    InitializeCanvasBoundsCommand.prototype.redo = function (context) {\n        return context.root;\n    };\n    InitializeCanvasBoundsCommand.KIND = 'initializeCanvasBounds';\n    InitializeCanvasBoundsCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [InitializeCanvasBoundsAction])\n    ], InitializeCanvasBoundsCommand);\n    return InitializeCanvasBoundsCommand;\n}(command_1.SystemCommand));\nexports.InitializeCanvasBoundsCommand = InitializeCanvasBoundsCommand;\n//# sourceMappingURL=initialize-canvas.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar command_1 = require(\"../commands/command\");\nvar types_1 = require(\"../types\");\nvar initialize_canvas_1 = require(\"./initialize-canvas\");\n/**\n * Sent from the client to the model source (e.g. a DiagramServer) in order to request a model. Usually this\n * is the first message that is sent to the source, so it is also used to initiate the communication.\n * The response is a SetModelAction or an UpdateModelAction.\n */\nvar RequestModelAction = /** @class */ (function () {\n    function RequestModelAction(options) {\n        this.options = options;\n        this.kind = RequestModelAction.KIND;\n    }\n    RequestModelAction.KIND = 'requestModel';\n    return RequestModelAction;\n}());\nexports.RequestModelAction = RequestModelAction;\n/**\n * Sent from the model source to the client in order to set the model. If a model is already present, it is replaced.\n */\nvar SetModelAction = /** @class */ (function () {\n    function SetModelAction(newRoot) {\n        this.newRoot = newRoot;\n        this.kind = SetModelCommand.KIND;\n    }\n    return SetModelAction;\n}());\nexports.SetModelAction = SetModelAction;\nvar SetModelCommand = /** @class */ (function (_super) {\n    __extends(SetModelCommand, _super);\n    function SetModelCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    SetModelCommand.prototype.execute = function (context) {\n        this.oldRoot = context.modelFactory.createRoot(context.root);\n        this.newRoot = context.modelFactory.createRoot(this.action.newRoot);\n        return this.newRoot;\n    };\n    SetModelCommand.prototype.undo = function (context) {\n        return this.oldRoot;\n    };\n    SetModelCommand.prototype.redo = function (context) {\n        return this.newRoot;\n    };\n    Object.defineProperty(SetModelCommand.prototype, \"blockUntil\", {\n        get: function () {\n            return function (action) { return action.kind === initialize_canvas_1.InitializeCanvasBoundsCommand.KIND; };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SetModelCommand.KIND = 'setModel';\n    SetModelCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SetModelAction])\n    ], SetModelCommand);\n    return SetModelCommand;\n}(command_1.ResetCommand));\nexports.SetModelCommand = SetModelCommand;\n//# sourceMappingURL=set-model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar registry_1 = require(\"../../utils/registry\");\nvar smodel_1 = require(\"./smodel\");\n/**\n * The default model factory creates SModelRoot for the root element and SChildElement for all other\n * model elements.\n */\nvar SModelFactory = /** @class */ (function () {\n    function SModelFactory() {\n    }\n    SModelFactory.prototype.createElement = function (schema, parent) {\n        var child;\n        if (this.registry.hasKey(schema.type)) {\n            var regElement = this.registry.get(schema.type, undefined);\n            if (!(regElement instanceof smodel_1.SChildElement))\n                throw new Error(\"Element with type \" + schema.type + \" was expected to be an SChildElement.\");\n            child = regElement;\n        }\n        else {\n            child = new smodel_1.SChildElement();\n        }\n        return this.initializeChild(child, schema, parent);\n    };\n    SModelFactory.prototype.createRoot = function (schema) {\n        var root;\n        if (this.registry.hasKey(schema.type)) {\n            var regElement = this.registry.get(schema.type, undefined);\n            if (!(regElement instanceof smodel_1.SModelRoot))\n                throw new Error(\"Element with type \" + schema.type + \" was expected to be an SModelRoot.\");\n            root = regElement;\n        }\n        else {\n            root = new smodel_1.SModelRoot();\n        }\n        return this.initializeRoot(root, schema);\n    };\n    SModelFactory.prototype.createSchema = function (element) {\n        var _this = this;\n        var schema = {};\n        for (var key in element) {\n            if (!this.isReserved(element, key)) {\n                var value = element[key];\n                if (typeof value !== 'function')\n                    schema[key] = value;\n            }\n        }\n        if (element instanceof smodel_1.SParentElement)\n            schema['children'] = element.children.map(function (child) { return _this.createSchema(child); });\n        return schema;\n    };\n    SModelFactory.prototype.initializeElement = function (element, schema) {\n        for (var key in schema) {\n            if (!this.isReserved(element, key)) {\n                var value = schema[key];\n                if (typeof value !== 'function')\n                    element[key] = value;\n            }\n        }\n        return element;\n    };\n    SModelFactory.prototype.isReserved = function (element, propertyName) {\n        if (['children', 'parent', 'index'].indexOf(propertyName) >= 0)\n            return true;\n        var obj = element;\n        do {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, propertyName);\n            if (descriptor !== undefined)\n                return descriptor.get !== undefined;\n            obj = Object.getPrototypeOf(obj);\n        } while (obj);\n        return false;\n    };\n    SModelFactory.prototype.initializeParent = function (parent, schema) {\n        var _this = this;\n        this.initializeElement(parent, schema);\n        if (smodel_1.isParent(schema)) {\n            parent.children = schema.children.map(function (childSchema) { return _this.createElement(childSchema, parent); });\n        }\n        return parent;\n    };\n    SModelFactory.prototype.initializeChild = function (child, schema, parent) {\n        this.initializeParent(child, schema);\n        if (parent !== undefined) {\n            child.parent = parent;\n        }\n        return child;\n    };\n    SModelFactory.prototype.initializeRoot = function (root, schema) {\n        this.initializeParent(root, schema);\n        root.index.add(root);\n        return root;\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.SModelRegistry),\n        __metadata(\"design:type\", SModelRegistry)\n    ], SModelFactory.prototype, \"registry\", void 0);\n    SModelFactory = __decorate([\n        inversify_1.injectable()\n    ], SModelFactory);\n    return SModelFactory;\n}());\nexports.SModelFactory = SModelFactory;\nexports.EMPTY_ROOT = Object.freeze({\n    type: 'NONE',\n    id: 'EMPTY'\n});\n/**\n * Model element classes registered here are considered automatically when constructring a model from its schema.\n */\nvar SModelRegistry = /** @class */ (function (_super) {\n    __extends(SModelRegistry, _super);\n    function SModelRegistry(registrations) {\n        var _this = _super.call(this) || this;\n        registrations.forEach(function (registration) { return _this.register(registration.type, registration.constr); });\n        return _this;\n    }\n    SModelRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.SModelElementRegistration)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], SModelRegistry);\n    return SModelRegistry;\n}(registry_1.ProviderRegistry));\nexports.SModelRegistry = SModelRegistry;\n//# sourceMappingURL=smodel-factory.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"./smodel\");\n/**\n * Model element types can include a colon to separate the basic type and a sub-type. This function\n * extracts the basic type of a model element.\n */\nfunction getBasicType(schema) {\n    if (!schema.type)\n        return '';\n    var colonIndex = schema.type.indexOf(':');\n    if (colonIndex >= 0)\n        return schema.type.substring(0, colonIndex);\n    else\n        return schema.type;\n}\nexports.getBasicType = getBasicType;\n/**\n * Model element types can include a colon to separate the basic type and a sub-type. This function\n * extracts the sub-type of a model element.\n */\nfunction getSubType(schema) {\n    if (!schema.type)\n        return '';\n    var colonIndex = schema.type.indexOf(':');\n    if (colonIndex >= 0)\n        return schema.type.substring(colonIndex + 1);\n    else\n        return schema.type;\n}\nexports.getSubType = getSubType;\n/**\n * Find the element with the given identifier. If you need to find multiple elements, using an\n * SModelIndex might be more effective.\n */\nfunction findElement(parent, elementId) {\n    if (parent.id === elementId)\n        return parent;\n    if (parent.children !== undefined) {\n        for (var _i = 0, _a = parent.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            var result = findElement(child, elementId);\n            if (result !== undefined)\n                return result;\n        }\n    }\n    return undefined;\n}\nexports.findElement = findElement;\n/**\n * Find a parent element that satisfies the given predicate.\n */\nfunction findParent(element, predicate) {\n    var current = element;\n    while (current !== undefined) {\n        if (predicate(current))\n            return current;\n        else if (current instanceof smodel_1.SChildElement)\n            current = current.parent;\n        else\n            current = undefined;\n    }\n    return current;\n}\nexports.findParent = findParent;\n/**\n * Find a parent element that implements the feature identified with the given predicate.\n */\nfunction findParentByFeature(element, predicate) {\n    var current = element;\n    while (current !== undefined) {\n        if (predicate(current))\n            return current;\n        else if (current instanceof smodel_1.SChildElement)\n            current = current.parent;\n        else\n            current = undefined;\n    }\n    return current;\n}\nexports.findParentByFeature = findParentByFeature;\n/**\n * Translate a point from the coordinate system of the source element to the coordinate system\n * of the target element.\n */\nfunction translatePoint(point, source, target) {\n    if (source !== target) {\n        // Translate from the source to the root element\n        while (source instanceof smodel_1.SChildElement) {\n            point = source.localToParent(point);\n            source = source.parent;\n            if (source === target)\n                return point;\n        }\n        // Translate from the root to the target element\n        var targetTrace = [];\n        while (target instanceof smodel_1.SChildElement) {\n            targetTrace.push(target);\n            target = target.parent;\n        }\n        if (source !== target)\n            throw new Error(\"Incompatible source and target: \" + source.id + \", \" + target.id);\n        for (var i = targetTrace.length - 1; i >= 0; i--) {\n            point = targetTrace[i].parentToLocal(point);\n        }\n    }\n    return point;\n}\nexports.translatePoint = translatePoint;\n/**\n * Translate some bounds from the coordinate system of the source element to the coordinate system\n * of the target element.\n */\nfunction translateBounds(bounds, source, target) {\n    var upperLeft = translatePoint(bounds, source, target);\n    var lowerRight = translatePoint({ x: bounds.x + bounds.width, y: bounds.y + bounds.height }, source, target);\n    return {\n        x: upperLeft.x,\n        y: upperLeft.y,\n        width: lowerRight.x - upperLeft.x,\n        height: lowerRight.y - upperLeft.y\n    };\n}\nexports.translateBounds = translateBounds;\n//# sourceMappingURL=smodel-utils.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar iterable_1 = require(\"../../utils/iterable\");\n/**\n * Base class for all elements of the diagram model.\n * Each model element must have a unique ID and a type that is used to look up its view.\n */\nvar SModelElement = /** @class */ (function () {\n    function SModelElement() {\n    }\n    Object.defineProperty(SModelElement.prototype, \"root\", {\n        get: function () {\n            var current = this;\n            while (current) {\n                if (current instanceof SModelRoot)\n                    return current;\n                else if (current instanceof SChildElement)\n                    current = current.parent;\n                else\n                    current = undefined;\n            }\n            throw new Error(\"Element has no root\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SModelElement.prototype, \"index\", {\n        get: function () {\n            return this.root.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * A feature is a symbol identifying some functionality that can be enabled or disabled for\n     * a model element. The base implementation always returns false, so it disables all features.\n     */\n    SModelElement.prototype.hasFeature = function (feature) {\n        return false;\n    };\n    return SModelElement;\n}());\nexports.SModelElement = SModelElement;\nfunction isParent(element) {\n    var children = element.children;\n    return children !== undefined && children.constructor === Array;\n}\nexports.isParent = isParent;\n/**\n * A parent element may contain child elements, thus the diagram model forms a tree.\n */\nvar SParentElement = /** @class */ (function (_super) {\n    __extends(SParentElement, _super);\n    function SParentElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.children = [];\n        return _this;\n    }\n    SParentElement.prototype.add = function (child, i) {\n        var children = this.children;\n        if (i === undefined) {\n            children.push(child);\n        }\n        else {\n            if (i < 0 || i > this.children.length) {\n                throw new Error(\"Child index \" + i + \" out of bounds (0..\" + children.length + \")\");\n            }\n            children.splice(i, 0, child);\n        }\n        child.parent = this;\n        this.index.add(child);\n    };\n    SParentElement.prototype.remove = function (child) {\n        var children = this.children;\n        var i = children.indexOf(child);\n        if (i < 0) {\n            throw new Error(\"No such child \" + child.id);\n        }\n        children.splice(i, 1);\n        delete child.parent;\n        this.index.remove(child);\n    };\n    SParentElement.prototype.removeAll = function (filter) {\n        var _this = this;\n        var children = this.children;\n        if (filter !== undefined) {\n            for (var i = children.length - 1; i >= 0; i--) {\n                if (filter(children[i])) {\n                    var child = children.splice(i, 1)[0];\n                    delete child.parent;\n                    this.index.remove(child);\n                }\n            }\n        }\n        else {\n            children.forEach(function (child) {\n                delete child.parent;\n                _this.index.remove(child);\n            });\n            children.splice(0, children.length);\n        }\n    };\n    SParentElement.prototype.move = function (child, newIndex) {\n        var children = this.children;\n        var i = children.indexOf(child);\n        if (i === -1) {\n            throw new Error(\"No such child \" + child.id);\n        }\n        else {\n            if (newIndex < 0 || newIndex > children.length - 1) {\n                throw new Error(\"Child index \" + newIndex + \" out of bounds (0..\" + children.length + \")\");\n            }\n            children.splice(i, 1);\n            children.splice(newIndex, 0, child);\n        }\n    };\n    /**\n     * Transform the given bounds from the local coordinate system of this element to the coordinate\n     * system of its parent. This function should consider any transformation that is applied to the\n     * view of this element and its contents.\n     * The base implementation assumes that this element does not define a local coordinate system,\n     * so it leaves the bounds unchanged.\n     */\n    SParentElement.prototype.localToParent = function (point) {\n        return geometry_1.isBounds(point) ? point : { x: point.x, y: point.y, width: -1, height: -1 };\n    };\n    /**\n     * Transform the given bounds from the coordinate system of this element's parent to its local\n     * coordinate system. This function should consider any transformation that is applied to the\n     * view of this element and its contents.\n     * The base implementation assumes that this element does not define a local coordinate system,\n     * so it leaves the bounds unchanged.\n     */\n    SParentElement.prototype.parentToLocal = function (point) {\n        return geometry_1.isBounds(point) ? point : { x: point.x, y: point.y, width: -1, height: -1 };\n    };\n    return SParentElement;\n}(SModelElement));\nexports.SParentElement = SParentElement;\n/**\n * A child element is contained in a parent element. All elements except the model root are child\n * elements. In order to keep the model class hierarchy simple, every child element is also a\n * parent element, although for many elements the array of children is empty (i.e. they are\n * leafs in the model element tree).\n */\nvar SChildElement = /** @class */ (function (_super) {\n    __extends(SChildElement, _super);\n    function SChildElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SChildElement;\n}(SParentElement));\nexports.SChildElement = SChildElement;\n/**\n * Base class for the root element of the diagram model tree.\n */\nvar SModelRoot = /** @class */ (function (_super) {\n    __extends(SModelRoot, _super);\n    function SModelRoot(index) {\n        if (index === void 0) { index = new SModelIndex(); }\n        var _this = _super.call(this) || this;\n        _this.canvasBounds = geometry_1.EMPTY_BOUNDS;\n        // Override the index property from SModelElement, which has a getter, with a data property\n        Object.defineProperty(_this, 'index', {\n            value: index,\n            writable: false\n        });\n        return _this;\n    }\n    return SModelRoot;\n}(SParentElement));\nexports.SModelRoot = SModelRoot;\nvar ID_CHARS = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nfunction createRandomId(length) {\n    if (length === void 0) { length = 8; }\n    var id = \"\";\n    for (var i = 0; i < length; i++) {\n        id += ID_CHARS.charAt(Math.floor(Math.random() * ID_CHARS.length));\n    }\n    return id;\n}\nexports.createRandomId = createRandomId;\n/**\n * Used to speed up model element lookup by id.\n */\nvar SModelIndex = /** @class */ (function () {\n    function SModelIndex() {\n        this.id2element = new Map;\n    }\n    SModelIndex.prototype.add = function (element) {\n        if (!element.id) {\n            do {\n                element.id = createRandomId();\n            } while (this.contains(element));\n        }\n        else if (this.contains(element)) {\n            throw new Error(\"Duplicate ID in model: \" + element.id);\n        }\n        this.id2element.set(element.id, element);\n        if (element.children !== undefined && element.children.constructor === Array) {\n            for (var _i = 0, _a = element.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                this.add(child);\n            }\n        }\n    };\n    SModelIndex.prototype.remove = function (element) {\n        this.id2element.delete(element.id);\n        if (element.children !== undefined && element.children.constructor === Array) {\n            for (var _i = 0, _a = element.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                this.remove(child);\n            }\n        }\n    };\n    SModelIndex.prototype.contains = function (element) {\n        return this.id2element.has(element.id);\n    };\n    SModelIndex.prototype.getById = function (id) {\n        return this.id2element.get(id);\n    };\n    SModelIndex.prototype.getAttachedElements = function (element) {\n        return [];\n    };\n    SModelIndex.prototype.all = function () {\n        return iterable_1.mapIterable(this.id2element, function (_a) {\n            var key = _a[0], value = _a[1];\n            return value;\n        });\n    };\n    return SModelIndex;\n}());\nexports.SModelIndex = SModelIndex;\n//# sourceMappingURL=smodel.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar tool_1 = require(\"./tool\");\nvar key_tool_1 = require(\"../views/key-tool\");\nvar keyboard_1 = require(\"../../utils/keyboard\");\nvar ToolManager = /** @class */ (function () {\n    function ToolManager() {\n        this.tools = [];\n        this.defaultTools = [];\n        this.actives = [];\n    }\n    Object.defineProperty(ToolManager.prototype, \"managedTools\", {\n        get: function () {\n            return this.defaultTools.concat(this.tools);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ToolManager.prototype, \"activeTools\", {\n        get: function () {\n            return this.actives;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ToolManager.prototype.disableActiveTools = function () {\n        this.actives.forEach(function (tool) { return tool.disable(); });\n        this.actives.splice(0, this.actives.length);\n    };\n    ToolManager.prototype.enableDefaultTools = function () {\n        this.enable(this.defaultTools.map(function (tool) { return tool.id; }));\n    };\n    ToolManager.prototype.enable = function (toolIds) {\n        var _this = this;\n        this.disableActiveTools();\n        var tools = toolIds.map(function (id) { return _this.tool(id); });\n        tools.forEach(function (tool) {\n            if (tool !== undefined) {\n                tool.enable();\n                _this.actives.push(tool);\n            }\n        });\n    };\n    ToolManager.prototype.tool = function (toolId) {\n        return this.managedTools.find(function (tool) { return tool.id === toolId; });\n    };\n    ToolManager.prototype.registerDefaultTools = function () {\n        var tools = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tools[_i] = arguments[_i];\n        }\n        for (var _a = 0, tools_1 = tools; _a < tools_1.length; _a++) {\n            var tool = tools_1[_a];\n            this.defaultTools.push(tool);\n        }\n    };\n    ToolManager.prototype.registerTools = function () {\n        var tools = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tools[_i] = arguments[_i];\n        }\n        for (var _a = 0, tools_2 = tools; _a < tools_2.length; _a++) {\n            var tool = tools_2[_a];\n            this.tools.push(tool);\n        }\n    };\n    ToolManager = __decorate([\n        inversify_1.injectable()\n    ], ToolManager);\n    return ToolManager;\n}());\nexports.ToolManager = ToolManager;\nvar ToolManagerActionHandlerInitializer = /** @class */ (function () {\n    function ToolManagerActionHandlerInitializer() {\n    }\n    ToolManagerActionHandlerInitializer.prototype.initialize = function (registry) {\n        registry.register(tool_1.EnableDefaultToolsAction.KIND, this);\n        registry.register(tool_1.EnableToolsAction.KIND, this);\n    };\n    ToolManagerActionHandlerInitializer.prototype.handle = function (action) {\n        if (action instanceof tool_1.EnableDefaultToolsAction) {\n            this.toolManager.enableDefaultTools();\n        }\n        else if (action instanceof tool_1.EnableToolsAction) {\n            this.toolManager.enable(action.toolIds);\n        }\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IToolManager),\n        __metadata(\"design:type\", Object)\n    ], ToolManagerActionHandlerInitializer.prototype, \"toolManager\", void 0);\n    ToolManagerActionHandlerInitializer = __decorate([\n        inversify_1.injectable()\n    ], ToolManagerActionHandlerInitializer);\n    return ToolManagerActionHandlerInitializer;\n}());\nexports.ToolManagerActionHandlerInitializer = ToolManagerActionHandlerInitializer;\nvar DefaultToolsEnablingKeyListener = /** @class */ (function (_super) {\n    __extends(DefaultToolsEnablingKeyListener, _super);\n    function DefaultToolsEnablingKeyListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultToolsEnablingKeyListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'Escape')) {\n            return [new tool_1.EnableDefaultToolsAction()];\n        }\n        return [];\n    };\n    DefaultToolsEnablingKeyListener = __decorate([\n        inversify_1.injectable()\n    ], DefaultToolsEnablingKeyListener);\n    return DefaultToolsEnablingKeyListener;\n}(key_tool_1.KeyListener));\nexports.DefaultToolsEnablingKeyListener = DefaultToolsEnablingKeyListener;\n//# sourceMappingURL=tool-manager.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Action to enable the tools of the specified `toolIds`.\n */\nvar EnableToolsAction = /** @class */ (function () {\n    function EnableToolsAction(toolIds) {\n        this.toolIds = toolIds;\n        this.kind = EnableToolsAction.KIND;\n    }\n    EnableToolsAction.KIND = \"enable-tools\";\n    return EnableToolsAction;\n}());\nexports.EnableToolsAction = EnableToolsAction;\n/**\n * Action to disable the currently active tools and enable the default tools instead.\n */\nvar EnableDefaultToolsAction = /** @class */ (function () {\n    function EnableDefaultToolsAction() {\n        this.kind = EnableDefaultToolsAction.KIND;\n    }\n    EnableDefaultToolsAction.KIND = \"enable-default-tools\";\n    return EnableDefaultToolsAction;\n}());\nexports.EnableDefaultToolsAction = EnableDefaultToolsAction;\n//# sourceMappingURL=tool.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TYPES = {\n    Action: Symbol('Action'),\n    IActionDispatcher: Symbol('IActionDispatcher'),\n    IActionDispatcherProvider: Symbol('IActionDispatcherProvider'),\n    IActionHandlerInitializer: Symbol('IActionHandlerInitializer'),\n    ActionHandlerRegistryProvider: Symbol('ActionHandlerRegistryProvider'),\n    IAnchorComputer: Symbol('IAnchor'),\n    AnimationFrameSyncer: Symbol('AnimationFrameSyncer'),\n    CommandStackOptions: Symbol('CommandStackOptions'),\n    IButtonHandler: Symbol('IButtonHandler'),\n    CommandRegistration: Symbol('CommandRegistration'),\n    ICommandStack: Symbol('ICommandStack'),\n    ICommandStackProvider: Symbol('ICommandStackProvider'),\n    IDiagramLocker: Symbol('IDiagramLocker'),\n    DOMHelper: Symbol('DOMHelper'),\n    IEdgeRouter: Symbol('IEdgeRouter'),\n    HiddenVNodeDecorator: Symbol('HiddenVNodeDecorator'),\n    HoverState: Symbol('HoverState'),\n    KeyListener: Symbol('KeyListener'),\n    Layouter: Symbol('Layouter'),\n    LayoutRegistry: Symbol('LayoutRegistry'),\n    ILogger: Symbol('ILogger'),\n    LogLevel: Symbol('LogLevel'),\n    IModelFactory: Symbol('IModelFactory'),\n    IModelLayoutEngine: Symbol('IModelLayoutEngine'),\n    ModelRendererFactory: Symbol('ModelRendererFactory'),\n    ModelSource: Symbol('ModelSource'),\n    ModelSourceProvider: Symbol('ModelSourceProvider'),\n    MouseListener: Symbol('MouseListener'),\n    IPopupModelProvider: Symbol('IPopupModelProvider'),\n    PopupMouseListener: Symbol('PopupMouseListener'),\n    PopupVNodeDecorator: Symbol('PopupVNodeDecorator'),\n    SModelElementRegistration: Symbol('SModelElementRegistration'),\n    SModelRegistry: Symbol('SModelRegistry'),\n    SvgExporter: Symbol('SvgExporter'),\n    IViewer: Symbol('IViewer'),\n    ViewerOptions: Symbol('ViewerOptions'),\n    IViewerProvider: Symbol('IViewerProvider'),\n    ViewRegistration: Symbol('ViewRegistration'),\n    ViewRegistry: Symbol('ViewRegistry'),\n    IVNodeDecorator: Symbol('IVNodeDecorator'),\n    IToolManager: Symbol('IToolManager'),\n    IUIExtension: Symbol('IUIExtension'),\n    UIExtensionRegistry: Symbol('UIExtensionRegistry'),\n    ICommandPaletteActionProviderRegistry: Symbol('ICommandPaletteActionProviderRegistry'),\n    ICommandPaletteActionProvider: Symbol('ICommandPaletteActionProvider')\n};\n//# sourceMappingURL=types.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar registry_1 = require(\"../../utils/registry\");\nvar command_1 = require(\"../commands/command\");\nvar types_1 = require(\"../types\");\n/**\n * The registry maintaining UI extensions registered via `TYPES.IUIExtension`.\n */\nvar UIExtensionRegistry = /** @class */ (function (_super) {\n    __extends(UIExtensionRegistry, _super);\n    function UIExtensionRegistry(extensions) {\n        if (extensions === void 0) { extensions = []; }\n        var _this = _super.call(this) || this;\n        extensions.forEach(function (extension) { return _this.register(extension.id, extension); });\n        return _this;\n    }\n    UIExtensionRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.IUIExtension)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], UIExtensionRegistry);\n    return UIExtensionRegistry;\n}(registry_1.InstanceRegistry));\nexports.UIExtensionRegistry = UIExtensionRegistry;\n/**\n * Action to set the visibility state of the UI extension with the specified `id`.\n */\nvar SetUIExtensionVisibilityAction = /** @class */ (function () {\n    function SetUIExtensionVisibilityAction(extensionId, visible) {\n        this.extensionId = extensionId;\n        this.visible = visible;\n        this.kind = SetUIExtensionVisibilityCommand.KIND;\n    }\n    return SetUIExtensionVisibilityAction;\n}());\nexports.SetUIExtensionVisibilityAction = SetUIExtensionVisibilityAction;\nvar SetUIExtensionVisibilityCommand = /** @class */ (function (_super) {\n    __extends(SetUIExtensionVisibilityCommand, _super);\n    function SetUIExtensionVisibilityCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    SetUIExtensionVisibilityCommand.prototype.execute = function (context) {\n        var extension = this.registry.get(this.action.extensionId);\n        if (extension) {\n            this.action.visible ? extension.show(context.root) : extension.hide();\n        }\n        return context.root;\n    };\n    SetUIExtensionVisibilityCommand.prototype.undo = function (context) {\n        return context.root;\n    };\n    SetUIExtensionVisibilityCommand.prototype.redo = function (context) {\n        return context.root;\n    };\n    SetUIExtensionVisibilityCommand.KIND = \"setUIExtensionVisibility\";\n    __decorate([\n        inversify_1.inject(types_1.TYPES.UIExtensionRegistry),\n        __metadata(\"design:type\", UIExtensionRegistry)\n    ], SetUIExtensionVisibilityCommand.prototype, \"registry\", void 0);\n    SetUIExtensionVisibilityCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SetUIExtensionVisibilityAction])\n    ], SetUIExtensionVisibilityCommand);\n    return SetUIExtensionVisibilityCommand;\n}(command_1.SystemCommand));\nexports.SetUIExtensionVisibilityCommand = SetUIExtensionVisibilityCommand;\n//# sourceMappingURL=ui-extension-registry.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\n/**\n * Abstract base class for UI extensions.\n */\nvar AbstractUIExtension = /** @class */ (function () {\n    function AbstractUIExtension() {\n    }\n    AbstractUIExtension.prototype.show = function (root) {\n        this.activeElement = document.activeElement;\n        if (!this.containerElement) {\n            if (!this.initialize())\n                return;\n        }\n        this.onBeforeShow(this.containerElement, root);\n        this.setContainerVisible(true);\n    };\n    AbstractUIExtension.prototype.hide = function () {\n        this.setContainerVisible(false);\n        this.restoreFocus();\n        this.activeElement = null;\n    };\n    AbstractUIExtension.prototype.restoreFocus = function () {\n        var focusedElement = this.activeElement;\n        if (focusedElement) {\n            focusedElement.focus();\n        }\n    };\n    AbstractUIExtension.prototype.initialize = function () {\n        var baseDiv = document.getElementById(this.options.baseDiv);\n        if (!baseDiv) {\n            this.logger.warn(this, \"Could not obtain sprotty base container for initializing UI extension \" + this.id, this);\n            return false;\n        }\n        this.containerElement = this.getOrCreateContainer(baseDiv.id);\n        this.initializeContents(this.containerElement);\n        if (baseDiv) {\n            baseDiv.insertBefore(this.containerElement, baseDiv.firstChild);\n        }\n        return true;\n    };\n    AbstractUIExtension.prototype.getOrCreateContainer = function (baseDivId) {\n        var container = document.getElementById(this.id);\n        if (container === null) {\n            container = document.createElement('div');\n            container.id = baseDivId + \"_\" + this.id;\n            container.classList.add(this.containerClass);\n        }\n        return container;\n    };\n    AbstractUIExtension.prototype.setContainerVisible = function (value) {\n        if (this.containerElement) {\n            if (value) {\n                this.containerElement.style.visibility = 'visible';\n                this.containerElement.style.opacity = '1';\n            }\n            else {\n                this.containerElement.style.visibility = 'hidden';\n                this.containerElement.style.opacity = '0';\n            }\n        }\n    };\n    /**\n     * Updates the `containerElement` under the given `context` before it becomes visible.\n     *\n     * Subclasses may override this method to, for instance, modifying the position of the\n     * `containerElement`, add or remove elements, etc. depending on the specified `root`.\n     */\n    AbstractUIExtension.prototype.onBeforeShow = function (containerElement, root) {\n        // default: do nothing\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], AbstractUIExtension.prototype, \"options\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], AbstractUIExtension.prototype, \"logger\", void 0);\n    AbstractUIExtension = __decorate([\n        inversify_1.injectable()\n    ], AbstractUIExtension);\n    return AbstractUIExtension;\n}());\nexports.AbstractUIExtension = AbstractUIExtension;\n//# sourceMappingURL=ui-extension.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vnode_utils_1 = require(\"./vnode-utils\");\nvar inversify_1 = require(\"inversify\");\nvar CssClassDecorator = /** @class */ (function () {\n    function CssClassDecorator() {\n    }\n    CssClassDecorator.prototype.decorate = function (vnode, element) {\n        if (element.cssClasses) {\n            for (var _i = 0, _a = element.cssClasses; _i < _a.length; _i++) {\n                var cssClass = _a[_i];\n                vnode_utils_1.setClass(vnode, cssClass, true);\n            }\n        }\n        return vnode;\n    };\n    CssClassDecorator.prototype.postUpdate = function () {\n        // empty\n    };\n    CssClassDecorator = __decorate([\n        inversify_1.injectable()\n    ], CssClassDecorator);\n    return CssClassDecorator;\n}());\nexports.CssClassDecorator = CssClassDecorator;\n//# sourceMappingURL=css-class-decorator.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar DOMHelper = /** @class */ (function () {\n    function DOMHelper() {\n    }\n    DOMHelper.prototype.getPrefix = function () {\n        var prefix = this.viewerOptions !== undefined && this.viewerOptions.baseDiv !== undefined ?\n            this.viewerOptions.baseDiv + \"_\" : \"\";\n        return prefix;\n    };\n    DOMHelper.prototype.createUniqueDOMElementId = function (element) {\n        return this.getPrefix() + element.id;\n    };\n    DOMHelper.prototype.findSModelIdByDOMElement = function (element) {\n        return element.id.replace(this.getPrefix(), '');\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], DOMHelper.prototype, \"viewerOptions\", void 0);\n    DOMHelper = __decorate([\n        inversify_1.injectable()\n    ], DOMHelper);\n    return DOMHelper;\n}());\nexports.DOMHelper = DOMHelper;\n//# sourceMappingURL=dom-helper.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar dom_helper_1 = require(\"./dom-helper\");\nvar vnode_utils_1 = require(\"./vnode-utils\");\nvar IdDecorator = /** @class */ (function () {\n    function IdDecorator() {\n    }\n    IdDecorator.prototype.decorate = function (vnode, element) {\n        var attrs = vnode_utils_1.getAttrs(vnode);\n        if (attrs.id !== undefined)\n            this.logger.warn(vnode, 'Overriding id of vnode (' + attrs.id + '). Make sure not to set it manually in view.');\n        attrs.id = this.domHelper.createUniqueDOMElementId(element);\n        if (!vnode.key)\n            vnode.key = element.id;\n        return vnode;\n    };\n    IdDecorator.prototype.postUpdate = function () {\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], IdDecorator.prototype, \"logger\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.DOMHelper),\n        __metadata(\"design:type\", dom_helper_1.DOMHelper)\n    ], IdDecorator.prototype, \"domHelper\", void 0);\n    IdDecorator = __decorate([\n        inversify_1.injectable()\n    ], IdDecorator);\n    return IdDecorator;\n}());\nexports.IdDecorator = IdDecorator;\n//# sourceMappingURL=id-decorator.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar smodel_1 = require(\"../model/smodel\");\nvar vnode_utils_1 = require(\"./vnode-utils\");\nvar KeyTool = /** @class */ (function () {\n    function KeyTool(keyListeners) {\n        if (keyListeners === void 0) { keyListeners = []; }\n        this.keyListeners = keyListeners;\n    }\n    KeyTool.prototype.register = function (keyListener) {\n        this.keyListeners.push(keyListener);\n    };\n    KeyTool.prototype.deregister = function (keyListener) {\n        var index = this.keyListeners.indexOf(keyListener);\n        if (index >= 0)\n            this.keyListeners.splice(index, 1);\n    };\n    KeyTool.prototype.handleEvent = function (methodName, model, event) {\n        var actions = this.keyListeners\n            .map(function (listener) { return listener[methodName].apply(listener, [model, event]); })\n            .reduce(function (a, b) { return a.concat(b); });\n        if (actions.length > 0) {\n            event.preventDefault();\n            this.actionDispatcher.dispatchAll(actions);\n        }\n    };\n    KeyTool.prototype.keyDown = function (element, event) {\n        this.handleEvent('keyDown', element, event);\n    };\n    KeyTool.prototype.keyUp = function (element, event) {\n        this.handleEvent('keyUp', element, event);\n    };\n    KeyTool.prototype.focus = function () { };\n    KeyTool.prototype.decorate = function (vnode, element) {\n        if (element instanceof smodel_1.SModelRoot) {\n            vnode_utils_1.on(vnode, 'focus', this.focus.bind(this), element);\n            vnode_utils_1.on(vnode, 'keydown', this.keyDown.bind(this), element);\n            vnode_utils_1.on(vnode, 'keyup', this.keyUp.bind(this), element);\n        }\n        return vnode;\n    };\n    KeyTool.prototype.postUpdate = function () {\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], KeyTool.prototype, \"actionDispatcher\", void 0);\n    KeyTool = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.KeyListener)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], KeyTool);\n    return KeyTool;\n}());\nexports.KeyTool = KeyTool;\nvar KeyListener = /** @class */ (function () {\n    function KeyListener() {\n    }\n    KeyListener.prototype.keyDown = function (element, event) {\n        return [];\n    };\n    KeyListener.prototype.keyUp = function (element, event) {\n        return [];\n    };\n    KeyListener = __decorate([\n        inversify_1.injectable()\n    ], KeyListener);\n    return KeyListener;\n}());\nexports.KeyListener = KeyListener;\n//# sourceMappingURL=key-tool.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar smodel_1 = require(\"../model/smodel\");\nvar action_1 = require(\"../actions/action\");\nvar vnode_utils_1 = require(\"./vnode-utils\");\nvar dom_helper_1 = require(\"./dom-helper\");\nvar MouseTool = /** @class */ (function () {\n    function MouseTool(mouseListeners) {\n        if (mouseListeners === void 0) { mouseListeners = []; }\n        this.mouseListeners = mouseListeners;\n    }\n    MouseTool.prototype.register = function (mouseListener) {\n        this.mouseListeners.push(mouseListener);\n    };\n    MouseTool.prototype.deregister = function (mouseListener) {\n        var index = this.mouseListeners.indexOf(mouseListener);\n        if (index >= 0)\n            this.mouseListeners.splice(index, 1);\n    };\n    MouseTool.prototype.getTargetElement = function (model, event) {\n        var target = event.target;\n        var index = model.index;\n        while (target) {\n            if (target.id) {\n                var element = index.getById(this.domHelper.findSModelIdByDOMElement(target));\n                if (element !== undefined)\n                    return element;\n            }\n            target = target.parentNode;\n        }\n        return undefined;\n    };\n    MouseTool.prototype.handleEvent = function (methodName, model, event) {\n        var _this = this;\n        this.focusOnMouseEvent(methodName, model);\n        var element = this.getTargetElement(model, event);\n        if (!element)\n            return;\n        var actions = this.mouseListeners\n            .map(function (listener) { return listener[methodName].apply(listener, [element, event]); })\n            .reduce(function (a, b) { return a.concat(b); });\n        if (actions.length > 0) {\n            event.preventDefault();\n            for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\n                var actionOrPromise = actions_1[_i];\n                if (action_1.isAction(actionOrPromise)) {\n                    this.actionDispatcher.dispatch(actionOrPromise);\n                }\n                else {\n                    actionOrPromise.then(function (action) {\n                        _this.actionDispatcher.dispatch(action);\n                    });\n                }\n            }\n        }\n    };\n    MouseTool.prototype.focusOnMouseEvent = function (methodName, model) {\n        if (document) {\n            var domElement = document.getElementById(this.domHelper.createUniqueDOMElementId(model));\n            if (methodName === 'mouseDown' && domElement !== null && typeof domElement.focus === 'function')\n                domElement.focus();\n        }\n    };\n    MouseTool.prototype.mouseOver = function (model, event) {\n        this.handleEvent('mouseOver', model, event);\n    };\n    MouseTool.prototype.mouseOut = function (model, event) {\n        this.handleEvent('mouseOut', model, event);\n    };\n    MouseTool.prototype.mouseEnter = function (model, event) {\n        this.handleEvent('mouseEnter', model, event);\n    };\n    MouseTool.prototype.mouseLeave = function (model, event) {\n        this.handleEvent('mouseLeave', model, event);\n    };\n    MouseTool.prototype.mouseDown = function (model, event) {\n        this.handleEvent('mouseDown', model, event);\n    };\n    MouseTool.prototype.mouseMove = function (model, event) {\n        this.handleEvent('mouseMove', model, event);\n    };\n    MouseTool.prototype.mouseUp = function (model, event) {\n        this.handleEvent('mouseUp', model, event);\n    };\n    MouseTool.prototype.wheel = function (model, event) {\n        this.handleEvent('wheel', model, event);\n    };\n    MouseTool.prototype.doubleClick = function (model, event) {\n        this.handleEvent('doubleClick', model, event);\n    };\n    MouseTool.prototype.decorate = function (vnode, element) {\n        if (element instanceof smodel_1.SModelRoot) {\n            vnode_utils_1.on(vnode, 'mouseover', this.mouseOver.bind(this), element);\n            vnode_utils_1.on(vnode, 'mouseout', this.mouseOut.bind(this), element);\n            vnode_utils_1.on(vnode, 'mouseenter', this.mouseEnter.bind(this), element);\n            vnode_utils_1.on(vnode, 'mouseleave', this.mouseLeave.bind(this), element);\n            vnode_utils_1.on(vnode, 'mousedown', this.mouseDown.bind(this), element);\n            vnode_utils_1.on(vnode, 'mouseup', this.mouseUp.bind(this), element);\n            vnode_utils_1.on(vnode, 'mousemove', this.mouseMove.bind(this), element);\n            vnode_utils_1.on(vnode, 'wheel', this.wheel.bind(this), element);\n            vnode_utils_1.on(vnode, 'contextmenu', function (target, event) {\n                event.preventDefault();\n            }, element);\n            vnode_utils_1.on(vnode, 'dblclick', this.doubleClick.bind(this), element);\n        }\n        vnode = this.mouseListeners.reduce(function (n, listener) { return listener.decorate(n, element); }, vnode);\n        return vnode;\n    };\n    MouseTool.prototype.postUpdate = function () {\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], MouseTool.prototype, \"actionDispatcher\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.DOMHelper),\n        __metadata(\"design:type\", dom_helper_1.DOMHelper)\n    ], MouseTool.prototype, \"domHelper\", void 0);\n    MouseTool = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.MouseListener)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], MouseTool);\n    return MouseTool;\n}());\nexports.MouseTool = MouseTool;\nvar PopupMouseTool = /** @class */ (function (_super) {\n    __extends(PopupMouseTool, _super);\n    function PopupMouseTool(mouseListeners) {\n        if (mouseListeners === void 0) { mouseListeners = []; }\n        var _this = _super.call(this, mouseListeners) || this;\n        _this.mouseListeners = mouseListeners;\n        return _this;\n    }\n    PopupMouseTool = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.PopupMouseListener)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], PopupMouseTool);\n    return PopupMouseTool;\n}(MouseTool));\nexports.PopupMouseTool = PopupMouseTool;\nvar MouseListener = /** @class */ (function () {\n    function MouseListener() {\n    }\n    MouseListener.prototype.mouseOver = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.mouseOut = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.mouseEnter = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.mouseLeave = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.mouseDown = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.mouseMove = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.mouseUp = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.wheel = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.doubleClick = function (target, event) {\n        return [];\n    };\n    MouseListener.prototype.decorate = function (vnode, element) {\n        return vnode;\n    };\n    MouseListener = __decorate([\n        inversify_1.injectable()\n    ], MouseListener);\n    return MouseListener;\n}());\nexports.MouseListener = MouseListener;\n//# sourceMappingURL=mouse-tool.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar snabbdom_1 = require(\"snabbdom\");\nvar inversify_1 = require(\"inversify\");\n/**\n * An view that avoids calculation and patching of VNodes unless some model properties have changed.\n * Based on snabbdom's thunks.\n */\nvar ThunkView = /** @class */ (function () {\n    function ThunkView() {\n    }\n    ThunkView.prototype.render = function (model, context) {\n        var _this = this;\n        return snabbdom_1.h(this.selector(model), {\n            key: model.id,\n            hook: {\n                init: this.init.bind(this),\n                prepatch: this.prepatch.bind(this)\n            },\n            fn: function () { return _this.renderAndDecorate(model, context); },\n            args: this.watchedArgs(model),\n            thunk: true\n        });\n    };\n    ThunkView.prototype.renderAndDecorate = function (model, context) {\n        var vnode = this.doRender(model, context);\n        context.decorate(vnode, model);\n        return vnode;\n    };\n    ThunkView.prototype.copyToThunk = function (vnode, thunk) {\n        thunk.elm = vnode.elm;\n        vnode.data.fn = thunk.data.fn;\n        vnode.data.args = thunk.data.args;\n        thunk.data = vnode.data;\n        thunk.children = vnode.children;\n        thunk.text = vnode.text;\n        thunk.elm = vnode.elm;\n    };\n    ThunkView.prototype.init = function (thunk) {\n        var cur = thunk.data;\n        var vnode = cur.fn.apply(undefined, cur.args);\n        this.copyToThunk(vnode, thunk);\n    };\n    ThunkView.prototype.prepatch = function (oldVnode, thunk) {\n        var old = oldVnode.data, cur = thunk.data;\n        if (!this.equals(old.args, cur.args))\n            this.copyToThunk(cur.fn.apply(undefined, cur.args), thunk);\n        else\n            this.copyToThunk(oldVnode, thunk);\n    };\n    ThunkView.prototype.equals = function (oldArg, newArg) {\n        if (Array.isArray(oldArg) && Array.isArray(newArg)) {\n            if (oldArg.length !== newArg.length)\n                return false;\n            for (var i = 0; i < newArg.length; ++i) {\n                if (!this.equals(oldArg[i], newArg[i]))\n                    return false;\n            }\n        }\n        else if (typeof oldArg === 'object' && typeof newArg === 'object') {\n            if (Object.keys(oldArg).length !== Object.keys(newArg).length)\n                return false;\n            for (var key in oldArg) {\n                if (key !== 'parent' && key !== 'root' && (!(key in newArg) || !this.equals(oldArg[key], newArg[key])))\n                    return false;\n            }\n        }\n        else if (oldArg !== newArg) {\n            return false;\n        }\n        return true;\n    };\n    ThunkView = __decorate([\n        inversify_1.injectable()\n    ], ThunkView);\n    return ThunkView;\n}());\nexports.ThunkView = ThunkView;\nfunction isThunk(vnode) {\n    return 'thunk' in vnode;\n}\nexports.isThunk = isThunk;\n//# sourceMappingURL=thunk-view.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx svg */\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar smodel_factory_1 = require(\"../model/smodel-factory\");\nvar registry_1 = require(\"../../utils/registry\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar inversify_2 = require(\"../../utils/inversify\");\n/**\n * Allows to look up the IView for a given SModelElement based on its type.\n */\nvar ViewRegistry = /** @class */ (function (_super) {\n    __extends(ViewRegistry, _super);\n    function ViewRegistry(registrations) {\n        var _this = _super.call(this) || this;\n        _this.registerDefaults();\n        registrations.forEach(function (registration) {\n            return _this.register(registration.type, registration.factory());\n        });\n        return _this;\n    }\n    ViewRegistry.prototype.registerDefaults = function () {\n        this.register(smodel_factory_1.EMPTY_ROOT.type, new EmptyView());\n    };\n    ViewRegistry.prototype.missing = function (key) {\n        return new MissingView();\n    };\n    ViewRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.ViewRegistration)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], ViewRegistry);\n    return ViewRegistry;\n}(registry_1.InstanceRegistry));\nexports.ViewRegistry = ViewRegistry;\n/**\n * Utility function to register model and view constructors for a model element type.\n */\nfunction configureModelElement(context, type, modelConstr, constr) {\n    context.bind(types_1.TYPES.SModelElementRegistration).toConstantValue({\n        type: type,\n        constr: modelConstr\n    });\n    configureView(context, type, constr);\n}\nexports.configureModelElement = configureModelElement;\n/**\n * Utility function to register a view for a model element type.\n */\nfunction configureView(context, type, constr) {\n    if (inversify_2.isInjectable(constr)) {\n        if (!context.isBound(constr))\n            context.bind(constr).toSelf();\n        context.bind(types_1.TYPES.ViewRegistration).toDynamicValue(function (ctx) {\n            return {\n                factory: function () { return ctx.container.get(constr); },\n                type: type\n            };\n        });\n    }\n    else {\n        throw Error(\"Views should be @injectable \" + constr.name);\n    }\n}\nexports.configureView = configureView;\n/**\n * This view is used when the model is the EMPTY_ROOT.\n */\nvar EmptyView = /** @class */ (function () {\n    function EmptyView() {\n    }\n    EmptyView.prototype.render = function (model, context) {\n        return snabbdom_jsx_1.svg(\"svg\", { \"class-sprotty-empty\": true });\n    };\n    EmptyView = __decorate([\n        inversify_1.injectable()\n    ], EmptyView);\n    return EmptyView;\n}());\nexports.EmptyView = EmptyView;\n/**\n * This view is used when no view has been registered for a model element type.\n */\nvar MissingView = /** @class */ (function () {\n    function MissingView() {\n    }\n    MissingView.prototype.render = function (model, context) {\n        var position = model.position || geometry_1.ORIGIN_POINT;\n        return snabbdom_jsx_1.svg(\"text\", { \"class-sprotty-missing\": true, x: position.x, y: position.y },\n            \"?\",\n            model.id,\n            \"?\");\n    };\n    MissingView = __decorate([\n        inversify_1.injectable()\n    ], MissingView);\n    return MissingView;\n}());\nexports.MissingView = MissingView;\n//# sourceMappingURL=view.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar animation_frame_syncer_1 = require(\"../animations/animation-frame-syncer\");\n/**\n * Updating the view is rather expensive, and it doesn't make sense to calculate\n * more then one update per animation (rendering) frame. So this class batches\n * all incoming model changes and only renders the last one when the next animation\n * frame comes.\n */\nvar ViewerCache = /** @class */ (function () {\n    function ViewerCache() {\n    }\n    ViewerCache.prototype.isCacheEmpty = function () {\n        return this.cachedModelRoot === undefined && this.cachedHiddenModelRoot === undefined &&\n            this.cachedPopup === undefined;\n    };\n    ViewerCache.prototype.updatePopup = function (model) {\n        var isCacheEmpty = this.isCacheEmpty();\n        this.cachedPopup = model;\n        if (isCacheEmpty)\n            this.scheduleUpdate();\n    };\n    ViewerCache.prototype.update = function (model) {\n        var isCacheEmpty = this.isCacheEmpty();\n        this.cachedModelRoot = model;\n        if (isCacheEmpty)\n            this.scheduleUpdate();\n    };\n    ViewerCache.prototype.updateHidden = function (hiddenModel) {\n        var isCacheEmpty = this.isCacheEmpty();\n        this.cachedHiddenModelRoot = hiddenModel;\n        if (isCacheEmpty)\n            this.scheduleUpdate();\n    };\n    ViewerCache.prototype.scheduleUpdate = function () {\n        var _this = this;\n        this.syncer.onEndOfNextFrame(function () {\n            if (_this.cachedHiddenModelRoot) {\n                var nextHiddenModelRoot = _this.cachedHiddenModelRoot;\n                _this.delegate.updateHidden(nextHiddenModelRoot);\n                _this.cachedHiddenModelRoot = undefined;\n            }\n            if (_this.cachedModelRoot) {\n                var nextModelRoot = _this.cachedModelRoot;\n                _this.delegate.update(nextModelRoot);\n                _this.cachedModelRoot = undefined;\n            }\n            if (_this.cachedPopup) {\n                var nextModelRoot = _this.cachedPopup;\n                _this.delegate.updatePopup(nextModelRoot);\n                _this.cachedPopup = undefined;\n            }\n        });\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IViewer), inversify_1.named('delegate'),\n        __metadata(\"design:type\", Object)\n    ], ViewerCache.prototype, \"delegate\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.AnimationFrameSyncer),\n        __metadata(\"design:type\", animation_frame_syncer_1.AnimationFrameSyncer)\n    ], ViewerCache.prototype, \"syncer\", void 0);\n    ViewerCache = __decorate([\n        inversify_1.injectable()\n    ], ViewerCache);\n    return ViewerCache;\n}());\nexports.ViewerCache = ViewerCache;\n//# sourceMappingURL=viewer-cache.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"../types\");\nexports.defaultViewerOptions = function () { return ({\n    baseDiv: 'sprotty',\n    baseClass: 'sprotty',\n    hiddenDiv: 'sprotty-hidden',\n    hiddenClass: 'sprotty-hidden',\n    popupDiv: 'sprotty-popup',\n    popupClass: 'sprotty-popup',\n    popupClosedClass: 'sprotty-popup-closed',\n    needsClientLayout: true,\n    needsServerLayout: false,\n    popupOpenDelay: 1000,\n    popupCloseDelay: 300\n}); };\n/**\n * Utility function to partially set viewer options. Default values (from `defaultViewerOptions`) are used for\n * options that are not specified.\n */\nfunction configureViewerOptions(context, options) {\n    var opt = __assign({}, exports.defaultViewerOptions(), options);\n    if (context.isBound(types_1.TYPES.ViewerOptions))\n        context.rebind(types_1.TYPES.ViewerOptions).toConstantValue(opt);\n    else\n        context.bind(types_1.TYPES.ViewerOptions).toConstantValue(opt);\n}\nexports.configureViewerOptions = configureViewerOptions;\n/**\n * Utility function to partially override the currently configured viewer options in a DI container.\n */\nfunction overrideViewerOptions(container, options) {\n    var opt = container.get(types_1.TYPES.ViewerOptions);\n    for (var p in options) {\n        if (options.hasOwnProperty(p))\n            opt[p] = options[p];\n    }\n    return opt;\n}\nexports.overrideViewerOptions = overrideViewerOptions;\n//# sourceMappingURL=viewer-options.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx html */\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\"); // must be html here, as we're creating a div\nvar snabbdom_1 = require(\"snabbdom\");\nvar props_1 = require(\"snabbdom/modules/props\");\nvar attributes_1 = require(\"snabbdom/modules/attributes\");\nvar style_1 = require(\"snabbdom/modules/style\");\nvar eventlisteners_1 = require(\"snabbdom/modules/eventlisteners\");\nvar class_1 = require(\"snabbdom/modules/class\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../types\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar initialize_canvas_1 = require(\"../features/initialize-canvas\");\nvar vnode_utils_1 = require(\"./vnode-utils\");\nvar thunk_view_1 = require(\"./thunk-view\");\nvar smodel_factory_1 = require(\"../model/smodel-factory\");\nvar ModelRenderer = /** @class */ (function () {\n    function ModelRenderer(viewRegistry, decorators) {\n        this.viewRegistry = viewRegistry;\n        this.decorators = decorators;\n    }\n    ModelRenderer.prototype.decorate = function (vnode, element) {\n        if (thunk_view_1.isThunk(vnode))\n            return vnode;\n        return this.decorators.reduce(function (n, decorator) { return decorator.decorate(n, element); }, vnode);\n    };\n    ModelRenderer.prototype.renderElement = function (element, args) {\n        var vNode = this.viewRegistry.get(element.type).render(element, this, args);\n        return this.decorate(vNode, element);\n    };\n    ModelRenderer.prototype.renderChildren = function (element, args) {\n        var _this = this;\n        return element.children.map(function (child) { return _this.renderElement(child, args); });\n    };\n    ModelRenderer.prototype.postUpdate = function () {\n        this.decorators.forEach(function (decorator) { return decorator.postUpdate(); });\n    };\n    return ModelRenderer;\n}());\nexports.ModelRenderer = ModelRenderer;\n/**\n * The component that turns the model into an SVG DOM.\n * Uses a VDOM based on snabbdom.js for performance.\n */\nvar Viewer = /** @class */ (function () {\n    function Viewer(modelRendererFactory, decorators, hiddenDecorators, popupDecorators) {\n        var _this = this;\n        this.modelRendererFactory = modelRendererFactory;\n        this.onWindowResize = function (vdom) {\n            var baseDiv = document.getElementById(_this.options.baseDiv);\n            if (baseDiv !== null) {\n                var newBounds = _this.getBoundsInPage(baseDiv);\n                _this.actiondispatcher.dispatch(new initialize_canvas_1.InitializeCanvasBoundsAction(newBounds));\n            }\n        };\n        this.patcher = this.createPatcher();\n        this.renderer = this.modelRendererFactory(decorators);\n        this.hiddenRenderer = this.modelRendererFactory(hiddenDecorators);\n        this.popupRenderer = this.modelRendererFactory(popupDecorators);\n    }\n    Viewer.prototype.createModules = function () {\n        return [\n            props_1.propsModule,\n            attributes_1.attributesModule,\n            class_1.classModule,\n            style_1.styleModule,\n            eventlisteners_1.eventListenersModule\n        ];\n    };\n    Viewer.prototype.createPatcher = function () {\n        return snabbdom_1.init(this.createModules());\n    };\n    Viewer.prototype.getBoundsInPage = function (element) {\n        var bounds = element.getBoundingClientRect();\n        var scroll = typeof window !== 'undefined' ? { x: window.scrollX, y: window.scrollY } : geometry_1.ORIGIN_POINT;\n        return {\n            x: bounds.left + scroll.x,\n            y: bounds.top + scroll.y,\n            width: bounds.width,\n            height: bounds.height\n        };\n    };\n    Viewer.prototype.update = function (model) {\n        var _this = this;\n        this.logger.log(this, 'rendering', model);\n        var newVDOM = snabbdom_jsx_1.html(\"div\", { id: this.options.baseDiv }, this.renderer.renderElement(model));\n        if (this.lastVDOM !== undefined) {\n            var hadFocus = this.hasFocus();\n            vnode_utils_1.copyClassesFromVNode(this.lastVDOM, newVDOM);\n            this.lastVDOM = this.patcher.call(this, this.lastVDOM, newVDOM);\n            this.restoreFocus(hadFocus);\n        }\n        else if (typeof document !== 'undefined') {\n            var placeholder = document.getElementById(this.options.baseDiv);\n            if (placeholder !== null) {\n                if (typeof window !== 'undefined') {\n                    window.addEventListener('resize', function () {\n                        _this.onWindowResize(newVDOM);\n                    });\n                }\n                vnode_utils_1.copyClassesFromElement(placeholder, newVDOM);\n                vnode_utils_1.setClass(newVDOM, this.options.baseClass, true);\n                this.lastVDOM = this.patcher.call(this, placeholder, newVDOM);\n            }\n            else {\n                this.logger.error(this, 'element not in DOM:', this.options.baseDiv);\n            }\n        }\n        this.renderer.postUpdate();\n    };\n    Viewer.prototype.hasFocus = function () {\n        if (typeof document !== 'undefined' && document.activeElement && this.lastVDOM.children && this.lastVDOM.children.length > 0) {\n            var lastRootVNode = this.lastVDOM.children[0];\n            if (typeof lastRootVNode === 'object') {\n                var lastElement = lastRootVNode.elm;\n                return document.activeElement === lastElement;\n            }\n        }\n        return false;\n    };\n    Viewer.prototype.restoreFocus = function (focus) {\n        if (focus && this.lastVDOM.children && this.lastVDOM.children.length > 0) {\n            var lastRootVNode = this.lastVDOM.children[0];\n            if (typeof lastRootVNode === 'object') {\n                var lastElement = lastRootVNode.elm;\n                if (lastElement && typeof lastElement.focus === 'function')\n                    lastElement.focus();\n            }\n        }\n    };\n    Viewer.prototype.updateHidden = function (hiddenModel) {\n        this.logger.log(this, 'rendering hidden');\n        var newVDOM;\n        if (hiddenModel.type === smodel_factory_1.EMPTY_ROOT.type) {\n            newVDOM = snabbdom_jsx_1.html(\"div\", { id: this.options.hiddenDiv });\n        }\n        else {\n            var hiddenVNode = this.hiddenRenderer.renderElement(hiddenModel);\n            vnode_utils_1.setAttr(hiddenVNode, 'opacity', 0);\n            newVDOM = snabbdom_jsx_1.html(\"div\", { id: this.options.hiddenDiv }, hiddenVNode);\n        }\n        if (this.lastHiddenVDOM !== undefined) {\n            vnode_utils_1.copyClassesFromVNode(this.lastHiddenVDOM, newVDOM);\n            this.lastHiddenVDOM = this.patcher.call(this, this.lastHiddenVDOM, newVDOM);\n        }\n        else {\n            var placeholder = document.getElementById(this.options.hiddenDiv);\n            if (placeholder === null) {\n                placeholder = document.createElement(\"div\");\n                document.body.appendChild(placeholder);\n            }\n            else {\n                vnode_utils_1.copyClassesFromElement(placeholder, newVDOM);\n            }\n            vnode_utils_1.setClass(newVDOM, this.options.baseClass, true);\n            vnode_utils_1.setClass(newVDOM, this.options.hiddenClass, true);\n            this.lastHiddenVDOM = this.patcher.call(this, placeholder, newVDOM);\n        }\n        this.hiddenRenderer.postUpdate();\n    };\n    Viewer.prototype.updatePopup = function (model) {\n        this.logger.log(this, 'rendering popup', model);\n        var popupClosed = model.type === smodel_factory_1.EMPTY_ROOT.type;\n        var newVDOM;\n        if (popupClosed) {\n            newVDOM = snabbdom_jsx_1.html(\"div\", { id: this.options.popupDiv });\n        }\n        else {\n            var position = model.canvasBounds;\n            var inlineStyle = {\n                top: position.y + 'px',\n                left: position.x + 'px'\n            };\n            newVDOM = snabbdom_jsx_1.html(\"div\", { id: this.options.popupDiv, style: inlineStyle }, this.popupRenderer.renderElement(model));\n        }\n        if (this.lastPopupVDOM !== undefined) {\n            vnode_utils_1.copyClassesFromVNode(this.lastPopupVDOM, newVDOM);\n            vnode_utils_1.setClass(newVDOM, this.options.popupClosedClass, popupClosed);\n            this.lastPopupVDOM = this.patcher.call(this, this.lastPopupVDOM, newVDOM);\n        }\n        else if (typeof document !== 'undefined') {\n            var placeholder = document.getElementById(this.options.popupDiv);\n            if (placeholder === null) {\n                placeholder = document.createElement(\"div\");\n                document.body.appendChild(placeholder);\n            }\n            else {\n                vnode_utils_1.copyClassesFromElement(placeholder, newVDOM);\n            }\n            vnode_utils_1.setClass(newVDOM, this.options.popupClass, true);\n            vnode_utils_1.setClass(newVDOM, this.options.popupClosedClass, popupClosed);\n            this.lastPopupVDOM = this.patcher.call(this, placeholder, newVDOM);\n        }\n        this.popupRenderer.postUpdate();\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], Viewer.prototype, \"options\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], Viewer.prototype, \"logger\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], Viewer.prototype, \"actiondispatcher\", void 0);\n    Viewer = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.ModelRendererFactory)),\n        __param(1, inversify_1.multiInject(types_1.TYPES.IVNodeDecorator)), __param(1, inversify_1.optional()),\n        __param(2, inversify_1.multiInject(types_1.TYPES.HiddenVNodeDecorator)), __param(2, inversify_1.optional()),\n        __param(3, inversify_1.multiInject(types_1.TYPES.PopupVNodeDecorator)), __param(3, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Function, Array, Array, Array])\n    ], Viewer);\n    return Viewer;\n}());\nexports.Viewer = Viewer;\n//# sourceMappingURL=viewer.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar vnode_utils_1 = require(\"./vnode-utils\");\nvar FocusFixDecorator = /** @class */ (function () {\n    function FocusFixDecorator() {\n    }\n    FocusFixDecorator_1 = FocusFixDecorator;\n    FocusFixDecorator.prototype.decorate = function (vnode, element) {\n        if (vnode.sel && vnode.sel.startsWith('svg'))\n            // allows to set focus in Firefox\n            vnode_utils_1.setAttr(vnode, 'tabindex', ++FocusFixDecorator_1.tabIndex);\n        return vnode;\n    };\n    FocusFixDecorator.prototype.postUpdate = function () {\n    };\n    var FocusFixDecorator_1;\n    FocusFixDecorator.tabIndex = 1000;\n    FocusFixDecorator = FocusFixDecorator_1 = __decorate([\n        inversify_1.injectable()\n    ], FocusFixDecorator);\n    return FocusFixDecorator;\n}());\nexports.FocusFixDecorator = FocusFixDecorator;\n//# sourceMappingURL=vnode-decorators.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction setAttr(vnode, name, value) {\n    getAttrs(vnode)[name] = value;\n}\nexports.setAttr = setAttr;\nfunction setClass(vnode, name, value) {\n    getClass(vnode)[name] = value;\n}\nexports.setClass = setClass;\nfunction copyClassesFromVNode(source, target) {\n    var classList = getClass(source);\n    for (var c in classList) {\n        if (classList.hasOwnProperty(c))\n            setClass(target, c, true);\n    }\n}\nexports.copyClassesFromVNode = copyClassesFromVNode;\nfunction copyClassesFromElement(element, target) {\n    var classList = element.classList;\n    for (var i = 0; i < classList.length; i++) {\n        var item = classList.item(i);\n        if (item)\n            setClass(target, item, true);\n    }\n}\nexports.copyClassesFromElement = copyClassesFromElement;\nfunction mergeStyle(vnode, style) {\n    getData(vnode).style = __assign({}, (getData(vnode).style || {}), style);\n}\nexports.mergeStyle = mergeStyle;\nfunction on(vnode, event, listener, element) {\n    var val = getOn(vnode);\n    if (val[event]) {\n        throw new Error('EventListener for ' + event + ' already registered on VNode');\n    }\n    val[event] = [listener, element];\n}\nexports.on = on;\nfunction getAttrs(vnode) {\n    var data = getData(vnode);\n    if (!data.attrs)\n        data.attrs = {};\n    return data.attrs;\n}\nexports.getAttrs = getAttrs;\nfunction getData(vnode) {\n    if (!vnode.data)\n        vnode.data = {};\n    return vnode.data;\n}\nfunction getClass(vnode) {\n    var data = getData(vnode);\n    if (!data.class)\n        data.class = {};\n    return data.class;\n}\nfunction getOn(vnode) {\n    var data = getData(vnode);\n    if (!data.on)\n        data.on = {};\n    return data.on;\n}\n//# sourceMappingURL=vnode-utils.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar model_1 = require(\"./model\");\nvar AbstractLayout = /** @class */ (function () {\n    function AbstractLayout() {\n    }\n    AbstractLayout.prototype.layout = function (container, layouter) {\n        var boundsData = layouter.getBoundsData(container);\n        var options = this.getLayoutOptions(container);\n        var childrenSize = this.getChildrenSize(container, options, layouter);\n        var maxWidth = options.paddingFactor * (options.resizeContainer\n            ? childrenSize.width\n            : Math.max(0, this.getFixedContainerBounds(container, options, layouter).width) - options.paddingLeft - options.paddingRight);\n        var maxHeight = options.paddingFactor * (options.resizeContainer\n            ? childrenSize.height\n            : Math.max(0, this.getFixedContainerBounds(container, options, layouter).height) - options.paddingTop - options.paddingBottom);\n        if (maxWidth > 0 && maxHeight > 0) {\n            var offset = this.layoutChildren(container, layouter, options, maxWidth, maxHeight);\n            boundsData.bounds = this.getFinalContainerBounds(container, offset, options, maxWidth, maxHeight);\n            boundsData.boundsChanged = true;\n        }\n    };\n    AbstractLayout.prototype.getFinalContainerBounds = function (container, lastOffset, options, maxWidth, maxHeight) {\n        return {\n            x: container.bounds.x,\n            y: container.bounds.y,\n            width: Math.max(options.minWidth, maxWidth + options.paddingLeft + options.paddingRight),\n            height: Math.max(options.minHeight, maxHeight + options.paddingTop + options.paddingBottom)\n        };\n    };\n    AbstractLayout.prototype.getFixedContainerBounds = function (container, layoutOptions, layouter) {\n        var currentContainer = container;\n        while (true) {\n            if (model_1.isBoundsAware(currentContainer)) {\n                var bounds = currentContainer.bounds;\n                if (model_1.isLayoutContainer(currentContainer) && layoutOptions.resizeContainer)\n                    layouter.log.error(currentContainer, 'Resizable container found while detecting fixed bounds');\n                if (geometry_1.isValidDimension(bounds))\n                    return bounds;\n            }\n            if (currentContainer instanceof smodel_1.SChildElement) {\n                currentContainer = currentContainer.parent;\n            }\n            else {\n                layouter.log.error(currentContainer, 'Cannot detect fixed bounds');\n                return geometry_1.EMPTY_BOUNDS;\n            }\n        }\n    };\n    AbstractLayout.prototype.layoutChildren = function (container, layouter, containerOptions, maxWidth, maxHeight) {\n        var _this = this;\n        var currentOffset = {\n            x: containerOptions.paddingLeft + 0.5 * (maxWidth - (maxWidth / containerOptions.paddingFactor)),\n            y: containerOptions.paddingTop + 0.5 * (maxHeight - (maxHeight / containerOptions.paddingFactor))\n        };\n        container.children.forEach(function (child) {\n            if (model_1.isLayoutableChild(child)) {\n                var boundsData = layouter.getBoundsData(child);\n                var bounds = boundsData.bounds;\n                var childOptions = _this.getChildLayoutOptions(child, containerOptions);\n                if (bounds !== undefined && geometry_1.isValidDimension(bounds)) {\n                    currentOffset = _this.layoutChild(child, boundsData, bounds, childOptions, containerOptions, currentOffset, maxWidth, maxHeight);\n                }\n            }\n        });\n        return currentOffset;\n    };\n    AbstractLayout.prototype.getDx = function (hAlign, bounds, maxWidth) {\n        switch (hAlign) {\n            case 'left':\n                return 0;\n            case 'center':\n                return 0.5 * (maxWidth - bounds.width);\n            case 'right':\n                return maxWidth - bounds.width;\n        }\n    };\n    AbstractLayout.prototype.getDy = function (vAlign, bounds, maxHeight) {\n        switch (vAlign) {\n            case 'top':\n                return 0;\n            case 'center':\n                return 0.5 * (maxHeight - bounds.height);\n            case 'bottom':\n                return maxHeight - bounds.height;\n        }\n    };\n    AbstractLayout.prototype.getChildLayoutOptions = function (child, containerOptions) {\n        var layoutOptions = child.layoutOptions;\n        if (layoutOptions === undefined)\n            return containerOptions;\n        else\n            return this.spread(containerOptions, layoutOptions);\n    };\n    AbstractLayout.prototype.getLayoutOptions = function (element) {\n        var _this = this;\n        var current = element;\n        var allOptions = [];\n        while (current !== undefined) {\n            var layoutOptions = current.layoutOptions;\n            if (layoutOptions !== undefined)\n                allOptions.push(layoutOptions);\n            if (current instanceof smodel_1.SChildElement)\n                current = current.parent;\n            else\n                break;\n        }\n        return allOptions.reverse().reduce(function (a, b) { return _this.spread(a, b); }, this.getDefaultLayoutOptions());\n    };\n    return AbstractLayout;\n}());\nexports.AbstractLayout = AbstractLayout;\n//# sourceMappingURL=abstract-layout.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar command_1 = require(\"../../base/commands/command\");\nvar model_1 = require(\"./model\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\n/**\n * Sent from the model source (e.g. a DiagramServer) to the client to update the bounds of some\n * (or all) model elements.\n */\nvar SetBoundsAction = /** @class */ (function () {\n    function SetBoundsAction(bounds) {\n        this.bounds = bounds;\n        this.kind = SetBoundsCommand.KIND;\n    }\n    return SetBoundsAction;\n}());\nexports.SetBoundsAction = SetBoundsAction;\n/**\n * Sent from the model source to the client to request bounds for the given model. The model is\n * rendered invisibly so the bounds can derived from the DOM. The response is a ComputedBoundsAction.\n * This hidden rendering round-trip is necessary if the client is responsible for parts of the layout\n * (see `needsClientLayout` viewer option).\n */\nvar RequestBoundsAction = /** @class */ (function () {\n    function RequestBoundsAction(newRoot) {\n        this.newRoot = newRoot;\n        this.kind = RequestBoundsCommand.KIND;\n    }\n    return RequestBoundsAction;\n}());\nexports.RequestBoundsAction = RequestBoundsAction;\n/**\n * Sent from the client to the model source (e.g. a DiagramServer) to transmit the result of bounds\n * computation as a response to a RequestBoundsAction. If the server is responsible for parts of\n * the layout (see `needsServerLayout` viewer option), it can do so after applying the computed bounds\n * received with this action. Otherwise there is no need to send the computed bounds to the server,\n * so they can be processed locally by the client.\n */\nvar ComputedBoundsAction = /** @class */ (function () {\n    function ComputedBoundsAction(bounds, revision, alignments) {\n        this.bounds = bounds;\n        this.revision = revision;\n        this.alignments = alignments;\n        this.kind = ComputedBoundsAction.KIND;\n    }\n    ComputedBoundsAction.KIND = 'computedBounds';\n    return ComputedBoundsAction;\n}());\nexports.ComputedBoundsAction = ComputedBoundsAction;\n/**\n * Request a layout of the diagram or the selected elements only.\n */\nvar LayoutAction = /** @class */ (function () {\n    function LayoutAction() {\n        this.kind = LayoutAction.KIND;\n    }\n    LayoutAction.KIND = 'layout';\n    return LayoutAction;\n}());\nexports.LayoutAction = LayoutAction;\nvar SetBoundsCommand = /** @class */ (function (_super) {\n    __extends(SetBoundsCommand, _super);\n    function SetBoundsCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.bounds = [];\n        return _this;\n    }\n    SetBoundsCommand.prototype.execute = function (context) {\n        var _this = this;\n        this.action.bounds.forEach(function (b) {\n            var element = context.root.index.getById(b.elementId);\n            if (element && model_1.isBoundsAware(element)) {\n                _this.bounds.push({\n                    element: element,\n                    oldBounds: element.bounds,\n                    newBounds: b.newBounds,\n                });\n            }\n        });\n        return this.redo(context);\n    };\n    SetBoundsCommand.prototype.undo = function (context) {\n        this.bounds.forEach(function (b) { return b.element.bounds = b.oldBounds; });\n        return context.root;\n    };\n    SetBoundsCommand.prototype.redo = function (context) {\n        this.bounds.forEach(function (b) { return b.element.bounds = b.newBounds; });\n        return context.root;\n    };\n    SetBoundsCommand.KIND = 'setBounds';\n    SetBoundsCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SetBoundsAction])\n    ], SetBoundsCommand);\n    return SetBoundsCommand;\n}(command_1.SystemCommand));\nexports.SetBoundsCommand = SetBoundsCommand;\nvar RequestBoundsCommand = /** @class */ (function (_super) {\n    __extends(RequestBoundsCommand, _super);\n    function RequestBoundsCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    RequestBoundsCommand.prototype.execute = function (context) {\n        return context.modelFactory.createRoot(this.action.newRoot);\n    };\n    Object.defineProperty(RequestBoundsCommand.prototype, \"blockUntil\", {\n        get: function () {\n            return function (action) { return action.kind === ComputedBoundsAction.KIND; };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RequestBoundsCommand.KIND = 'requestBounds';\n    RequestBoundsCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [RequestBoundsAction])\n    ], RequestBoundsCommand);\n    return RequestBoundsCommand;\n}(command_1.HiddenCommand));\nexports.RequestBoundsCommand = RequestBoundsCommand;\n//# sourceMappingURL=bounds-manipulation.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar bounds_manipulation_1 = require(\"./bounds-manipulation\");\nvar hidden_bounds_updater_1 = require(\"./hidden-bounds-updater\");\nvar layout_1 = require(\"./layout\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nvar boundsModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, bounds_manipulation_1.SetBoundsCommand);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, bounds_manipulation_1.RequestBoundsCommand);\n    bind(hidden_bounds_updater_1.HiddenBoundsUpdater).toSelf().inSingletonScope();\n    bind(types_1.TYPES.HiddenVNodeDecorator).toService(hidden_bounds_updater_1.HiddenBoundsUpdater);\n    bind(types_1.TYPES.Layouter).to(layout_1.Layouter).inSingletonScope();\n    bind(types_1.TYPES.LayoutRegistry).to(layout_1.LayoutRegistry).inSingletonScope();\n});\nexports.default = boundsModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar abstract_layout_1 = require(\"./abstract-layout\");\nvar model_1 = require(\"./model\");\n/**\n * Layouts children of a container in horizontal (left->right) direction.\n */\nvar HBoxLayouter = /** @class */ (function (_super) {\n    __extends(HBoxLayouter, _super);\n    function HBoxLayouter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HBoxLayouter.prototype.getChildrenSize = function (container, containerOptions, layouter) {\n        var maxWidth = 0;\n        var maxHeight = -1;\n        var isFirst = true;\n        container.children.forEach(function (child) {\n            if (model_1.isLayoutableChild(child)) {\n                var bounds = layouter.getBoundsData(child).bounds;\n                if (bounds !== undefined && geometry_1.isValidDimension(bounds)) {\n                    if (isFirst)\n                        isFirst = false;\n                    else\n                        maxWidth += containerOptions.hGap;\n                    maxWidth += bounds.width;\n                    maxHeight = Math.max(maxHeight, bounds.height);\n                }\n            }\n        });\n        return {\n            width: maxWidth,\n            height: maxHeight\n        };\n    };\n    HBoxLayouter.prototype.layoutChild = function (child, boundsData, bounds, childOptions, containerOptions, currentOffset, maxWidth, maxHeight) {\n        var dy = this.getDy(childOptions.vAlign, bounds, maxHeight);\n        boundsData.bounds = {\n            x: currentOffset.x + child.bounds.x - bounds.x,\n            y: containerOptions.paddingTop + child.bounds.y - bounds.y + dy,\n            width: bounds.width,\n            height: bounds.height\n        };\n        boundsData.boundsChanged = true;\n        return {\n            x: currentOffset.x + bounds.width + containerOptions.hGap,\n            y: currentOffset.y\n        };\n    };\n    HBoxLayouter.prototype.getDefaultLayoutOptions = function () {\n        return {\n            resizeContainer: true,\n            paddingTop: 5,\n            paddingBottom: 5,\n            paddingLeft: 5,\n            paddingRight: 5,\n            paddingFactor: 1,\n            hGap: 1,\n            vAlign: 'center',\n            minWidth: 0,\n            minHeight: 0\n        };\n    };\n    HBoxLayouter.prototype.spread = function (a, b) {\n        return __assign({}, a, b);\n    };\n    HBoxLayouter.KIND = 'hbox';\n    return HBoxLayouter;\n}(abstract_layout_1.AbstractLayout));\nexports.HBoxLayouter = HBoxLayouter;\n//# sourceMappingURL=hbox-layout.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar bounds_manipulation_1 = require(\"./bounds-manipulation\");\nvar model_1 = require(\"./model\");\nvar layout_1 = require(\"./layout\");\nvar model_2 = require(\"../export/model\");\nvar BoundsData = /** @class */ (function () {\n    function BoundsData() {\n    }\n    return BoundsData;\n}());\nexports.BoundsData = BoundsData;\n/**\n * Grabs the bounds from hidden SVG DOM elements, applies layouts and fires\n * ComputedBoundsActions.\n *\n * The actual bounds of an element can usually not be determined from the SModel\n * as they depend on the view implementation and CSS stylings. So the best way is\n * to grab them from a live (but hidden) SVG using getBBox().\n *\n * If an element is Alignable, and the top-left corner of its bounding box is not\n * the origin, we also issue a realign with the ComputedBoundsAction.\n */\nvar HiddenBoundsUpdater = /** @class */ (function () {\n    function HiddenBoundsUpdater() {\n        this.element2boundsData = new Map;\n    }\n    HiddenBoundsUpdater.prototype.decorate = function (vnode, element) {\n        if (model_1.isSizeable(element) || model_1.isLayoutContainer(element)) {\n            this.element2boundsData.set(element, {\n                vnode: vnode,\n                bounds: element.bounds,\n                boundsChanged: false,\n                alignmentChanged: false\n            });\n        }\n        if (element instanceof smodel_1.SModelRoot)\n            this.root = element;\n        return vnode;\n    };\n    HiddenBoundsUpdater.prototype.postUpdate = function () {\n        if (this.root !== undefined && model_2.isExportable(this.root) && this.root.export)\n            return;\n        this.getBoundsFromDOM();\n        this.layouter.layout(this.element2boundsData);\n        var resizes = [];\n        var realignments = [];\n        this.element2boundsData.forEach(function (boundsData, element) {\n            if (boundsData.boundsChanged && boundsData.bounds !== undefined)\n                resizes.push({\n                    elementId: element.id,\n                    newBounds: boundsData.bounds\n                });\n            if (boundsData.alignmentChanged && boundsData.alignment !== undefined)\n                realignments.push({\n                    elementId: element.id,\n                    newAlignment: boundsData.alignment\n                });\n        });\n        var revision = (this.root !== undefined) ? this.root.revision : undefined;\n        this.actionDispatcher.dispatch(new bounds_manipulation_1.ComputedBoundsAction(resizes, revision, realignments));\n        this.element2boundsData.clear();\n    };\n    HiddenBoundsUpdater.prototype.getBoundsFromDOM = function () {\n        var _this = this;\n        this.element2boundsData.forEach(function (boundsData, element) {\n            if (boundsData.bounds && model_1.isSizeable(element)) {\n                var vnode = boundsData.vnode;\n                if (vnode && vnode.elm) {\n                    var boundingBox = _this.getBounds(vnode.elm, element);\n                    if (model_1.isAlignable(element) && !(geometry_1.almostEquals(boundingBox.x, 0) && geometry_1.almostEquals(boundingBox.y, 0))) {\n                        boundsData.alignment = {\n                            x: -boundingBox.x,\n                            y: -boundingBox.y\n                        };\n                        boundsData.alignmentChanged = true;\n                    }\n                    var newBounds = {\n                        x: element.bounds.x,\n                        y: element.bounds.y,\n                        width: boundingBox.width,\n                        height: boundingBox.height\n                    };\n                    if (!(geometry_1.almostEquals(newBounds.x, element.bounds.x)\n                        && geometry_1.almostEquals(newBounds.y, element.bounds.y)\n                        && geometry_1.almostEquals(newBounds.width, element.bounds.width)\n                        && geometry_1.almostEquals(newBounds.height, element.bounds.height))) {\n                        boundsData.bounds = newBounds;\n                        boundsData.boundsChanged = true;\n                    }\n                }\n            }\n        });\n    };\n    HiddenBoundsUpdater.prototype.getBounds = function (elm, element) {\n        var bounds = elm.getBBox();\n        return {\n            x: bounds.x,\n            y: bounds.y,\n            width: bounds.width,\n            height: bounds.height\n        };\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], HiddenBoundsUpdater.prototype, \"actionDispatcher\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.Layouter),\n        __metadata(\"design:type\", layout_1.Layouter)\n    ], HiddenBoundsUpdater.prototype, \"layouter\", void 0);\n    HiddenBoundsUpdater = __decorate([\n        inversify_1.injectable()\n    ], HiddenBoundsUpdater);\n    return HiddenBoundsUpdater;\n}());\nexports.HiddenBoundsUpdater = HiddenBoundsUpdater;\n//# sourceMappingURL=hidden-bounds-updater.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar registry_1 = require(\"../../utils/registry\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar model_1 = require(\"./model\");\nvar vbox_layout_1 = require(\"./vbox-layout\");\nvar hbox_layout_1 = require(\"./hbox-layout\");\nvar stack_layout_1 = require(\"./stack-layout\");\nvar LayoutRegistry = /** @class */ (function (_super) {\n    __extends(LayoutRegistry, _super);\n    function LayoutRegistry() {\n        var _this = _super.call(this) || this;\n        _this.register(vbox_layout_1.VBoxLayouter.KIND, new vbox_layout_1.VBoxLayouter());\n        _this.register(hbox_layout_1.HBoxLayouter.KIND, new hbox_layout_1.HBoxLayouter());\n        _this.register(stack_layout_1.StackLayouter.KIND, new stack_layout_1.StackLayouter());\n        return _this;\n    }\n    return LayoutRegistry;\n}(registry_1.InstanceRegistry));\nexports.LayoutRegistry = LayoutRegistry;\nvar Layouter = /** @class */ (function () {\n    function Layouter() {\n    }\n    Layouter.prototype.layout = function (element2boundsData) {\n        new StatefulLayouter(element2boundsData, this.layoutRegistry, this.logger).layout();\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.LayoutRegistry),\n        __metadata(\"design:type\", LayoutRegistry)\n    ], Layouter.prototype, \"layoutRegistry\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], Layouter.prototype, \"logger\", void 0);\n    Layouter = __decorate([\n        inversify_1.injectable()\n    ], Layouter);\n    return Layouter;\n}());\nexports.Layouter = Layouter;\nvar StatefulLayouter = /** @class */ (function () {\n    function StatefulLayouter(element2boundsData, layoutRegistry, log) {\n        var _this = this;\n        this.element2boundsData = element2boundsData;\n        this.layoutRegistry = layoutRegistry;\n        this.log = log;\n        this.toBeLayouted = [];\n        element2boundsData.forEach(function (data, element) {\n            if (model_1.isLayoutContainer(element))\n                _this.toBeLayouted.push(element);\n        });\n    }\n    StatefulLayouter.prototype.getBoundsData = function (element) {\n        var boundsData = this.element2boundsData.get(element);\n        var bounds = element.bounds;\n        if (model_1.isLayoutContainer(element) && this.toBeLayouted.indexOf(element) >= 0) {\n            bounds = this.doLayout(element);\n        }\n        if (!boundsData) {\n            boundsData = {\n                bounds: bounds,\n                boundsChanged: false,\n                alignmentChanged: false\n            };\n            this.element2boundsData.set(element, boundsData);\n        }\n        return boundsData;\n    };\n    StatefulLayouter.prototype.layout = function () {\n        while (this.toBeLayouted.length > 0) {\n            var element = this.toBeLayouted[0];\n            this.doLayout(element);\n        }\n    };\n    StatefulLayouter.prototype.doLayout = function (element) {\n        var index = this.toBeLayouted.indexOf(element);\n        if (index >= 0)\n            this.toBeLayouted.splice(index, 1);\n        var layout = this.layoutRegistry.get(element.layout);\n        if (layout)\n            layout.layout(element, this);\n        var boundsData = this.element2boundsData.get(element);\n        if (boundsData !== undefined && boundsData.bounds !== undefined) {\n            return boundsData.bounds;\n        }\n        else {\n            this.log.error(element, 'Layout failed');\n            return geometry_1.EMPTY_BOUNDS;\n        }\n    };\n    return StatefulLayouter;\n}());\nexports.StatefulLayouter = StatefulLayouter;\n//# sourceMappingURL=layout.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nexports.boundsFeature = Symbol('boundsFeature');\nexports.layoutContainerFeature = Symbol('layoutContainerFeature');\nexports.layoutableChildFeature = Symbol('layoutableChildFeature');\nexports.alignFeature = Symbol('alignFeature');\nfunction isBoundsAware(element) {\n    return 'bounds' in element;\n}\nexports.isBoundsAware = isBoundsAware;\nfunction isLayoutContainer(element) {\n    return isBoundsAware(element)\n        && element.hasFeature(exports.layoutContainerFeature)\n        && 'layout' in element;\n}\nexports.isLayoutContainer = isLayoutContainer;\nfunction isLayoutableChild(element) {\n    return isBoundsAware(element)\n        && element.hasFeature(exports.layoutableChildFeature);\n}\nexports.isLayoutableChild = isLayoutableChild;\nfunction isSizeable(element) {\n    return element.hasFeature(exports.boundsFeature) && isBoundsAware(element);\n}\nexports.isSizeable = isSizeable;\nfunction isAlignable(element) {\n    return element.hasFeature(exports.alignFeature)\n        && 'alignment' in element;\n}\nexports.isAlignable = isAlignable;\nfunction getAbsoluteBounds(element) {\n    var boundsAware = smodel_utils_1.findParentByFeature(element, isBoundsAware);\n    if (boundsAware !== undefined) {\n        var bounds = boundsAware.bounds;\n        var current = boundsAware;\n        while (current instanceof smodel_1.SChildElement) {\n            var parent_1 = current.parent;\n            bounds = parent_1.localToParent(bounds);\n            current = parent_1;\n        }\n        return bounds;\n    }\n    else if (element instanceof smodel_1.SModelRoot) {\n        var canvasBounds = element.canvasBounds;\n        return { x: 0, y: 0, width: canvasBounds.width, height: canvasBounds.height };\n    }\n    else {\n        return geometry_1.EMPTY_BOUNDS;\n    }\n}\nexports.getAbsoluteBounds = getAbsoluteBounds;\nfunction findChildrenAtPosition(parent, point) {\n    var matches = [];\n    doFindChildrenAtPosition(parent, point, matches);\n    return matches;\n}\nexports.findChildrenAtPosition = findChildrenAtPosition;\nfunction doFindChildrenAtPosition(parent, point, matches) {\n    parent.children.forEach(function (child) {\n        if (isBoundsAware(child) && geometry_1.includes(child.bounds, point))\n            matches.push(child);\n        if (child instanceof smodel_1.SParentElement) {\n            var newPoint = child.parentToLocal(point);\n            doFindChildrenAtPosition(child, newPoint, matches);\n        }\n    });\n}\n/**\n * Abstract class for elements with a position and a size.\n */\nvar SShapeElement = /** @class */ (function (_super) {\n    __extends(SShapeElement, _super);\n    function SShapeElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.position = geometry_1.ORIGIN_POINT;\n        _this.size = geometry_1.EMPTY_DIMENSION;\n        return _this;\n    }\n    Object.defineProperty(SShapeElement.prototype, \"bounds\", {\n        get: function () {\n            return {\n                x: this.position.x,\n                y: this.position.y,\n                width: this.size.width,\n                height: this.size.height\n            };\n        },\n        set: function (newBounds) {\n            this.position = {\n                x: newBounds.x,\n                y: newBounds.y\n            };\n            this.size = {\n                width: newBounds.width,\n                height: newBounds.height\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SShapeElement.prototype.localToParent = function (point) {\n        var result = {\n            x: point.x + this.position.x,\n            y: point.y + this.position.y,\n            width: -1,\n            height: -1\n        };\n        if (geometry_1.isBounds(point)) {\n            result.width = point.width;\n            result.height = point.height;\n        }\n        return result;\n    };\n    SShapeElement.prototype.parentToLocal = function (point) {\n        var result = {\n            x: point.x - this.position.x,\n            y: point.y - this.position.y,\n            width: -1,\n            height: -1\n        };\n        if (geometry_1.isBounds(point)) {\n            result.width = point.width;\n            result.height = point.height;\n        }\n        return result;\n    };\n    return SShapeElement;\n}(smodel_1.SChildElement));\nexports.SShapeElement = SShapeElement;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar animation_1 = require(\"../../base/animations/animation\");\nvar ResizeAnimation = /** @class */ (function (_super) {\n    __extends(ResizeAnimation, _super);\n    function ResizeAnimation(model, elementResizes, context, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var _this = _super.call(this, context) || this;\n        _this.model = model;\n        _this.elementResizes = elementResizes;\n        _this.reverse = reverse;\n        return _this;\n    }\n    ResizeAnimation.prototype.tween = function (t) {\n        var _this = this;\n        this.elementResizes.forEach(function (elementResize) {\n            var element = elementResize.element;\n            var newDimension = (_this.reverse) ? {\n                width: (1 - t) * elementResize.toDimension.width + t * elementResize.fromDimension.width,\n                height: (1 - t) * elementResize.toDimension.height + t * elementResize.fromDimension.height\n            } : {\n                width: (1 - t) * elementResize.fromDimension.width + t * elementResize.toDimension.width,\n                height: (1 - t) * elementResize.fromDimension.height + t * elementResize.toDimension.height\n            };\n            element.bounds = {\n                x: element.bounds.x,\n                y: element.bounds.y,\n                width: newDimension.width,\n                height: newDimension.height\n            };\n        });\n        return this.model;\n    };\n    return ResizeAnimation;\n}(animation_1.Animation));\nexports.ResizeAnimation = ResizeAnimation;\n//# sourceMappingURL=resize.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar abstract_layout_1 = require(\"./abstract-layout\");\nvar model_1 = require(\"./model\");\nvar StackLayouter = /** @class */ (function (_super) {\n    __extends(StackLayouter, _super);\n    function StackLayouter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StackLayouter.prototype.getChildrenSize = function (container, options, layouter) {\n        var maxWidth = -1;\n        var maxHeight = -1;\n        container.children.forEach(function (child) {\n            if (model_1.isLayoutableChild(child)) {\n                var bounds = layouter.getBoundsData(child).bounds;\n                if (bounds !== undefined && geometry_1.isValidDimension(bounds)) {\n                    maxWidth = Math.max(maxWidth, bounds.width);\n                    maxHeight = Math.max(maxHeight, bounds.height);\n                }\n            }\n        });\n        return {\n            width: maxWidth,\n            height: maxHeight\n        };\n    };\n    StackLayouter.prototype.layoutChild = function (child, boundsData, bounds, childOptions, containerOptions, currentOffset, maxWidth, maxHeight) {\n        var dx = this.getDx(childOptions.hAlign, bounds, maxWidth);\n        var dy = this.getDy(childOptions.vAlign, bounds, maxHeight);\n        boundsData.bounds = {\n            x: containerOptions.paddingLeft + child.bounds.x - bounds.x + dx,\n            y: containerOptions.paddingTop + child.bounds.y - bounds.y + dy,\n            width: bounds.width,\n            height: bounds.height\n        };\n        boundsData.boundsChanged = true;\n        return currentOffset;\n    };\n    StackLayouter.prototype.getDefaultLayoutOptions = function () {\n        return {\n            resizeContainer: true,\n            paddingTop: 5,\n            paddingBottom: 5,\n            paddingLeft: 5,\n            paddingRight: 5,\n            paddingFactor: 1,\n            hAlign: 'center',\n            vAlign: 'center',\n            minWidth: 0,\n            minHeight: 0\n        };\n    };\n    StackLayouter.prototype.spread = function (a, b) {\n        return __assign({}, a, b);\n    };\n    StackLayouter.KIND = 'stack';\n    return StackLayouter;\n}(abstract_layout_1.AbstractLayout));\nexports.StackLayouter = StackLayouter;\n//# sourceMappingURL=stack-layout.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar abstract_layout_1 = require(\"./abstract-layout\");\nvar model_1 = require(\"./model\");\n/**\n * Layouts children of a container in vertical (top->bottom) direction.\n */\nvar VBoxLayouter = /** @class */ (function (_super) {\n    __extends(VBoxLayouter, _super);\n    function VBoxLayouter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VBoxLayouter.prototype.getChildrenSize = function (container, containerOptions, layouter) {\n        var maxWidth = -1;\n        var maxHeight = 0;\n        var isFirst = true;\n        container.children.forEach(function (child) {\n            if (model_1.isLayoutableChild(child)) {\n                var bounds = layouter.getBoundsData(child).bounds;\n                if (bounds !== undefined && geometry_1.isValidDimension(bounds)) {\n                    maxHeight += bounds.height;\n                    if (isFirst)\n                        isFirst = false;\n                    else\n                        maxHeight += containerOptions.vGap;\n                    maxWidth = Math.max(maxWidth, bounds.width);\n                }\n            }\n        });\n        return {\n            width: maxWidth,\n            height: maxHeight\n        };\n    };\n    VBoxLayouter.prototype.layoutChild = function (child, boundsData, bounds, childOptions, containerOptions, currentOffset, maxWidth, maxHeight) {\n        var dx = this.getDx(childOptions.hAlign, bounds, maxWidth);\n        boundsData.bounds = {\n            x: containerOptions.paddingLeft + child.bounds.x - bounds.x + dx,\n            y: currentOffset.y + child.bounds.y - bounds.y,\n            width: bounds.width,\n            height: bounds.height\n        };\n        boundsData.boundsChanged = true;\n        return {\n            x: currentOffset.x,\n            y: currentOffset.y + bounds.height + containerOptions.vGap\n        };\n    };\n    VBoxLayouter.prototype.getDefaultLayoutOptions = function () {\n        return {\n            resizeContainer: true,\n            paddingTop: 5,\n            paddingBottom: 5,\n            paddingLeft: 5,\n            paddingRight: 5,\n            paddingFactor: 1,\n            vGap: 1,\n            hAlign: 'center',\n            minWidth: 0,\n            minHeight: 0\n        };\n    };\n    VBoxLayouter.prototype.spread = function (a, b) {\n        return __assign({}, a, b);\n    };\n    VBoxLayouter.KIND = 'vbox';\n    return VBoxLayouter;\n}(abstract_layout_1.AbstractLayout));\nexports.VBoxLayouter = VBoxLayouter;\n//# sourceMappingURL=vbox-layout.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar registry_1 = require(\"../../utils/registry\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar ButtonHandlerRegistry = /** @class */ (function (_super) {\n    __extends(ButtonHandlerRegistry, _super);\n    function ButtonHandlerRegistry(buttonHandlerFactories) {\n        var _this = _super.call(this) || this;\n        buttonHandlerFactories.forEach(function (factory) { return _this.register(factory.TYPE, new factory()); });\n        return _this;\n    }\n    ButtonHandlerRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.IButtonHandler)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], ButtonHandlerRegistry);\n    return ButtonHandlerRegistry;\n}(registry_1.InstanceRegistry));\nexports.ButtonHandlerRegistry = ButtonHandlerRegistry;\n//# sourceMappingURL=button-handler.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar button_handler_1 = require(\"./button-handler\");\nvar buttonModule = new inversify_1.ContainerModule(function (bind) {\n    bind(button_handler_1.ButtonHandlerRegistry).toSelf().inSingletonScope();\n});\nexports.default = buttonModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar model_1 = require(\"../bounds/model\");\nvar model_2 = require(\"../fade/model\");\nvar SButton = /** @class */ (function (_super) {\n    __extends(SButton, _super);\n    function SButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        return _this;\n    }\n    SButton.prototype.hasFeature = function (feature) {\n        return feature === model_1.boundsFeature || feature === model_2.fadeFeature || feature === model_1.layoutableChildFeature;\n    };\n    return SButton;\n}(model_1.SShapeElement));\nexports.SButton = SButton;\n//# sourceMappingURL=model.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar iterable_1 = require(\"../../utils/iterable\");\nvar model_1 = require(\"../nameable/model\");\nvar select_1 = require(\"../select/select\");\nvar center_fit_1 = require(\"../viewport/center-fit\");\nvar CommandPaletteActionProviderRegistry = /** @class */ (function () {\n    function CommandPaletteActionProviderRegistry(actionProviders) {\n        if (actionProviders === void 0) { actionProviders = []; }\n        this.actionProviders = actionProviders;\n    }\n    CommandPaletteActionProviderRegistry.prototype.getActions = function (root) {\n        var actionLists = this.actionProviders.map(function (provider) { return provider.getActions(root); });\n        return Promise.all(actionLists).then(function (p) { return p.reduce(function (acc, promise) { return promise !== undefined ? acc.concat(promise) : acc; }); });\n    };\n    CommandPaletteActionProviderRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.ICommandPaletteActionProvider)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], CommandPaletteActionProviderRegistry);\n    return CommandPaletteActionProviderRegistry;\n}());\nexports.CommandPaletteActionProviderRegistry = CommandPaletteActionProviderRegistry;\nvar LabeledAction = /** @class */ (function () {\n    function LabeledAction(label, actions) {\n        this.label = label;\n        this.actions = actions;\n    }\n    return LabeledAction;\n}());\nexports.LabeledAction = LabeledAction;\nfunction isLabeledAction(element) {\n    return element !== undefined\n        && element.label !== undefined\n        && element.actions !== undefined;\n}\nexports.isLabeledAction = isLabeledAction;\nvar RevealNamedElementActionProvider = /** @class */ (function () {\n    function RevealNamedElementActionProvider(logger) {\n        this.logger = logger;\n    }\n    RevealNamedElementActionProvider.prototype.getActions = function (root) {\n        return Promise.resolve(this.createSelectActions(root));\n    };\n    RevealNamedElementActionProvider.prototype.createSelectActions = function (modelRoot) {\n        var nameables = iterable_1.toArray(modelRoot.index.all().filter(function (element) { return model_1.isNameable(element); }));\n        return nameables.map(function (nameable) { return new LabeledAction(\"Reveal \" + model_1.name(nameable), [new select_1.SelectAction([nameable.id]), new center_fit_1.CenterAction([nameable.id])]); });\n    };\n    RevealNamedElementActionProvider = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.ILogger)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], RevealNamedElementActionProvider);\n    return RevealNamedElementActionProvider;\n}());\nexports.RevealNamedElementActionProvider = RevealNamedElementActionProvider;\n//# sourceMappingURL=action-providers.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar action_1 = require(\"../../base/actions/action\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar types_1 = require(\"../../base/types\");\nvar ui_extension_1 = require(\"../../base/ui-extensions/ui-extension\");\nvar ui_extension_registry_1 = require(\"../../base/ui-extensions/ui-extension-registry\");\nvar key_tool_1 = require(\"../../base/views/key-tool\");\nvar iterable_1 = require(\"../../utils/iterable\");\nvar keyboard_1 = require(\"../../utils/keyboard\");\nvar model_1 = require(\"../bounds/model\");\nvar model_2 = require(\"../select/model\");\nvar model_3 = require(\"../viewport/model\");\nvar action_providers_1 = require(\"./action-providers\");\n// import of function autocomplete(...) doesn't work\n// see also https://github.com/kraaden/autocomplete/issues/13\n// this is a workaround to still get the function including type support\nvar configureAutocomplete = require(\"autocompleter\");\nvar CommandPalette = /** @class */ (function (_super) {\n    __extends(CommandPalette, _super);\n    function CommandPalette() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = CommandPalette_1.ID;\n        _this.containerClass = \"command-palette\";\n        _this.xOffset = 40;\n        _this.yOffset = 30;\n        _this.defaultWidth = 400;\n        return _this;\n    }\n    CommandPalette_1 = CommandPalette;\n    CommandPalette.prototype.show = function (root) {\n        _super.prototype.show.call(this, root);\n        this.contextActions = undefined;\n        if (this.inputElement.value) {\n            this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n        }\n        this.autoCompleteResult = configureAutocomplete(this.autocompleteSettings(root));\n        this.inputElement.focus();\n    };\n    CommandPalette.prototype.initializeContents = function (containerElement) {\n        var _this = this;\n        containerElement.style.position = \"absolute\";\n        this.inputElement = document.createElement('input');\n        this.inputElement.style.width = '100%';\n        this.inputElement.addEventListener('keydown', function (event) { return _this.hideIfEscapeEvent(event); });\n        this.inputElement.onblur = function () { return window.setTimeout(function () { return _this.hide(); }, 200); };\n        containerElement.appendChild(this.inputElement);\n    };\n    CommandPalette.prototype.hideIfEscapeEvent = function (event) {\n        if (keyboard_1.matchesKeystroke(event, 'Escape')) {\n            this.hide();\n        }\n    };\n    CommandPalette.prototype.onBeforeShow = function (containerElement, root) {\n        var x = this.xOffset;\n        var y = this.yOffset;\n        var selectedElements = iterable_1.toArray(root.index.all().filter(function (e) { return model_2.isSelectable(e) && e.selected; }));\n        if (selectedElements.length === 1) {\n            var firstElement = selectedElements[0];\n            if (model_1.isBoundsAware(firstElement)) {\n                var viewport = smodel_utils_1.findParentByFeature(firstElement, model_3.isViewport);\n                if (viewport) {\n                    x += (firstElement.bounds.x + firstElement.bounds.width - viewport.scroll.x) * viewport.zoom;\n                    y += (firstElement.bounds.y - viewport.scroll.y) * viewport.zoom;\n                }\n                else {\n                    x += firstElement.bounds.x + firstElement.bounds.width;\n                    y += firstElement.bounds.y;\n                }\n            }\n        }\n        containerElement.style.left = x + \"px\";\n        containerElement.style.top = y + \"px\";\n        containerElement.style.width = this.defaultWidth + \"px\";\n    };\n    CommandPalette.prototype.autocompleteSettings = function (root) {\n        var _this = this;\n        return {\n            input: this.inputElement,\n            emptyMsg: \"No commands available\",\n            className: \"command-palette-suggestions\",\n            minLength: -1,\n            fetch: function (text, update) {\n                if (_this.contextActions) {\n                    update(_this.filterActions(text, _this.contextActions));\n                }\n                else {\n                    _this.actionProviderRegistry.getActions(root).then(function (actions) {\n                        _this.contextActions = actions;\n                        update(_this.filterActions(text, actions));\n                    })\n                        .catch(function (reason) { return _this.logger.error(_this, \"Failed to obtain actions from command palette action providers\", reason); });\n                }\n            },\n            onSelect: function (item) {\n                _this.executeAction(item);\n                _this.hide();\n            },\n            customize: function (input, inputRect, container, maxHeight) {\n                // move container into our command palette container as this is already positioned correctly\n                if (_this.containerElement) {\n                    _this.containerElement.appendChild(container);\n                }\n            }\n        };\n    };\n    CommandPalette.prototype.filterActions = function (filterText, actions) {\n        return iterable_1.toArray(actions.filter(function (action) {\n            var label = action.label.toLowerCase();\n            var searchWords = filterText.split(' ');\n            return searchWords.every(function (word) { return label.indexOf(word.toLowerCase()) !== -1; });\n        }));\n    };\n    CommandPalette.prototype.hide = function () {\n        _super.prototype.hide.call(this);\n        if (this.autoCompleteResult) {\n            this.autoCompleteResult.destroy();\n        }\n    };\n    CommandPalette.prototype.executeAction = function (input) {\n        var _this = this;\n        this.actionDispatcherProvider()\n            .then(function (actionDispatcher) { return actionDispatcher.dispatchAll(toActionArray(input)); })\n            .catch(function (reason) { return _this.logger.error(_this, 'No action dispatcher available to execute command palette action', reason); });\n    };\n    var CommandPalette_1;\n    CommandPalette.ID = \"command-palette\";\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcherProvider),\n        __metadata(\"design:type\", Function)\n    ], CommandPalette.prototype, \"actionDispatcherProvider\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ICommandPaletteActionProviderRegistry),\n        __metadata(\"design:type\", action_providers_1.CommandPaletteActionProviderRegistry)\n    ], CommandPalette.prototype, \"actionProviderRegistry\", void 0);\n    CommandPalette = CommandPalette_1 = __decorate([\n        inversify_1.injectable()\n    ], CommandPalette);\n    return CommandPalette;\n}(ui_extension_1.AbstractUIExtension));\nexports.CommandPalette = CommandPalette;\nfunction toActionArray(input) {\n    if (action_providers_1.isLabeledAction(input)) {\n        return input.actions;\n    }\n    else if (action_1.isAction(input)) {\n        return [input];\n    }\n    return [];\n}\nvar CommandPaletteKeyListener = /** @class */ (function (_super) {\n    __extends(CommandPaletteKeyListener, _super);\n    function CommandPaletteKeyListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CommandPaletteKeyListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'Escape')) {\n            return [new ui_extension_registry_1.SetUIExtensionVisibilityAction(CommandPalette.ID, false)];\n        }\n        else if (keyboard_1.matchesKeystroke(event, 'Space', 'ctrl')) {\n            return [new ui_extension_registry_1.SetUIExtensionVisibilityAction(CommandPalette.ID, true)];\n        }\n        return [];\n    };\n    return CommandPaletteKeyListener;\n}(key_tool_1.KeyListener));\nexports.CommandPaletteKeyListener = CommandPaletteKeyListener;\n//# sourceMappingURL=command-palette.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar action_providers_1 = require(\"./action-providers\");\nvar command_palette_1 = require(\"./command-palette\");\nvar commandPaletteModule = new inversify_1.ContainerModule(function (bind) {\n    bind(command_palette_1.CommandPalette).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IUIExtension).toService(command_palette_1.CommandPalette);\n    bind(types_1.TYPES.KeyListener).to(command_palette_1.CommandPaletteKeyListener);\n    bind(action_providers_1.CommandPaletteActionProviderRegistry).toSelf().inSingletonScope();\n    bind(types_1.TYPES.ICommandPaletteActionProviderRegistry).toService(action_providers_1.CommandPaletteActionProviderRegistry);\n});\nexports.default = commandPaletteModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar model_1 = require(\"./model\");\nvar vnode_utils_1 = require(\"../../base/views/vnode-utils\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar model_2 = require(\"../bounds/model\");\nvar model_3 = require(\"../routing/model\");\nvar routing_1 = require(\"../routing/routing\");\nvar DecorationPlacer = /** @class */ (function () {\n    function DecorationPlacer() {\n    }\n    DecorationPlacer.prototype.decorate = function (vnode, element) {\n        if (model_1.isDecoration(element)) {\n            var position = this.getPosition(element);\n            var translate = 'translate(' + position.x + ', ' + position.y + ')';\n            vnode_utils_1.setAttr(vnode, 'transform', translate);\n        }\n        return vnode;\n    };\n    DecorationPlacer.prototype.getPosition = function (element) {\n        if (element instanceof smodel_1.SChildElement && element.parent instanceof model_3.SRoutableElement) {\n            var router = this.edgeRouterRegistry.get(element.parent.routerKind);\n            var route = router.route(element.parent);\n            if (route.length > 1) {\n                var index = Math.floor(0.5 * (route.length - 1));\n                var offset = model_2.isSizeable(element)\n                    ? {\n                        x: -0.5 * element.bounds.width,\n                        y: -0.5 * element.bounds.width\n                    }\n                    : geometry_1.ORIGIN_POINT;\n                return {\n                    x: 0.5 * (route[index].x + route[index + 1].x) + offset.x,\n                    y: 0.5 * (route[index].y + route[index + 1].y) + offset.y\n                };\n            }\n        }\n        if (model_2.isSizeable(element))\n            return {\n                x: -0.666 * element.bounds.width,\n                y: -0.666 * element.bounds.height\n            };\n        return geometry_1.ORIGIN_POINT;\n    };\n    DecorationPlacer.prototype.postUpdate = function () {\n    };\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], DecorationPlacer.prototype, \"edgeRouterRegistry\", void 0);\n    DecorationPlacer = __decorate([\n        inversify_1.injectable()\n    ], DecorationPlacer);\n    return DecorationPlacer;\n}());\nexports.DecorationPlacer = DecorationPlacer;\n//# sourceMappingURL=decoration-placer.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar view_1 = require(\"../../base/views/view\");\nvar inversify_1 = require(\"inversify\");\nvar model_1 = require(\"./model\");\nvar views_1 = require(\"./views\");\nvar types_1 = require(\"../../base/types\");\nvar decoration_placer_1 = require(\"./decoration-placer\");\nvar decorationModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    view_1.configureModelElement({ bind: bind, isBound: isBound }, 'marker', model_1.SIssueMarker, views_1.IssueMarkerView);\n    bind(decoration_placer_1.DecorationPlacer).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IVNodeDecorator).toService(decoration_placer_1.DecorationPlacer);\n});\nexports.default = decorationModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar model_1 = require(\"../hover/model\");\nvar model_2 = require(\"../bounds/model\");\nexports.decorationFeature = Symbol('decorationFeature');\nfunction isDecoration(e) {\n    return e.hasFeature(exports.decorationFeature);\n}\nexports.isDecoration = isDecoration;\nvar SDecoration = /** @class */ (function (_super) {\n    __extends(SDecoration, _super);\n    function SDecoration() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SDecoration.prototype.hasFeature = function (feature) {\n        return feature === exports.decorationFeature\n            || feature === model_2.boundsFeature\n            || feature === model_1.hoverFeedbackFeature\n            || feature === model_1.popupFeature\n            || _super.prototype.hasFeature.call(this, feature);\n    };\n    return SDecoration;\n}(model_2.SShapeElement));\nexports.SDecoration = SDecoration;\nvar SIssueMarker = /** @class */ (function (_super) {\n    __extends(SIssueMarker, _super);\n    function SIssueMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SIssueMarker;\n}(SDecoration));\nexports.SIssueMarker = SIssueMarker;\nvar SIssue = /** @class */ (function () {\n    function SIssue() {\n    }\n    return SIssue;\n}());\nexports.SIssue = SIssue;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx svg */\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\");\nvar vnode_utils_1 = require(\"../../base/views/vnode-utils\");\nvar inversify_1 = require(\"inversify\");\nvar IssueMarkerView = /** @class */ (function () {\n    function IssueMarkerView() {\n    }\n    IssueMarkerView.prototype.render = function (marker, context) {\n        var scale = 16 / 1792;\n        var trafo = \"scale(\" + scale + \", \" + scale + \")\";\n        var maxSeverity = this.getMaxSeverity(marker);\n        var group = snabbdom_jsx_1.svg(\"g\", { \"class-sprotty-issue\": true },\n            snabbdom_jsx_1.svg(\"g\", { transform: trafo },\n                snabbdom_jsx_1.svg(\"path\", { d: this.getPath(maxSeverity) })));\n        vnode_utils_1.setClass(group, 'sprotty-' + maxSeverity, true);\n        return group;\n    };\n    IssueMarkerView.prototype.getMaxSeverity = function (marker) {\n        var currentSeverity = 'info';\n        for (var _i = 0, _a = marker.issues.map(function (s) { return s.severity; }); _i < _a.length; _i++) {\n            var severity = _a[_i];\n            if (severity === 'error' || (severity === 'warning' && currentSeverity === 'info'))\n                currentSeverity = severity;\n        }\n        return currentSeverity;\n    };\n    IssueMarkerView.prototype.getPath = function (severity) {\n        switch (severity) {\n            case 'error':\n            case 'warning':\n                // tslint:disable-next-line:max-line-length\n                return \"M768 128q209 0 385.5 103t279.5 279.5 103 385.5-103 385.5-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103zm128 1247v-190q0-14-9-23.5t-22-9.5h-192q-13 0-23 10t-10 23v190q0 13 10 23t23 10h192q13 0 22-9.5t9-23.5zm-2-344l18-621q0-12-10-18-10-8-24-8h-220q-14 0-24 8-10 6-10 18l17 621q0 10 10 17.5t24 7.5h185q14 0 23.5-7.5t10.5-17.5z\";\n            case 'info':\n                // tslint:disable-next-line:max-line-length\n                return \"M1024 1376v-160q0-14-9-23t-23-9h-96v-512q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v160q0 14 9 23t23 9h96v320h-96q-14 0-23 9t-9 23v160q0 14 9 23t23 9h448q14 0 23-9t9-23zm-128-896v-160q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v160q0 14 9 23t23 9h192q14 0 23-9t9-23zm640 416q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z\";\n        }\n    };\n    IssueMarkerView = __decorate([\n        inversify_1.injectable()\n    ], IssueMarkerView);\n    return IssueMarkerView;\n}());\nexports.IssueMarkerView = IssueMarkerView;\n//# sourceMappingURL=views.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar edge_layout_1 = require(\"./edge-layout\");\nvar edgeLayoutModule = new inversify_1.ContainerModule(function (bind) {\n    bind(types_1.TYPES.IVNodeDecorator).to(edge_layout_1.EdgeLayoutDecorator).inSingletonScope();\n});\nexports.default = edgeLayoutModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar vnode_utils_1 = require(\"../../base/views/vnode-utils\");\nvar sgraph_1 = require(\"../../graph/sgraph\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar model_1 = require(\"../bounds/model\");\nvar model_2 = require(\"./model\");\nvar routing_1 = require(\"../routing/routing\");\nvar EdgeLayoutDecorator = /** @class */ (function () {\n    function EdgeLayoutDecorator() {\n    }\n    EdgeLayoutDecorator.prototype.decorate = function (vnode, element) {\n        if (model_2.isEdgeLayoutable(element) && element.parent instanceof sgraph_1.SEdge) {\n            if (element.bounds !== geometry_1.EMPTY_BOUNDS) {\n                var placement = this.getEdgePlacement(element);\n                var edge = element.parent;\n                var position = Math.min(1, Math.max(0, placement.position));\n                var router = this.edgeRouterRegistry.get(edge.routerKind);\n                var pointOnEdge = router.pointAt(edge, position);\n                var derivativeOnEdge = router.derivativeAt(edge, position);\n                var transform = '';\n                if (pointOnEdge && derivativeOnEdge) {\n                    transform += \"translate(\" + pointOnEdge.x + \", \" + pointOnEdge.y + \")\";\n                    var angle = geometry_1.toDegrees(Math.atan2(derivativeOnEdge.y, derivativeOnEdge.x));\n                    if (placement.rotate) {\n                        var flippedAngle = angle;\n                        if (Math.abs(angle) > 90) {\n                            if (angle < 0)\n                                flippedAngle += 180;\n                            else if (angle > 0)\n                                flippedAngle -= 180;\n                        }\n                        transform += \" rotate(\" + flippedAngle + \")\";\n                        var alignment = this.getRotatedAlignment(element, placement, flippedAngle !== angle);\n                        transform += \" translate(\" + alignment.x + \", \" + alignment.y + \")\";\n                    }\n                    else {\n                        var alignment = this.getAlignment(element, placement, angle);\n                        transform += \" translate(\" + alignment.x + \", \" + alignment.y + \")\";\n                    }\n                    vnode_utils_1.setAttr(vnode, 'transform', transform);\n                }\n            }\n        }\n        return vnode;\n    };\n    EdgeLayoutDecorator.prototype.getRotatedAlignment = function (element, placement, flip) {\n        var x = model_1.isAlignable(element) ? element.alignment.x : 0;\n        var y = model_1.isAlignable(element) ? element.alignment.y : 0;\n        var bounds = element.bounds;\n        if (placement.side === 'on')\n            return { x: x - 0.5 * bounds.height, y: y - 0.5 * bounds.height };\n        if (flip) {\n            if (placement.position < 0.3333333)\n                x -= bounds.width + placement.offset;\n            else if (placement.position < 0.6666666)\n                x -= 0.5 * bounds.width;\n            else\n                x += placement.offset;\n            switch (placement.side) {\n                case 'left':\n                case 'bottom':\n                    y -= placement.offset + bounds.height;\n                    break;\n                case 'right':\n                case 'top':\n                    y += placement.offset;\n            }\n        }\n        else {\n            if (placement.position < 0.3333333)\n                x += placement.offset;\n            else if (placement.position < 0.6666666)\n                x -= 0.5 * bounds.width;\n            else\n                x -= bounds.width + placement.offset;\n            switch (placement.side) {\n                case 'right':\n                case 'bottom':\n                    y += -placement.offset - bounds.height;\n                    break;\n                case 'left':\n                case 'top':\n                    y += placement.offset;\n            }\n        }\n        return { x: x, y: y };\n    };\n    EdgeLayoutDecorator.prototype.getEdgePlacement = function (element) {\n        var current = element;\n        var allPlacements = [];\n        while (current !== undefined) {\n            var placement = current.edgePlacement;\n            if (placement !== undefined)\n                allPlacements.push(placement);\n            if (current instanceof smodel_1.SChildElement)\n                current = current.parent;\n            else\n                break;\n        }\n        return allPlacements.reverse().reduce(function (a, b) { return __assign({}, a, b); }, model_2.DEFAULT_EDGE_PLACEMENT);\n    };\n    EdgeLayoutDecorator.prototype.getAlignment = function (label, placement, angle) {\n        var bounds = label.bounds;\n        var x = model_1.isAlignable(label) ? label.alignment.x - bounds.width : 0;\n        var y = model_1.isAlignable(label) ? label.alignment.y - bounds.height : 0;\n        if (placement.side === 'on')\n            return { x: x + 0.5 * bounds.height, y: y + 0.5 * bounds.height };\n        var quadrant = this.getQuadrant(angle);\n        var midLeft = { x: placement.offset, y: y + 0.5 * bounds.height };\n        var topLeft = { x: placement.offset, y: y + bounds.height + placement.offset };\n        var topRight = { x: -bounds.width - placement.offset, y: y + bounds.height + placement.offset };\n        var midRight = { x: -bounds.width - placement.offset, y: y + 0.5 * bounds.height };\n        var bottomRight = { x: -bounds.width - placement.offset, y: y - placement.offset };\n        var bottomLeft = { x: placement.offset, y: y - placement.offset };\n        switch (placement.side) {\n            case 'left':\n                switch (quadrant.orientation) {\n                    case 'west':\n                        return geometry_1.linear(topLeft, topRight, quadrant.position);\n                    case 'north':\n                        return geometry_1.linear(topRight, bottomRight, quadrant.position);\n                    case 'east':\n                        return geometry_1.linear(bottomRight, bottomLeft, quadrant.position);\n                    case 'south':\n                        return geometry_1.linear(bottomLeft, topLeft, quadrant.position);\n                }\n                break;\n            case 'right':\n                switch (quadrant.orientation) {\n                    case 'west':\n                        return geometry_1.linear(bottomRight, bottomLeft, quadrant.position);\n                    case 'north':\n                        return geometry_1.linear(bottomLeft, topLeft, quadrant.position);\n                    case 'east':\n                        return geometry_1.linear(topLeft, topRight, quadrant.position);\n                    case 'south':\n                        return geometry_1.linear(topRight, bottomRight, quadrant.position);\n                }\n                break;\n            case 'top':\n                switch (quadrant.orientation) {\n                    case 'west':\n                        return geometry_1.linear(bottomRight, bottomLeft, quadrant.position);\n                    case 'north':\n                        return this.linearFlip(bottomLeft, midLeft, midRight, bottomRight, quadrant.position);\n                    case 'east':\n                        return geometry_1.linear(bottomRight, bottomLeft, quadrant.position);\n                    case 'south':\n                        return this.linearFlip(bottomLeft, midLeft, midRight, bottomRight, quadrant.position);\n                }\n                break;\n            case 'bottom':\n                switch (quadrant.orientation) {\n                    case 'west':\n                        return geometry_1.linear(topLeft, topRight, quadrant.position);\n                    case 'north':\n                        return this.linearFlip(topRight, midRight, midLeft, topLeft, quadrant.position);\n                    case 'east':\n                        return geometry_1.linear(topLeft, topRight, quadrant.position);\n                    case 'south':\n                        return this.linearFlip(topRight, midRight, midLeft, topLeft, quadrant.position);\n                }\n                break;\n        }\n        return { x: 0, y: 0 };\n    };\n    EdgeLayoutDecorator.prototype.getQuadrant = function (angle) {\n        if (Math.abs(angle) > 135)\n            return { orientation: 'west', position: (angle > 0 ? angle - 135 : angle + 225) / 90 };\n        else if (angle < -45)\n            return { orientation: 'north', position: (angle + 135) / 90 };\n        else if (angle < 45)\n            return { orientation: 'east', position: (angle + 45) / 90 };\n        else\n            return { orientation: 'south', position: (angle - 45) / 90 };\n    };\n    EdgeLayoutDecorator.prototype.linearFlip = function (p0, p1, p2, p3, position) {\n        return position < 0.5 ? geometry_1.linear(p0, p1, 2 * position) : geometry_1.linear(p2, p3, 2 * position - 1);\n    };\n    EdgeLayoutDecorator.prototype.postUpdate = function () { };\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], EdgeLayoutDecorator.prototype, \"edgeRouterRegistry\", void 0);\n    EdgeLayoutDecorator = __decorate([\n        inversify_1.injectable()\n    ], EdgeLayoutDecorator);\n    return EdgeLayoutDecorator;\n}());\nexports.EdgeLayoutDecorator = EdgeLayoutDecorator;\n//# sourceMappingURL=edge-layout.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar model_1 = require(\"../bounds/model\");\nvar model_2 = require(\"../routing/model\");\nexports.edgeLayoutFeature = Symbol('edgeLayout');\nfunction isEdgeLayoutable(element) {\n    return element instanceof smodel_1.SChildElement\n        && element.parent instanceof model_2.SRoutableElement\n        && 'edgePlacement' in element\n        && model_1.isBoundsAware(element)\n        && element.hasFeature(exports.edgeLayoutFeature);\n}\nexports.isEdgeLayoutable = isEdgeLayoutable;\nvar EdgePlacement = /** @class */ (function (_super) {\n    __extends(EdgePlacement, _super);\n    function EdgePlacement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return EdgePlacement;\n}(Object));\nexports.EdgePlacement = EdgePlacement;\nexports.DEFAULT_EDGE_PLACEMENT = {\n    rotate: true,\n    side: 'top',\n    position: 0.5,\n    offset: 7\n};\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.creatingOnDragFeature = Symbol('creatingOnDragFeature');\nfunction isCreatingOnDrag(element) {\n    return element.hasFeature(exports.creatingOnDragFeature) && element.createAction !== undefined;\n}\nexports.isCreatingOnDrag = isCreatingOnDrag;\n//# sourceMappingURL=create-on-drag.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar command_1 = require(\"../../base/commands/command\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar CreateElementAction = /** @class */ (function () {\n    function CreateElementAction(containerId, elementSchema) {\n        this.containerId = containerId;\n        this.elementSchema = elementSchema;\n        this.kind = CreateElementCommand.KIND;\n    }\n    return CreateElementAction;\n}());\nexports.CreateElementAction = CreateElementAction;\nvar CreateElementCommand = /** @class */ (function (_super) {\n    __extends(CreateElementCommand, _super);\n    function CreateElementCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    CreateElementCommand.prototype.execute = function (context) {\n        var container = context.root.index.getById(this.action.containerId);\n        if (container instanceof smodel_1.SParentElement) {\n            this.container = container;\n            this.newElement = context.modelFactory.createElement(this.action.elementSchema);\n            this.container.add(this.newElement);\n        }\n        return context.root;\n    };\n    CreateElementCommand.prototype.undo = function (context) {\n        this.container.remove(this.newElement);\n        return context.root;\n    };\n    CreateElementCommand.prototype.redo = function (context) {\n        this.container.add(this.newElement);\n        return context.root;\n    };\n    CreateElementCommand.KIND = \"createElement\";\n    CreateElementCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [CreateElementAction])\n    ], CreateElementCommand);\n    return CreateElementCommand;\n}(command_1.Command));\nexports.CreateElementCommand = CreateElementCommand;\n//# sourceMappingURL=create.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar command_1 = require(\"../../base/commands/command\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar types_1 = require(\"../../base/types\");\nvar inversify_1 = require(\"inversify\");\nexports.deletableFeature = Symbol('deletableFeature');\nfunction isDeletable(element) {\n    return element instanceof smodel_1.SChildElement && element.hasFeature(exports.deletableFeature);\n}\nexports.isDeletable = isDeletable;\nvar DeleteElementAction = /** @class */ (function () {\n    function DeleteElementAction(elementIds) {\n        this.elementIds = elementIds;\n        this.kind = DeleteElementCommand.KIND;\n    }\n    return DeleteElementAction;\n}());\nexports.DeleteElementAction = DeleteElementAction;\nvar ResolvedDelete = /** @class */ (function () {\n    function ResolvedDelete() {\n    }\n    return ResolvedDelete;\n}());\nexports.ResolvedDelete = ResolvedDelete;\nvar DeleteElementCommand = /** @class */ (function (_super) {\n    __extends(DeleteElementCommand, _super);\n    function DeleteElementCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.resolvedDeletes = [];\n        return _this;\n    }\n    DeleteElementCommand.prototype.execute = function (context) {\n        var index = context.root.index;\n        for (var _i = 0, _a = this.action.elementIds; _i < _a.length; _i++) {\n            var id = _a[_i];\n            var element = index.getById(id);\n            if (element && isDeletable(element)) {\n                this.resolvedDeletes.push({ child: element, parent: element.parent });\n                element.parent.remove(element);\n            }\n        }\n        return context.root;\n    };\n    DeleteElementCommand.prototype.undo = function (context) {\n        for (var _i = 0, _a = this.resolvedDeletes; _i < _a.length; _i++) {\n            var resolvedDelete = _a[_i];\n            resolvedDelete.parent.add(resolvedDelete.child);\n        }\n        return context.root;\n    };\n    DeleteElementCommand.prototype.redo = function (context) {\n        for (var _i = 0, _a = this.resolvedDeletes; _i < _a.length; _i++) {\n            var resolvedDelete = _a[_i];\n            resolvedDelete.parent.remove(resolvedDelete.child);\n        }\n        return context.root;\n    };\n    DeleteElementCommand.KIND = 'delete';\n    DeleteElementCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [DeleteElementAction])\n    ], DeleteElementCommand);\n    return DeleteElementCommand;\n}(command_1.Command));\nexports.DeleteElementCommand = DeleteElementCommand;\n//# sourceMappingURL=delete.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar edit_routing_1 = require(\"./edit-routing\");\nvar reconnect_1 = require(\"./reconnect\");\nvar view_1 = require(\"../../base/views/view\");\nvar model_1 = require(\"../../features/routing/model\");\nvar svg_views_1 = require(\"../../lib/svg-views\");\nvar delete_1 = require(\"./delete\");\nvar edit_label_1 = require(\"./edit-label\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nexports.edgeEditModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, edit_routing_1.SwitchEditModeCommand);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, reconnect_1.ReconnectCommand);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, delete_1.DeleteElementCommand);\n    view_1.configureModelElement({ bind: bind, isBound: isBound }, 'dangling-anchor', model_1.SDanglingAnchor, svg_views_1.EmptyGroupView);\n});\nexports.labelEditModule = new inversify_1.ContainerModule(function (bind) {\n    bind(types_1.TYPES.MouseListener).to(edit_label_1.EditLabelMouseListener);\n});\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mouse_tool_1 = require(\"../../base/views/mouse-tool\");\nvar sgraph_1 = require(\"../../graph/sgraph\");\nexports.editLabelFeature = Symbol('editLabelFeature');\nfunction isEditableLabel(element) {\n    return element instanceof sgraph_1.SLabel && element.hasFeature(exports.editLabelFeature);\n}\nexports.isEditableLabel = isEditableLabel;\nvar EditLabelAction = /** @class */ (function () {\n    function EditLabelAction(labelId) {\n        this.labelId = labelId;\n        this.kind = EditLabelAction.KIND;\n    }\n    EditLabelAction.KIND = 'EditLabel';\n    return EditLabelAction;\n}());\nexports.EditLabelAction = EditLabelAction;\nvar EditLabelMouseListener = /** @class */ (function (_super) {\n    __extends(EditLabelMouseListener, _super);\n    function EditLabelMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EditLabelMouseListener.prototype.doubleClick = function (target, event) {\n        if (target instanceof sgraph_1.SLabel && isEditableLabel(target)) {\n            return [new EditLabelAction(target.id)];\n        }\n        return [];\n    };\n    return EditLabelMouseListener;\n}(mouse_tool_1.MouseListener));\nexports.EditLabelMouseListener = EditLabelMouseListener;\n//# sourceMappingURL=edit-label.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar command_1 = require(\"../../base/commands/command\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar types_1 = require(\"../../base/types\");\nvar model_1 = require(\"../routing/model\");\nvar routing_1 = require(\"../routing/routing\");\nvar model_2 = require(\"./model\");\nvar SwitchEditModeAction = /** @class */ (function () {\n    function SwitchEditModeAction(elementsToActivate, elementsToDeactivate) {\n        if (elementsToActivate === void 0) { elementsToActivate = []; }\n        if (elementsToDeactivate === void 0) { elementsToDeactivate = []; }\n        this.elementsToActivate = elementsToActivate;\n        this.elementsToDeactivate = elementsToDeactivate;\n        this.kind = SwitchEditModeCommand.KIND;\n    }\n    return SwitchEditModeAction;\n}());\nexports.SwitchEditModeAction = SwitchEditModeAction;\nvar SwitchEditModeCommand = /** @class */ (function (_super) {\n    __extends(SwitchEditModeCommand, _super);\n    function SwitchEditModeCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.elementsToActivate = [];\n        _this.elementsToDeactivate = [];\n        _this.handlesToRemove = [];\n        return _this;\n    }\n    SwitchEditModeCommand.prototype.execute = function (context) {\n        var _this = this;\n        var index = context.root.index;\n        this.action.elementsToActivate.forEach(function (id) {\n            var element = index.getById(id);\n            if (element !== undefined)\n                _this.elementsToActivate.push(element);\n        });\n        this.action.elementsToDeactivate.forEach(function (id) {\n            var element = index.getById(id);\n            if (element !== undefined)\n                _this.elementsToDeactivate.push(element);\n            if (element instanceof model_1.SRoutingHandle && element.parent instanceof model_1.SRoutableElement) {\n                var parent_1 = element.parent;\n                if (_this.shouldRemoveHandle(element, parent_1)) {\n                    _this.handlesToRemove.push({ handle: element, parent: parent_1 });\n                    _this.elementsToDeactivate.push(parent_1);\n                    _this.elementsToActivate.push(parent_1);\n                }\n            }\n        });\n        return this.doExecute(context);\n    };\n    SwitchEditModeCommand.prototype.doExecute = function (context) {\n        var _this = this;\n        this.handlesToRemove.forEach(function (entry) {\n            entry.point = entry.parent.routingPoints.splice(entry.handle.pointIndex, 1)[0];\n        });\n        this.elementsToDeactivate.forEach(function (element) {\n            if (element instanceof model_1.SRoutableElement)\n                element.removeAll(function (child) { return child instanceof model_1.SRoutingHandle; });\n            else if (element instanceof model_1.SRoutingHandle) {\n                element.editMode = false;\n                if (element.danglingAnchor) {\n                    if (element.parent instanceof model_1.SRoutableElement && element.danglingAnchor.original) {\n                        if (element.parent.source === element.danglingAnchor)\n                            element.parent.sourceId = element.danglingAnchor.original.id;\n                        else if (element.parent.target === element.danglingAnchor)\n                            element.parent.targetId = element.danglingAnchor.original.id;\n                        element.danglingAnchor.parent.remove(element.danglingAnchor);\n                        element.danglingAnchor = undefined;\n                    }\n                }\n            }\n        });\n        this.elementsToActivate.forEach(function (element) {\n            if (model_2.canEditRouting(element) && element instanceof smodel_1.SParentElement) {\n                var router = _this.edgeRouterRegistry.get(element.routerKind);\n                router.createRoutingHandles(element);\n            }\n            else if (element instanceof model_1.SRoutingHandle)\n                element.editMode = true;\n        });\n        return context.root;\n    };\n    SwitchEditModeCommand.prototype.shouldRemoveHandle = function (handle, parent) {\n        if (handle.kind === 'junction') {\n            var router = this.edgeRouterRegistry.get(parent.routerKind);\n            var route = router.route(parent);\n            return route.find(function (rp) { return rp.pointIndex === handle.pointIndex; }) === undefined;\n        }\n        return false;\n    };\n    SwitchEditModeCommand.prototype.undo = function (context) {\n        var _this = this;\n        this.handlesToRemove.forEach(function (entry) {\n            if (entry.point !== undefined)\n                entry.parent.routingPoints.splice(entry.handle.pointIndex, 0, entry.point);\n        });\n        this.elementsToActivate.forEach(function (element) {\n            if (element instanceof model_1.SRoutableElement)\n                element.removeAll(function (child) { return child instanceof model_1.SRoutingHandle; });\n            else if (element instanceof model_1.SRoutingHandle)\n                element.editMode = false;\n        });\n        this.elementsToDeactivate.forEach(function (element) {\n            if (model_2.canEditRouting(element)) {\n                var router = _this.edgeRouterRegistry.get(element.routerKind);\n                router.createRoutingHandles(element);\n            }\n            else if (element instanceof model_1.SRoutingHandle)\n                element.editMode = true;\n        });\n        return context.root;\n    };\n    SwitchEditModeCommand.prototype.redo = function (context) {\n        return this.doExecute(context);\n    };\n    SwitchEditModeCommand.KIND = \"switchEditMode\";\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], SwitchEditModeCommand.prototype, \"edgeRouterRegistry\", void 0);\n    SwitchEditModeCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SwitchEditModeAction])\n    ], SwitchEditModeCommand);\n    return SwitchEditModeCommand;\n}(command_1.Command));\nexports.SwitchEditModeCommand = SwitchEditModeCommand;\n//# sourceMappingURL=edit-routing.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar model_1 = require(\"../routing/model\");\nexports.editFeature = Symbol('editFeature');\nfunction canEditRouting(element) {\n    return element instanceof model_1.SRoutableElement && element.hasFeature(exports.editFeature);\n}\nexports.canEditRouting = canEditRouting;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar command_1 = require(\"../../base/commands/command\");\nvar types_1 = require(\"../../base/types\");\nvar model_1 = require(\"../routing/model\");\nvar routing_1 = require(\"../routing/routing\");\nvar ReconnectAction = /** @class */ (function () {\n    function ReconnectAction(routableId, newSourceId, newTargetId) {\n        this.routableId = routableId;\n        this.newSourceId = newSourceId;\n        this.newTargetId = newTargetId;\n        this.kind = ReconnectCommand.KIND;\n    }\n    return ReconnectAction;\n}());\nexports.ReconnectAction = ReconnectAction;\nvar ReconnectCommand = /** @class */ (function (_super) {\n    __extends(ReconnectCommand, _super);\n    function ReconnectCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    ReconnectCommand.prototype.execute = function (context) {\n        this.doExecute(context);\n        return context.root;\n    };\n    ReconnectCommand.prototype.doExecute = function (context) {\n        var index = context.root.index;\n        var edge = index.getById(this.action.routableId);\n        if (edge instanceof model_1.SRoutableElement) {\n            var router = this.edgeRouterRegistry.get(edge.routerKind);\n            var before = router.takeSnapshot(edge);\n            router.applyReconnect(edge, this.action.newSourceId, this.action.newTargetId);\n            var after = router.takeSnapshot(edge);\n            this.memento = {\n                edge: edge,\n                before: before,\n                after: after\n            };\n        }\n    };\n    ReconnectCommand.prototype.undo = function (context) {\n        if (this.memento) {\n            var router = this.edgeRouterRegistry.get(this.memento.edge.routerKind);\n            router.applySnapshot(this.memento.edge, this.memento.before);\n        }\n        return context.root;\n    };\n    ReconnectCommand.prototype.redo = function (context) {\n        if (this.memento) {\n            var router = this.edgeRouterRegistry.get(this.memento.edge.routerKind);\n            router.applySnapshot(this.memento.edge, this.memento.after);\n        }\n        return context.root;\n    };\n    ReconnectCommand.KIND = 'reconnect';\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], ReconnectCommand.prototype, \"edgeRouterRegistry\", void 0);\n    ReconnectCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ReconnectAction])\n    ], ReconnectCommand);\n    return ReconnectCommand;\n}(command_1.Command));\nexports.ReconnectCommand = ReconnectCommand;\n//# sourceMappingURL=reconnect.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar expand_1 = require(\"./expand\");\nvar expandModule = new inversify_1.ContainerModule(function (bind) {\n    bind(types_1.TYPES.IButtonHandler).toConstructor(expand_1.ExpandButtonHandler);\n});\nexports.default = expandModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar model_1 = require(\"./model\");\nvar inversify_1 = require(\"inversify\");\n/**\n * Sent from the client to the model source to recalculate a diagram when elements\n * are collapsed/expanded by the client.\n */\nvar CollapseExpandAction = /** @class */ (function () {\n    function CollapseExpandAction(expandIds, collapseIds) {\n        this.expandIds = expandIds;\n        this.collapseIds = collapseIds;\n        this.kind = CollapseExpandAction.KIND;\n    }\n    CollapseExpandAction.KIND = 'collapseExpand';\n    return CollapseExpandAction;\n}());\nexports.CollapseExpandAction = CollapseExpandAction;\n/**\n * Programmatic action for expanding or collapsing all elements.\n */\nvar CollapseExpandAllAction = /** @class */ (function () {\n    /**\n     * If `expand` is true, all elements are expanded, othewise they are collapsed.\n     */\n    function CollapseExpandAllAction(expand) {\n        if (expand === void 0) { expand = true; }\n        this.expand = expand;\n        this.kind = CollapseExpandAllAction.KIND;\n    }\n    CollapseExpandAllAction.KIND = 'collapseExpandAll';\n    return CollapseExpandAllAction;\n}());\nexports.CollapseExpandAllAction = CollapseExpandAllAction;\nvar ExpandButtonHandler = /** @class */ (function () {\n    function ExpandButtonHandler() {\n    }\n    ExpandButtonHandler.prototype.buttonPressed = function (button) {\n        var expandable = smodel_utils_1.findParentByFeature(button, model_1.isExpandable);\n        if (expandable !== undefined) {\n            return [new CollapseExpandAction(expandable.expanded ? [] : [expandable.id], expandable.expanded ? [expandable.id] : [])];\n        }\n        else {\n            return [];\n        }\n    };\n    ExpandButtonHandler.TYPE = 'button:expand';\n    ExpandButtonHandler = __decorate([\n        inversify_1.injectable()\n    ], ExpandButtonHandler);\n    return ExpandButtonHandler;\n}());\nexports.ExpandButtonHandler = ExpandButtonHandler;\n//# sourceMappingURL=expand.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.expandFeature = Symbol('expandFeature');\nfunction isExpandable(element) {\n    return element.hasFeature(exports.expandFeature) && 'expanded' in element;\n}\nexports.isExpandable = isExpandable;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx svg */\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\");\nvar model_1 = require(\"./model\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar inversify_1 = require(\"inversify\");\nvar ExpandButtonView = /** @class */ (function () {\n    function ExpandButtonView() {\n    }\n    ExpandButtonView.prototype.render = function (button, context) {\n        var expandable = smodel_utils_1.findParentByFeature(button, model_1.isExpandable);\n        var path = (expandable !== undefined && expandable.expanded)\n            ? 'M 1,5 L 8,12 L 15,5 Z'\n            : 'M 1,8 L 8,15 L 8,1 Z';\n        return snabbdom_jsx_1.svg(\"g\", { \"class-sprotty-button\": \"{true}\", \"class-enabled\": \"{button.enabled}\" },\n            snabbdom_jsx_1.svg(\"rect\", { x: 0, y: 0, width: 16, height: 16, opacity: 0 }),\n            snabbdom_jsx_1.svg(\"path\", { d: path }));\n    };\n    ExpandButtonView = __decorate([\n        inversify_1.injectable()\n    ], ExpandButtonView);\n    return ExpandButtonView;\n}());\nexports.ExpandButtonView = ExpandButtonView;\n//# sourceMappingURL=views.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar export_1 = require(\"./export\");\nvar svg_exporter_1 = require(\"./svg-exporter\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nvar exportSvgModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    bind(types_1.TYPES.KeyListener).to(export_1.ExportSvgKeyListener).inSingletonScope();\n    bind(types_1.TYPES.HiddenVNodeDecorator).to(export_1.ExportSvgDecorator).inSingletonScope();\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, export_1.ExportSvgCommand);\n    bind(types_1.TYPES.SvgExporter).to(svg_exporter_1.SvgExporter).inSingletonScope();\n});\nexports.default = exportSvgModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar command_1 = require(\"../../base/commands/command\");\nvar model_1 = require(\"../select/model\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar key_tool_1 = require(\"../../base/views/key-tool\");\nvar keyboard_1 = require(\"../../utils/keyboard\");\nvar model_2 = require(\"./model\");\nvar svg_exporter_1 = require(\"./svg-exporter\");\nvar smodel_factory_1 = require(\"../../base/model/smodel-factory\");\nvar model_3 = require(\"../viewport/model\");\nvar model_4 = require(\"../hover/model\");\nvar types_1 = require(\"../../base/types\");\nvar ExportSvgKeyListener = /** @class */ (function (_super) {\n    __extends(ExportSvgKeyListener, _super);\n    function ExportSvgKeyListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ExportSvgKeyListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'KeyE', 'ctrlCmd', 'shift'))\n            return [new RequestExportSvgAction()];\n        else\n            return [];\n    };\n    ExportSvgKeyListener = __decorate([\n        inversify_1.injectable()\n    ], ExportSvgKeyListener);\n    return ExportSvgKeyListener;\n}(key_tool_1.KeyListener));\nexports.ExportSvgKeyListener = ExportSvgKeyListener;\nvar RequestExportSvgAction = /** @class */ (function () {\n    function RequestExportSvgAction() {\n        this.kind = ExportSvgCommand.KIND;\n    }\n    return RequestExportSvgAction;\n}());\nexports.RequestExportSvgAction = RequestExportSvgAction;\nvar ExportSvgCommand = /** @class */ (function (_super) {\n    __extends(ExportSvgCommand, _super);\n    function ExportSvgCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ExportSvgCommand.prototype.execute = function (context) {\n        if (model_2.isExportable(context.root)) {\n            var root = context.modelFactory.createRoot(context.modelFactory.createSchema(context.root));\n            if (model_2.isExportable(root)) {\n                root.export = true;\n                if (model_3.isViewport(root)) {\n                    root.zoom = 1;\n                    root.scroll = {\n                        x: 0,\n                        y: 0\n                    };\n                }\n                root.index.all().forEach(function (element) {\n                    if (model_1.isSelectable(element) && element.selected)\n                        element.selected = false;\n                    if (model_4.isHoverable(element) && element.hoverFeedback)\n                        element.hoverFeedback = false;\n                });\n                return root;\n            }\n        }\n        return context.modelFactory.createRoot(smodel_factory_1.EMPTY_ROOT);\n    };\n    ExportSvgCommand.KIND = 'requestExportSvg';\n    return ExportSvgCommand;\n}(command_1.HiddenCommand));\nexports.ExportSvgCommand = ExportSvgCommand;\nvar ExportSvgDecorator = /** @class */ (function () {\n    function ExportSvgDecorator() {\n    }\n    ExportSvgDecorator.prototype.decorate = function (vnode, element) {\n        if (element instanceof smodel_1.SModelRoot)\n            this.root = element;\n        return vnode;\n    };\n    ExportSvgDecorator.prototype.postUpdate = function () {\n        if (this.root && model_2.isExportable(this.root) && this.root.export)\n            this.svgExporter.export(this.root);\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.SvgExporter),\n        __metadata(\"design:type\", svg_exporter_1.SvgExporter)\n    ], ExportSvgDecorator.prototype, \"svgExporter\", void 0);\n    ExportSvgDecorator = __decorate([\n        inversify_1.injectable()\n    ], ExportSvgDecorator);\n    return ExportSvgDecorator;\n}());\nexports.ExportSvgDecorator = ExportSvgDecorator;\n//# sourceMappingURL=export.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.exportFeature = Symbol('exportFeature');\nfunction isExportable(element) {\n    return element.hasFeature(exports.exportFeature) && element['export'] !== undefined;\n}\nexports.isExportable = isExportable;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar model_1 = require(\"../bounds/model\");\nvar action_dispatcher_1 = require(\"../../base/actions/action-dispatcher\");\nvar types_1 = require(\"../../base/types\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar inversify_1 = require(\"inversify\");\nvar ExportSvgAction = /** @class */ (function () {\n    function ExportSvgAction(svg) {\n        this.svg = svg;\n        this.kind = ExportSvgAction.KIND;\n    }\n    ExportSvgAction.KIND = 'exportSvg';\n    return ExportSvgAction;\n}());\nexports.ExportSvgAction = ExportSvgAction;\nvar SvgExporter = /** @class */ (function () {\n    function SvgExporter() {\n    }\n    SvgExporter.prototype.export = function (root) {\n        if (typeof document !== 'undefined') {\n            var div = document.getElementById(this.options.hiddenDiv);\n            if (div !== null && div.firstElementChild && div.firstElementChild.tagName === 'svg') {\n                var svgElement = div.firstElementChild;\n                var svg = this.createSvg(svgElement, root);\n                this.actionDispatcher.dispatch(new ExportSvgAction(svg));\n            }\n        }\n    };\n    SvgExporter.prototype.createSvg = function (svgElementOrig, root) {\n        var serializer = new XMLSerializer();\n        var svgCopy = serializer.serializeToString(svgElementOrig);\n        var iframe = document.createElement('iframe');\n        document.body.appendChild(iframe);\n        if (!iframe.contentWindow)\n            throw new Error('IFrame has no contentWindow');\n        var docCopy = iframe.contentWindow.document;\n        docCopy.open();\n        docCopy.write(svgCopy);\n        docCopy.close();\n        var svgElementNew = docCopy.getElementById(svgElementOrig.id);\n        svgElementNew.removeAttribute('opacity');\n        this.copyStyles(svgElementOrig, svgElementNew, ['width', 'height', 'opacity']);\n        svgElementNew.setAttribute('version', '1.1');\n        var bounds = this.getBounds(root);\n        svgElementNew.setAttribute('viewBox', bounds.x + \" \" + bounds.y + \" \" + bounds.width + \" \" + bounds.height);\n        var svgCode = serializer.serializeToString(svgElementNew);\n        document.body.removeChild(iframe);\n        return svgCode;\n    };\n    SvgExporter.prototype.copyStyles = function (source, target, skipedProperties) {\n        var sourceStyle = getComputedStyle(source);\n        var targetStyle = getComputedStyle(target);\n        var diffStyle = '';\n        for (var i = 0; i < sourceStyle.length; i++) {\n            var key = sourceStyle[i];\n            if (skipedProperties.indexOf(key) === -1) {\n                var value = sourceStyle.getPropertyValue(key);\n                if (targetStyle.getPropertyValue(key) !== value) {\n                    diffStyle += key + \":\" + value + \";\";\n                }\n            }\n        }\n        if (diffStyle !== '')\n            target.setAttribute('style', diffStyle);\n        // IE doesn't retrun anything on source.children\n        for (var i = 0; i < source.childNodes.length; ++i) {\n            var sourceChild = source.childNodes[i];\n            var targetChild = target.childNodes[i];\n            if (sourceChild instanceof Element)\n                this.copyStyles(sourceChild, targetChild, []);\n        }\n    };\n    SvgExporter.prototype.getBounds = function (root) {\n        var allBounds = [geometry_1.EMPTY_BOUNDS];\n        root.children.forEach(function (element) {\n            if (model_1.isBoundsAware(element)) {\n                allBounds.push(element.bounds);\n            }\n        });\n        return allBounds.reduce(function (one, two) { return geometry_1.combine(one, two); });\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], SvgExporter.prototype, \"options\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", action_dispatcher_1.ActionDispatcher)\n    ], SvgExporter.prototype, \"actionDispatcher\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], SvgExporter.prototype, \"log\", void 0);\n    SvgExporter = __decorate([\n        inversify_1.injectable()\n    ], SvgExporter);\n    return SvgExporter;\n}());\nexports.SvgExporter = SvgExporter;\n//# sourceMappingURL=svg-exporter.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar fade_1 = require(\"./fade\");\nvar fadeModule = new inversify_1.ContainerModule(function (bind) {\n    bind(types_1.TYPES.IVNodeDecorator).to(fade_1.ElementFader).inSingletonScope();\n});\nexports.default = fadeModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar animation_1 = require(\"../../base/animations/animation\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar vnode_utils_1 = require(\"../../base/views/vnode-utils\");\nvar model_1 = require(\"./model\");\nvar FadeAnimation = /** @class */ (function (_super) {\n    __extends(FadeAnimation, _super);\n    function FadeAnimation(model, elementFades, context, removeAfterFadeOut) {\n        if (removeAfterFadeOut === void 0) { removeAfterFadeOut = false; }\n        var _this = _super.call(this, context) || this;\n        _this.model = model;\n        _this.elementFades = elementFades;\n        _this.removeAfterFadeOut = removeAfterFadeOut;\n        return _this;\n    }\n    FadeAnimation.prototype.tween = function (t, context) {\n        for (var _i = 0, _a = this.elementFades; _i < _a.length; _i++) {\n            var elementFade = _a[_i];\n            var element = elementFade.element;\n            if (elementFade.type === 'in') {\n                element.opacity = t;\n            }\n            else if (elementFade.type === 'out') {\n                element.opacity = 1 - t;\n                if (t === 1 && this.removeAfterFadeOut && element instanceof smodel_1.SChildElement) {\n                    element.parent.remove(element);\n                }\n            }\n        }\n        return this.model;\n    };\n    return FadeAnimation;\n}(animation_1.Animation));\nexports.FadeAnimation = FadeAnimation;\nvar ElementFader = /** @class */ (function () {\n    function ElementFader() {\n    }\n    ElementFader.prototype.decorate = function (vnode, element) {\n        if (model_1.isFadeable(element)) {\n            vnode_utils_1.setAttr(vnode, 'opacity', element.opacity);\n        }\n        return vnode;\n    };\n    ElementFader.prototype.postUpdate = function () {\n    };\n    ElementFader = __decorate([\n        inversify_1.injectable()\n    ], ElementFader);\n    return ElementFader;\n}());\nexports.ElementFader = ElementFader;\n//# sourceMappingURL=fade.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fadeFeature = Symbol('fadeFeature');\nfunction isFadeable(element) {\n    return element.hasFeature(exports.fadeFeature) && element['opacity'] !== undefined;\n}\nexports.isFadeable = isFadeable;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar hover_1 = require(\"./hover\");\nvar popup_position_updater_1 = require(\"./popup-position-updater\");\nvar initializer_1 = require(\"./initializer\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nvar hoverModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    bind(types_1.TYPES.PopupVNodeDecorator).to(popup_position_updater_1.PopupPositionUpdater).inSingletonScope();\n    bind(types_1.TYPES.IActionHandlerInitializer).to(initializer_1.PopupActionHandlerInitializer);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, hover_1.HoverFeedbackCommand);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, hover_1.SetPopupModelCommand);\n    bind(types_1.TYPES.MouseListener).to(hover_1.HoverMouseListener);\n    bind(types_1.TYPES.PopupMouseListener).to(hover_1.PopupHoverMouseListener);\n    bind(types_1.TYPES.KeyListener).to(hover_1.HoverKeyListener);\n    bind(types_1.TYPES.HoverState).toConstantValue({\n        mouseOverTimer: undefined,\n        mouseOutTimer: undefined,\n        popupOpen: false,\n        previousPopupElement: undefined\n    });\n});\nexports.default = hoverModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar keyboard_1 = require(\"../../utils/keyboard\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar types_1 = require(\"../../base/types\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar mouse_tool_1 = require(\"../../base/views/mouse-tool\");\nvar command_1 = require(\"../../base/commands/command\");\nvar smodel_factory_1 = require(\"../../base/model/smodel-factory\");\nvar key_tool_1 = require(\"../../base/views/key-tool\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar model_1 = require(\"../bounds/model\");\nvar model_2 = require(\"./model\");\n/**\n * Triggered when the user puts the mouse pointer over an element.\n */\nvar HoverFeedbackAction = /** @class */ (function () {\n    function HoverFeedbackAction(mouseoverElement, mouseIsOver) {\n        this.mouseoverElement = mouseoverElement;\n        this.mouseIsOver = mouseIsOver;\n        this.kind = HoverFeedbackCommand.KIND;\n    }\n    return HoverFeedbackAction;\n}());\nexports.HoverFeedbackAction = HoverFeedbackAction;\nvar HoverFeedbackCommand = /** @class */ (function (_super) {\n    __extends(HoverFeedbackCommand, _super);\n    function HoverFeedbackCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    HoverFeedbackCommand.prototype.execute = function (context) {\n        var model = context.root;\n        var modelElement = model.index.getById(this.action.mouseoverElement);\n        if (modelElement) {\n            if (model_2.isHoverable(modelElement)) {\n                modelElement.hoverFeedback = this.action.mouseIsOver;\n            }\n        }\n        return this.redo(context);\n    };\n    HoverFeedbackCommand.prototype.undo = function (context) {\n        return context.root;\n    };\n    HoverFeedbackCommand.prototype.redo = function (context) {\n        return context.root;\n    };\n    HoverFeedbackCommand.KIND = 'hoverFeedback';\n    HoverFeedbackCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [HoverFeedbackAction])\n    ], HoverFeedbackCommand);\n    return HoverFeedbackCommand;\n}(command_1.SystemCommand));\nexports.HoverFeedbackCommand = HoverFeedbackCommand;\n/**\n * Triggered when the user hovers the mouse pointer over an element to get a popup with details on\n * that element. This action is sent from the client to the model source, e.g. a DiagramServer.\n * The response is a SetPopupModelAction.\n */\nvar RequestPopupModelAction = /** @class */ (function () {\n    function RequestPopupModelAction(elementId, bounds) {\n        this.elementId = elementId;\n        this.bounds = bounds;\n        this.kind = RequestPopupModelAction.KIND;\n    }\n    RequestPopupModelAction.KIND = 'requestPopupModel';\n    return RequestPopupModelAction;\n}());\nexports.RequestPopupModelAction = RequestPopupModelAction;\n/**\n * Sent from the model source to the client to display a popup in response to a RequestPopupModelAction.\n * This action can also be used to remove any existing popup by choosing EMPTY_ROOT as root element.\n */\nvar SetPopupModelAction = /** @class */ (function () {\n    function SetPopupModelAction(newRoot) {\n        this.newRoot = newRoot;\n        this.kind = SetPopupModelCommand.KIND;\n    }\n    return SetPopupModelAction;\n}());\nexports.SetPopupModelAction = SetPopupModelAction;\nvar SetPopupModelCommand = /** @class */ (function (_super) {\n    __extends(SetPopupModelCommand, _super);\n    function SetPopupModelCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    SetPopupModelCommand.prototype.execute = function (context) {\n        this.oldRoot = context.root;\n        this.newRoot = context.modelFactory.createRoot(this.action.newRoot);\n        return this.newRoot;\n    };\n    SetPopupModelCommand.prototype.undo = function (context) {\n        return this.oldRoot;\n    };\n    SetPopupModelCommand.prototype.redo = function (context) {\n        return this.newRoot;\n    };\n    SetPopupModelCommand.KIND = 'setPopupModel';\n    SetPopupModelCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SetPopupModelAction])\n    ], SetPopupModelCommand);\n    return SetPopupModelCommand;\n}(command_1.PopupCommand));\nexports.SetPopupModelCommand = SetPopupModelCommand;\nvar AbstractHoverMouseListener = /** @class */ (function (_super) {\n    __extends(AbstractHoverMouseListener, _super);\n    function AbstractHoverMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AbstractHoverMouseListener.prototype.mouseDown = function (target, event) {\n        this.mouseIsDown = true;\n        return [];\n    };\n    AbstractHoverMouseListener.prototype.mouseUp = function (target, event) {\n        this.mouseIsDown = false;\n        return [];\n    };\n    AbstractHoverMouseListener.prototype.stopMouseOutTimer = function () {\n        if (this.state.mouseOutTimer !== undefined) {\n            window.clearTimeout(this.state.mouseOutTimer);\n            this.state.mouseOutTimer = undefined;\n        }\n    };\n    AbstractHoverMouseListener.prototype.startMouseOutTimer = function () {\n        var _this = this;\n        this.stopMouseOutTimer();\n        return new Promise(function (resolve) {\n            _this.state.mouseOutTimer = window.setTimeout(function () {\n                _this.state.popupOpen = false;\n                _this.state.previousPopupElement = undefined;\n                resolve(new SetPopupModelAction({ type: smodel_factory_1.EMPTY_ROOT.type, id: smodel_factory_1.EMPTY_ROOT.id }));\n            }, _this.options.popupCloseDelay);\n        });\n    };\n    AbstractHoverMouseListener.prototype.stopMouseOverTimer = function () {\n        if (this.state.mouseOverTimer !== undefined) {\n            window.clearTimeout(this.state.mouseOverTimer);\n            this.state.mouseOverTimer = undefined;\n        }\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], AbstractHoverMouseListener.prototype, \"options\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.HoverState),\n        __metadata(\"design:type\", Object)\n    ], AbstractHoverMouseListener.prototype, \"state\", void 0);\n    return AbstractHoverMouseListener;\n}(mouse_tool_1.MouseListener));\nexports.AbstractHoverMouseListener = AbstractHoverMouseListener;\nvar HoverMouseListener = /** @class */ (function (_super) {\n    __extends(HoverMouseListener, _super);\n    function HoverMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HoverMouseListener.prototype.computePopupBounds = function (target, mousePosition) {\n        // Default position: below the mouse cursor\n        var offset = { x: -5, y: 20 };\n        var targetBounds = model_1.getAbsoluteBounds(target);\n        var canvasBounds = target.root.canvasBounds;\n        var boundsInWindow = geometry_1.translate(targetBounds, canvasBounds);\n        var distRight = boundsInWindow.x + boundsInWindow.width - mousePosition.x;\n        var distBottom = boundsInWindow.y + boundsInWindow.height - mousePosition.y;\n        if (distBottom <= distRight && this.allowSidePosition(target, 'below', distBottom)) {\n            // Put the popup below the target element\n            offset = { x: -5, y: Math.round(distBottom + 5) };\n        }\n        else if (distRight <= distBottom && this.allowSidePosition(target, 'right', distRight)) {\n            // Put the popup right of the target element\n            offset = { x: Math.round(distRight + 5), y: -5 };\n        }\n        var leftPopupPosition = mousePosition.x + offset.x;\n        var canvasRightBorderPosition = canvasBounds.x + canvasBounds.width;\n        if (leftPopupPosition > canvasRightBorderPosition) {\n            leftPopupPosition = canvasRightBorderPosition;\n        }\n        var topPopupPosition = mousePosition.y + offset.y;\n        var canvasBottomBorderPosition = canvasBounds.y + canvasBounds.height;\n        if (topPopupPosition > canvasBottomBorderPosition) {\n            topPopupPosition = canvasBottomBorderPosition;\n        }\n        return { x: leftPopupPosition, y: topPopupPosition, width: -1, height: -1 };\n    };\n    HoverMouseListener.prototype.allowSidePosition = function (target, side, distance) {\n        return !(target instanceof smodel_1.SModelRoot) && distance <= 150;\n    };\n    HoverMouseListener.prototype.startMouseOverTimer = function (target, event) {\n        var _this = this;\n        this.stopMouseOverTimer();\n        return new Promise(function (resolve) {\n            _this.state.mouseOverTimer = window.setTimeout(function () {\n                var popupBounds = _this.computePopupBounds(target, { x: event.pageX, y: event.pageY });\n                resolve(new RequestPopupModelAction(target.id, popupBounds));\n                _this.state.popupOpen = true;\n                _this.state.previousPopupElement = target;\n            }, _this.options.popupOpenDelay);\n        });\n    };\n    HoverMouseListener.prototype.mouseOver = function (target, event) {\n        var result = [];\n        if (!this.mouseIsDown) {\n            var popupTarget = smodel_utils_1.findParent(target, model_2.hasPopupFeature);\n            if (this.state.popupOpen && (popupTarget === undefined ||\n                this.state.previousPopupElement !== undefined && this.state.previousPopupElement.id !== popupTarget.id)) {\n                result.push(this.startMouseOutTimer());\n            }\n            else {\n                this.stopMouseOverTimer();\n                this.stopMouseOutTimer();\n            }\n            if (popupTarget !== undefined &&\n                (this.state.previousPopupElement === undefined || this.state.previousPopupElement.id !== popupTarget.id)) {\n                result.push(this.startMouseOverTimer(popupTarget, event));\n            }\n            var hoverTarget = smodel_utils_1.findParentByFeature(target, model_2.isHoverable);\n            if (hoverTarget !== undefined)\n                result.push(new HoverFeedbackAction(hoverTarget.id, true));\n        }\n        return result;\n    };\n    HoverMouseListener.prototype.mouseOut = function (target, event) {\n        var result = [];\n        if (!this.mouseIsDown) {\n            var elementUnderMouse = document.elementFromPoint(event.x, event.y);\n            if (!this.isSprottyPopup(elementUnderMouse)) {\n                if (this.state.popupOpen) {\n                    var popupTarget = smodel_utils_1.findParent(target, model_2.hasPopupFeature);\n                    if (this.state.previousPopupElement !== undefined && popupTarget !== undefined\n                        && this.state.previousPopupElement.id === popupTarget.id)\n                        result.push(this.startMouseOutTimer());\n                }\n                this.stopMouseOverTimer();\n                var hoverTarget = smodel_utils_1.findParentByFeature(target, model_2.isHoverable);\n                if (hoverTarget !== undefined)\n                    result.push(new HoverFeedbackAction(hoverTarget.id, false));\n            }\n        }\n        return result;\n    };\n    HoverMouseListener.prototype.isSprottyPopup = function (element) {\n        return element\n            ? (element.id === this.options.popupDiv\n                || (!!element.parentElement && this.isSprottyPopup(element.parentElement)))\n            : false;\n    };\n    HoverMouseListener.prototype.mouseMove = function (target, event) {\n        var result = [];\n        if (!this.mouseIsDown) {\n            if (this.state.previousPopupElement !== undefined && this.closeOnMouseMove(this.state.previousPopupElement, event)) {\n                result.push(this.startMouseOutTimer());\n            }\n            var popupTarget = smodel_utils_1.findParent(target, model_2.hasPopupFeature);\n            if (popupTarget !== undefined && (this.state.previousPopupElement === undefined\n                || this.state.previousPopupElement.id !== popupTarget.id)) {\n                result.push(this.startMouseOverTimer(popupTarget, event));\n            }\n        }\n        return result;\n    };\n    HoverMouseListener.prototype.closeOnMouseMove = function (target, event) {\n        return target instanceof smodel_1.SModelRoot;\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], HoverMouseListener.prototype, \"options\", void 0);\n    HoverMouseListener = __decorate([\n        inversify_1.injectable()\n    ], HoverMouseListener);\n    return HoverMouseListener;\n}(AbstractHoverMouseListener));\nexports.HoverMouseListener = HoverMouseListener;\nvar PopupHoverMouseListener = /** @class */ (function (_super) {\n    __extends(PopupHoverMouseListener, _super);\n    function PopupHoverMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupHoverMouseListener.prototype.mouseOut = function (target, event) {\n        return [this.startMouseOutTimer()];\n    };\n    PopupHoverMouseListener.prototype.mouseOver = function (target, event) {\n        this.stopMouseOutTimer();\n        this.stopMouseOverTimer();\n        return [];\n    };\n    PopupHoverMouseListener = __decorate([\n        inversify_1.injectable()\n    ], PopupHoverMouseListener);\n    return PopupHoverMouseListener;\n}(AbstractHoverMouseListener));\nexports.PopupHoverMouseListener = PopupHoverMouseListener;\nvar HoverKeyListener = /** @class */ (function (_super) {\n    __extends(HoverKeyListener, _super);\n    function HoverKeyListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HoverKeyListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'Escape')) {\n            return [new SetPopupModelAction({ type: smodel_factory_1.EMPTY_ROOT.type, id: smodel_factory_1.EMPTY_ROOT.id })];\n        }\n        return [];\n    };\n    return HoverKeyListener;\n}(key_tool_1.KeyListener));\nexports.HoverKeyListener = HoverKeyListener;\n//# sourceMappingURL=hover.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar hover_1 = require(\"./hover\");\nvar smodel_factory_1 = require(\"../../base/model/smodel-factory\");\nvar center_fit_1 = require(\"../viewport/center-fit\");\nvar viewport_1 = require(\"../viewport/viewport\");\nvar move_1 = require(\"../move/move\");\nvar ClosePopupActionHandler = /** @class */ (function () {\n    function ClosePopupActionHandler() {\n        this.popupOpen = false;\n    }\n    ClosePopupActionHandler.prototype.handle = function (action) {\n        if (action.kind === hover_1.SetPopupModelCommand.KIND) {\n            this.popupOpen = action.newRoot.type !== smodel_factory_1.EMPTY_ROOT.type;\n        }\n        else if (this.popupOpen) {\n            return new hover_1.SetPopupModelAction({ id: smodel_factory_1.EMPTY_ROOT.id, type: smodel_factory_1.EMPTY_ROOT.type });\n        }\n    };\n    return ClosePopupActionHandler;\n}());\nvar PopupActionHandlerInitializer = /** @class */ (function () {\n    function PopupActionHandlerInitializer() {\n    }\n    PopupActionHandlerInitializer.prototype.initialize = function (registry) {\n        var closePopupActionHandler = new ClosePopupActionHandler();\n        registry.register(center_fit_1.FitToScreenCommand.KIND, closePopupActionHandler);\n        registry.register(center_fit_1.CenterCommand.KIND, closePopupActionHandler);\n        registry.register(viewport_1.ViewportCommand.KIND, closePopupActionHandler);\n        registry.register(hover_1.SetPopupModelCommand.KIND, closePopupActionHandler);\n        registry.register(move_1.MoveCommand.KIND, closePopupActionHandler);\n    };\n    PopupActionHandlerInitializer = __decorate([\n        inversify_1.injectable()\n    ], PopupActionHandlerInitializer);\n    return PopupActionHandlerInitializer;\n}());\nexports.PopupActionHandlerInitializer = PopupActionHandlerInitializer;\n//# sourceMappingURL=initializer.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hoverFeedbackFeature = Symbol('hoverFeedbackFeature');\nfunction isHoverable(element) {\n    return element.hasFeature(exports.hoverFeedbackFeature);\n}\nexports.isHoverable = isHoverable;\nexports.popupFeature = Symbol('popupFeature');\nfunction hasPopupFeature(element) {\n    return element.hasFeature(exports.popupFeature);\n}\nexports.hasPopupFeature = hasPopupFeature;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar PopupPositionUpdater = /** @class */ (function () {\n    function PopupPositionUpdater() {\n    }\n    PopupPositionUpdater.prototype.decorate = function (vnode, element) {\n        return vnode;\n    };\n    PopupPositionUpdater.prototype.postUpdate = function () {\n        var popupDiv = document.getElementById(this.options.popupDiv);\n        if (popupDiv !== null && typeof window !== 'undefined') {\n            var boundingClientRect = popupDiv.getBoundingClientRect();\n            if (window.innerHeight < boundingClientRect.height + boundingClientRect.top) {\n                popupDiv.style.top = (window.scrollY + window.innerHeight - boundingClientRect.height - 5) + 'px';\n            }\n            if (window.innerWidth < boundingClientRect.left + boundingClientRect.width) {\n                popupDiv.style.left = (window.scrollX + window.innerWidth - boundingClientRect.width - 5) + 'px';\n            }\n            if (boundingClientRect.left < 0) {\n                popupDiv.style.left = '0px';\n            }\n            if (boundingClientRect.top < 0) {\n                popupDiv.style.top = '0px';\n            }\n        }\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], PopupPositionUpdater.prototype, \"options\", void 0);\n    PopupPositionUpdater = __decorate([\n        inversify_1.injectable()\n    ], PopupPositionUpdater);\n    return PopupPositionUpdater;\n}());\nexports.PopupPositionUpdater = PopupPositionUpdater;\n//# sourceMappingURL=popup-position-updater.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar move_1 = require(\"./move\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nvar moveModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    bind(types_1.TYPES.MouseListener).to(move_1.MoveMouseListener);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, move_1.MoveCommand);\n    bind(types_1.TYPES.IVNodeDecorator).to(move_1.LocationDecorator);\n    bind(types_1.TYPES.HiddenVNodeDecorator).to(move_1.LocationDecorator);\n});\nexports.default = moveModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.moveFeature = Symbol('moveFeature');\nfunction isLocateable(element) {\n    return element['position'] !== undefined;\n}\nexports.isLocateable = isLocateable;\nfunction isMoveable(element) {\n    return element.hasFeature(exports.moveFeature) && isLocateable(element);\n}\nexports.isMoveable = isMoveable;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar animation_1 = require(\"../../base/animations/animation\");\nvar command_1 = require(\"../../base/commands/command\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar types_1 = require(\"../../base/types\");\nvar mouse_tool_1 = require(\"../../base/views/mouse-tool\");\nvar vnode_utils_1 = require(\"../../base/views/vnode-utils\");\nvar commit_model_1 = require(\"../../model-source/commit-model\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar model_1 = require(\"../bounds/model\");\nvar create_on_drag_1 = require(\"../edit/create-on-drag\");\nvar delete_1 = require(\"../edit/delete\");\nvar edit_routing_1 = require(\"../edit/edit-routing\");\nvar reconnect_1 = require(\"../edit/reconnect\");\nvar model_2 = require(\"../routing/model\");\nvar routing_1 = require(\"../routing/routing\");\nvar model_3 = require(\"../select/model\");\nvar select_1 = require(\"../select/select\");\nvar model_4 = require(\"../viewport/model\");\nvar model_5 = require(\"./model\");\nvar MoveAction = /** @class */ (function () {\n    function MoveAction(moves, animate, finished) {\n        if (animate === void 0) { animate = true; }\n        if (finished === void 0) { finished = false; }\n        this.moves = moves;\n        this.animate = animate;\n        this.finished = finished;\n        this.kind = MoveCommand.KIND;\n    }\n    return MoveAction;\n}());\nexports.MoveAction = MoveAction;\nvar MoveCommand = /** @class */ (function (_super) {\n    __extends(MoveCommand, _super);\n    function MoveCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.resolvedMoves = new Map;\n        _this.edgeMementi = [];\n        return _this;\n    }\n    MoveCommand_1 = MoveCommand;\n    MoveCommand.prototype.execute = function (context) {\n        var _this = this;\n        var index = context.root.index;\n        var edge2handleMoves = new Map();\n        var attachedEdgeShifts = new Map();\n        this.action.moves.forEach(function (move) {\n            var element = index.getById(move.elementId);\n            if (element instanceof model_2.SRoutingHandle && _this.edgeRouterRegistry) {\n                var edge = element.parent;\n                if (edge instanceof model_2.SRoutableElement) {\n                    var resolvedMove = _this.resolveHandleMove(element, edge, move);\n                    if (resolvedMove) {\n                        var movesByEdge = edge2handleMoves.get(edge);\n                        if (!movesByEdge) {\n                            movesByEdge = [];\n                            edge2handleMoves.set(edge, movesByEdge);\n                        }\n                        movesByEdge.push(resolvedMove);\n                    }\n                }\n            }\n            else if (element && model_5.isLocateable(element)) {\n                var resolvedMove_1 = _this.resolveElementMove(element, move);\n                if (resolvedMove_1) {\n                    _this.resolvedMoves.set(resolvedMove_1.element.id, resolvedMove_1);\n                    if (_this.edgeRouterRegistry) {\n                        index.getAttachedElements(element).forEach(function (edge) {\n                            if (edge instanceof model_2.SRoutableElement) {\n                                var existingDelta = attachedEdgeShifts.get(edge);\n                                var newDelta = geometry_1.subtract(resolvedMove_1.toPosition, resolvedMove_1.fromPosition);\n                                var delta = (existingDelta)\n                                    ? geometry_1.linear(existingDelta, newDelta, 0.5)\n                                    : newDelta;\n                                attachedEdgeShifts.set(edge, delta);\n                            }\n                        });\n                    }\n                }\n            }\n        });\n        this.doMove(edge2handleMoves, attachedEdgeShifts);\n        if (this.action.animate) {\n            this.undoMove();\n            return new animation_1.CompoundAnimation(context.root, context, [\n                new MoveAnimation(context.root, this.resolvedMoves, context, false),\n                new MorphEdgesAnimation(context.root, this.edgeMementi, context, false)\n            ]).start();\n        }\n        return context.root;\n    };\n    MoveCommand.prototype.resolveHandleMove = function (handle, edge, move) {\n        var fromPosition = move.fromPosition;\n        if (!fromPosition) {\n            var router = this.edgeRouterRegistry.get(edge.routerKind);\n            fromPosition = router.getHandlePosition(edge, router.route(edge), handle);\n        }\n        if (fromPosition)\n            return {\n                handle: handle,\n                fromPosition: fromPosition,\n                toPosition: move.toPosition\n            };\n        return undefined;\n    };\n    MoveCommand.prototype.resolveElementMove = function (element, move) {\n        var fromPosition = move.fromPosition\n            || { x: element.position.x, y: element.position.y };\n        return {\n            element: element,\n            fromPosition: fromPosition,\n            toPosition: move.toPosition\n        };\n    };\n    MoveCommand.prototype.doMove = function (edge2move, attachedEdgeShifts) {\n        var _this = this;\n        this.resolvedMoves.forEach(function (res) {\n            res.element.position = res.toPosition;\n        });\n        // reset edges to state before\n        edge2move.forEach(function (moves, edge) {\n            var router = _this.edgeRouterRegistry.get(edge.routerKind);\n            var before = router.takeSnapshot(edge);\n            router.applyHandleMoves(edge, moves);\n            var after = router.takeSnapshot(edge);\n            _this.edgeMementi.push({ edge: edge, before: before, after: after });\n        });\n        attachedEdgeShifts.forEach(function (delta, edge) {\n            if (!edge2move.get(edge)) {\n                var router = _this.edgeRouterRegistry.get(edge.routerKind);\n                var before = router.takeSnapshot(edge);\n                if (edge.source\n                    && edge.target\n                    && _this.resolvedMoves.get(edge.source.id)\n                    && _this.resolvedMoves.get(edge.target.id)) {\n                    // move the entire edge when both source and target are moved\n                    edge.routingPoints = edge.routingPoints.map(function (rp) { return geometry_1.add(rp, delta); });\n                }\n                else {\n                    // add/remove RPs according to the new source/target positions\n                    var updateHandles = model_3.isSelectable(edge) && edge.selected;\n                    router.cleanupRoutingPoints(edge, edge.routingPoints, updateHandles, _this.action.finished);\n                }\n                var after = router.takeSnapshot(edge);\n                _this.edgeMementi.push({ edge: edge, before: before, after: after });\n            }\n        });\n    };\n    MoveCommand.prototype.undoMove = function () {\n        var _this = this;\n        this.resolvedMoves.forEach(function (res) {\n            res.element.position = res.fromPosition;\n        });\n        this.edgeMementi.forEach(function (memento) {\n            var router = _this.edgeRouterRegistry.get(memento.edge.routerKind);\n            router.applySnapshot(memento.edge, memento.before);\n        });\n    };\n    MoveCommand.prototype.undo = function (context) {\n        return new animation_1.CompoundAnimation(context.root, context, [\n            new MoveAnimation(context.root, this.resolvedMoves, context, true),\n            new MorphEdgesAnimation(context.root, this.edgeMementi, context, true)\n        ]).start();\n    };\n    MoveCommand.prototype.redo = function (context) {\n        return new animation_1.CompoundAnimation(context.root, context, [\n            new MoveAnimation(context.root, this.resolvedMoves, context, false),\n            new MorphEdgesAnimation(context.root, this.edgeMementi, context, false)\n        ]).start();\n    };\n    MoveCommand.prototype.merge = function (other, context) {\n        var _this = this;\n        if (!this.action.animate && other instanceof MoveCommand_1) {\n            other.resolvedMoves.forEach(function (otherMove, otherElementId) {\n                var existingMove = _this.resolvedMoves.get(otherElementId);\n                if (existingMove) {\n                    existingMove.toPosition = otherMove.toPosition;\n                }\n                else {\n                    _this.resolvedMoves.set(otherElementId, otherMove);\n                }\n            });\n            other.edgeMementi.forEach(function (otherMemento) {\n                var existingMemento = _this.edgeMementi.find(function (edgeMemento) { return edgeMemento.edge.id === otherMemento.edge.id; });\n                if (existingMemento) {\n                    existingMemento.after = otherMemento.after;\n                }\n                else {\n                    _this.edgeMementi.push(otherMemento);\n                }\n            });\n            return true;\n        }\n        else if (other instanceof reconnect_1.ReconnectCommand) {\n            var otherMemento_1 = other.memento;\n            if (otherMemento_1) {\n                var existingMemento = this.edgeMementi.find(function (edgeMemento) { return edgeMemento.edge.id === otherMemento_1.edge.id; });\n                if (existingMemento) {\n                    existingMemento.after = otherMemento_1.after;\n                }\n                else {\n                    this.edgeMementi.push(otherMemento_1);\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n    var MoveCommand_1;\n    MoveCommand.KIND = 'move';\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry), inversify_1.optional(),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], MoveCommand.prototype, \"edgeRouterRegistry\", void 0);\n    MoveCommand = MoveCommand_1 = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [MoveAction])\n    ], MoveCommand);\n    return MoveCommand;\n}(command_1.MergeableCommand));\nexports.MoveCommand = MoveCommand;\nvar MoveAnimation = /** @class */ (function (_super) {\n    __extends(MoveAnimation, _super);\n    function MoveAnimation(model, elementMoves, context, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var _this = _super.call(this, context) || this;\n        _this.model = model;\n        _this.elementMoves = elementMoves;\n        _this.reverse = reverse;\n        return _this;\n    }\n    MoveAnimation.prototype.tween = function (t) {\n        var _this = this;\n        this.elementMoves.forEach(function (elementMove) {\n            if (_this.reverse) {\n                elementMove.element.position = {\n                    x: (1 - t) * elementMove.toPosition.x + t * elementMove.fromPosition.x,\n                    y: (1 - t) * elementMove.toPosition.y + t * elementMove.fromPosition.y\n                };\n            }\n            else {\n                elementMove.element.position = {\n                    x: (1 - t) * elementMove.fromPosition.x + t * elementMove.toPosition.x,\n                    y: (1 - t) * elementMove.fromPosition.y + t * elementMove.toPosition.y\n                };\n            }\n        });\n        return this.model;\n    };\n    return MoveAnimation;\n}(animation_1.Animation));\nexports.MoveAnimation = MoveAnimation;\nvar MorphEdgesAnimation = /** @class */ (function (_super) {\n    __extends(MorphEdgesAnimation, _super);\n    function MorphEdgesAnimation(model, originalMementi, context, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        var _this = _super.call(this, context) || this;\n        _this.model = model;\n        _this.originalMementi = originalMementi;\n        _this.reverse = reverse;\n        _this.expandedMementi = [];\n        originalMementi.forEach(function (edgeMemento) {\n            var start = _this.reverse ? edgeMemento.after : edgeMemento.before;\n            var end = _this.reverse ? edgeMemento.before : edgeMemento.after;\n            // duplicate RPs such that both snapshots have the same number of RPs\n            var startRpsExpanded = start.routingPoints.slice();\n            var endRpsExpanded = end.routingPoints.slice();\n            var midPoint = _this.midPoint(edgeMemento);\n            var diff = startRpsExpanded.length - endRpsExpanded.length;\n            while (diff > 0) {\n                endRpsExpanded.push(endRpsExpanded[endRpsExpanded.length - 1] || midPoint);\n                --diff;\n            }\n            while (diff < 0) {\n                startRpsExpanded.push(startRpsExpanded[startRpsExpanded.length - 1] || midPoint);\n                ++diff;\n            }\n            _this.expandedMementi.push({\n                edge: edgeMemento.edge,\n                before: __assign({}, start, { routingPoints: startRpsExpanded }),\n                after: __assign({}, end, { routingPoints: endRpsExpanded })\n            });\n        });\n        return _this;\n    }\n    MorphEdgesAnimation.prototype.midPoint = function (edgeMemento) {\n        var edge = edgeMemento.edge;\n        var source = edgeMemento.edge.source;\n        var target = edgeMemento.edge.target;\n        return geometry_1.linear(smodel_utils_1.translatePoint(geometry_1.center(source.bounds), source.parent, edge.parent), smodel_utils_1.translatePoint(geometry_1.center(target.bounds), target.parent, edge.parent), 0.5);\n    };\n    MorphEdgesAnimation.prototype.start = function () {\n        this.expandedMementi.forEach(function (memento) {\n            memento.edge.removeAll(function (e) { return e instanceof model_2.SRoutingHandle; });\n        });\n        return _super.prototype.start.call(this);\n    };\n    MorphEdgesAnimation.prototype.tween = function (t) {\n        var _this = this;\n        if (t === 1) {\n            this.originalMementi.forEach(function (memento) {\n                if (_this.reverse)\n                    memento.after.router.applySnapshot(memento.edge, memento.before);\n                else\n                    memento.after.router.applySnapshot(memento.edge, memento.after);\n            });\n        }\n        else {\n            this.expandedMementi.forEach(function (memento) {\n                var newRoutingPoints = [];\n                for (var i = 0; i < memento.before.routingPoints.length; ++i) {\n                    var startPoint = memento.before.routingPoints[i];\n                    var endPoint = memento.after.routingPoints[i];\n                    newRoutingPoints.push({\n                        x: (1 - t) * startPoint.x + t * endPoint.x,\n                        y: (1 - t) * startPoint.y + t * endPoint.y\n                    });\n                }\n                var closestSnapshot = t < 0.5 ? memento.before : memento.after;\n                var newSnapshot = __assign({}, closestSnapshot, { routingPoints: newRoutingPoints, routingHandles: [] });\n                closestSnapshot.router.applySnapshot(memento.edge, newSnapshot);\n            });\n        }\n        return this.model;\n    };\n    return MorphEdgesAnimation;\n}(animation_1.Animation));\nexports.MorphEdgesAnimation = MorphEdgesAnimation;\nvar MoveMouseListener = /** @class */ (function (_super) {\n    __extends(MoveMouseListener, _super);\n    function MoveMouseListener() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.hasDragged = false;\n        return _this;\n    }\n    MoveMouseListener.prototype.mouseDown = function (target, event) {\n        var result = [];\n        if (event.button === 0) {\n            var moveable = smodel_utils_1.findParentByFeature(target, model_5.isMoveable);\n            var isRoutingHandle = target instanceof model_2.SRoutingHandle;\n            if (moveable !== undefined || isRoutingHandle || create_on_drag_1.isCreatingOnDrag(target)) {\n                this.lastDragPosition = { x: event.pageX, y: event.pageY };\n            }\n            else {\n                this.lastDragPosition = undefined;\n            }\n            this.hasDragged = false;\n            if (create_on_drag_1.isCreatingOnDrag(target)) {\n                result.push(new select_1.SelectAllAction(false));\n                result.push(target.createAction(model_2.edgeInProgressID));\n                result.push(new select_1.SelectAction([model_2.edgeInProgressID], []));\n                result.push(new edit_routing_1.SwitchEditModeAction([model_2.edgeInProgressID], []));\n                result.push(new select_1.SelectAction([model_2.edgeInProgressTargetHandleID], []));\n                result.push(new edit_routing_1.SwitchEditModeAction([model_2.edgeInProgressTargetHandleID], []));\n            }\n            else if (isRoutingHandle) {\n                result.push(new edit_routing_1.SwitchEditModeAction([target.id], []));\n            }\n        }\n        return result;\n    };\n    MoveMouseListener.prototype.mouseMove = function (target, event) {\n        var result = [];\n        if (event.buttons === 0)\n            this.mouseUp(target, event);\n        else if (this.lastDragPosition) {\n            this.hasDragged = true;\n            var moveAction = this.getElementMoves(target, event, this.lastDragPosition, false);\n            if (moveAction)\n                result.push(moveAction);\n            this.lastDragPosition = { x: event.pageX, y: event.pageY };\n        }\n        return result;\n    };\n    MoveMouseListener.prototype.getElementMoves = function (target, event, lastDragPosition, isFinished) {\n        var _this = this;\n        var viewport = smodel_utils_1.findParentByFeature(target, model_4.isViewport);\n        var zoom = viewport ? viewport.zoom : 1;\n        var dx = (event.pageX - lastDragPosition.x) / zoom;\n        var dy = (event.pageY - lastDragPosition.y) / zoom;\n        var elementMoves = [];\n        target.root.index.all()\n            .filter(function (element) { return model_3.isSelectable(element) && element.selected; })\n            .forEach(function (element) {\n            if (model_5.isMoveable(element)) {\n                elementMoves.push({\n                    elementId: element.id,\n                    fromPosition: {\n                        x: element.position.x,\n                        y: element.position.y\n                    },\n                    toPosition: {\n                        x: element.position.x + dx,\n                        y: element.position.y + dy\n                    }\n                });\n            }\n            else if (element instanceof model_2.SRoutingHandle) {\n                var point = _this.getHandlePosition(element);\n                if (point !== undefined) {\n                    elementMoves.push({\n                        elementId: element.id,\n                        fromPosition: point,\n                        toPosition: {\n                            x: point.x + dx,\n                            y: point.y + dy\n                        }\n                    });\n                }\n            }\n        });\n        if (elementMoves.length > 0)\n            return new MoveAction(elementMoves, false, isFinished);\n        else\n            return undefined;\n    };\n    MoveMouseListener.prototype.getHandlePosition = function (handle) {\n        if (this.edgeRouterRegistry) {\n            var parent_1 = handle.parent;\n            if (!(parent_1 instanceof model_2.SRoutableElement))\n                return undefined;\n            var router = this.edgeRouterRegistry.get(parent_1.routerKind);\n            var route = router.route(parent_1);\n            return router.getHandlePosition(parent_1, route, handle);\n        }\n        return undefined;\n    };\n    MoveMouseListener.prototype.mouseEnter = function (target, event) {\n        if (target instanceof smodel_1.SModelRoot && event.buttons === 0)\n            this.mouseUp(target, event);\n        return [];\n    };\n    MoveMouseListener.prototype.mouseUp = function (target, event) {\n        var _this = this;\n        var result = [];\n        var hasReconnected = false;\n        if (this.lastDragPosition) {\n            var moveAction = this.getElementMoves(target, event, this.lastDragPosition, true);\n            if (moveAction)\n                result.push(moveAction);\n            target.root.index.all()\n                .forEach(function (element) {\n                if (element instanceof model_2.SRoutingHandle) {\n                    var parent_2 = element.parent;\n                    if (parent_2 instanceof model_2.SRoutableElement && element.danglingAnchor) {\n                        var handlePos = _this.getHandlePosition(element);\n                        if (handlePos) {\n                            var handlePosAbs = smodel_utils_1.translatePoint(handlePos, element.parent, element.root);\n                            var newEnd = model_1.findChildrenAtPosition(target.root, handlePosAbs)\n                                .find(function (e) { return model_2.isConnectable(e) && e.canConnect(parent_2, element.kind); });\n                            if (newEnd && _this.hasDragged) {\n                                result.push(new reconnect_1.ReconnectAction(element.parent.id, element.kind === 'source' ? newEnd.id : parent_2.sourceId, element.kind === 'target' ? newEnd.id : parent_2.targetId));\n                                hasReconnected = true;\n                            }\n                        }\n                    }\n                    if (element.editMode)\n                        result.push(new edit_routing_1.SwitchEditModeAction([], [element.id]));\n                }\n            });\n        }\n        if (!hasReconnected) {\n            var edgeInProgress = target.root.index.getById(model_2.edgeInProgressID);\n            if (edgeInProgress instanceof smodel_1.SChildElement) {\n                var deleteIds_1 = [];\n                deleteIds_1.push(model_2.edgeInProgressID);\n                edgeInProgress.children.forEach(function (c) {\n                    if (c instanceof model_2.SRoutingHandle && c.danglingAnchor)\n                        deleteIds_1.push(c.danglingAnchor.id);\n                });\n                result.push(new delete_1.DeleteElementAction(deleteIds_1));\n            }\n        }\n        if (this.hasDragged)\n            result.push(new commit_model_1.CommitModelAction());\n        this.hasDragged = false;\n        this.lastDragPosition = undefined;\n        return result;\n    };\n    MoveMouseListener.prototype.decorate = function (vnode, element) {\n        return vnode;\n    };\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry), inversify_1.optional(),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], MoveMouseListener.prototype, \"edgeRouterRegistry\", void 0);\n    return MoveMouseListener;\n}(mouse_tool_1.MouseListener));\nexports.MoveMouseListener = MoveMouseListener;\nvar LocationDecorator = /** @class */ (function () {\n    function LocationDecorator() {\n    }\n    LocationDecorator.prototype.decorate = function (vnode, element) {\n        var translate = '';\n        if (model_5.isLocateable(element) && element instanceof smodel_1.SChildElement && element.parent !== undefined) {\n            translate = 'translate(' + element.position.x + ', ' + element.position.y + ')';\n        }\n        if (model_1.isAlignable(element)) {\n            if (translate.length > 0)\n                translate += ' ';\n            translate += 'translate(' + element.alignment.x + ', ' + element.alignment.y + ')';\n        }\n        if (translate.length > 0)\n            vnode_utils_1.setAttr(vnode, 'transform', translate);\n        return vnode;\n    };\n    LocationDecorator.prototype.postUpdate = function () {\n    };\n    LocationDecorator = __decorate([\n        inversify_1.injectable()\n    ], LocationDecorator);\n    return LocationDecorator;\n}());\nexports.LocationDecorator = LocationDecorator;\n//# sourceMappingURL=move.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nameFeature = Symbol('nameableFeature');\nfunction isNameable(element) {\n    return element.hasFeature(exports.nameFeature);\n}\nexports.isNameable = isNameable;\nfunction name(element) {\n    if (isNameable(element)) {\n        return element.name;\n    }\n    else {\n        return undefined;\n    }\n}\nexports.name = name;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar open_1 = require(\"./open\");\nvar openModule = new inversify_1.ContainerModule(function (bind) {\n    bind(types_1.TYPES.MouseListener).to(open_1.OpenMouseListener);\n});\nexports.default = openModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.openFeature = Symbol('openFeature');\nfunction isOpenable(element) {\n    return element.hasFeature(exports.openFeature);\n}\nexports.isOpenable = isOpenable;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mouse_tool_1 = require(\"../../base/views/mouse-tool\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar model_1 = require(\"./model\");\nvar OpenAction = /** @class */ (function () {\n    function OpenAction(elementId) {\n        this.elementId = elementId;\n        this.kind = OpenAction.KIND;\n    }\n    OpenAction.KIND = 'open';\n    return OpenAction;\n}());\nexports.OpenAction = OpenAction;\nvar OpenMouseListener = /** @class */ (function (_super) {\n    __extends(OpenMouseListener, _super);\n    function OpenMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OpenMouseListener.prototype.doubleClick = function (target, event) {\n        var openableTarget = smodel_utils_1.findParentByFeature(target, model_1.isOpenable);\n        if (openableTarget !== undefined) {\n            return [new OpenAction(openableTarget.id)];\n        }\n        return [];\n    };\n    return OpenMouseListener;\n}(mouse_tool_1.MouseListener));\nexports.OpenMouseListener = OpenMouseListener;\n//# sourceMappingURL=open.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar registry_1 = require(\"../../utils/registry\");\nexports.DIAMOND_ANCHOR_KIND = 'diamond';\nexports.ELLIPTIC_ANCHOR_KIND = 'elliptic';\nexports.RECTANGULAR_ANCHOR_KIND = 'rectangular';\nvar AnchorComputerRegistry = /** @class */ (function (_super) {\n    __extends(AnchorComputerRegistry, _super);\n    function AnchorComputerRegistry(anchors) {\n        var _this = _super.call(this) || this;\n        anchors.forEach(function (anchor) { return _this.register(anchor.kind, anchor); });\n        return _this;\n    }\n    Object.defineProperty(AnchorComputerRegistry.prototype, \"defaultAnchorKind\", {\n        get: function () {\n            return exports.RECTANGULAR_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AnchorComputerRegistry.prototype.get = function (routerKind, anchorKind) {\n        return _super.prototype.get.call(this, routerKind + \":\" + (anchorKind || this.defaultAnchorKind));\n    };\n    AnchorComputerRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.IAnchorComputer)),\n        __metadata(\"design:paramtypes\", [Array])\n    ], AnchorComputerRegistry);\n    return AnchorComputerRegistry;\n}(registry_1.InstanceRegistry));\nexports.AnchorComputerRegistry = AnchorComputerRegistry;\n//# sourceMappingURL=anchor.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar manhattan_edge_router_1 = require(\"./manhattan-edge-router\");\nvar polyline_edge_router_1 = require(\"./polyline-edge-router\");\nvar manhattan_anchors_1 = require(\"./manhattan-anchors\");\nvar polyline_anchors_1 = require(\"./polyline-anchors\");\nvar anchor_1 = require(\"./anchor\");\nvar routing_1 = require(\"./routing\");\nvar routingModule = new inversify_1.ContainerModule(function (bind) {\n    bind(routing_1.EdgeRouterRegistry).toSelf().inSingletonScope();\n    bind(anchor_1.AnchorComputerRegistry).toSelf().inSingletonScope();\n    bind(manhattan_edge_router_1.ManhattanEdgeRouter).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IEdgeRouter).toService(manhattan_edge_router_1.ManhattanEdgeRouter);\n    bind(types_1.TYPES.IAnchorComputer).to(manhattan_anchors_1.ManhattanEllipticAnchor).inSingletonScope();\n    bind(types_1.TYPES.IAnchorComputer).to(manhattan_anchors_1.ManhattanRectangularAnchor).inSingletonScope();\n    bind(types_1.TYPES.IAnchorComputer).to(manhattan_anchors_1.ManhattanDiamondAnchor).inSingletonScope();\n    bind(polyline_edge_router_1.PolylineEdgeRouter).toSelf().inSingletonScope();\n    bind(types_1.TYPES.IEdgeRouter).toService(polyline_edge_router_1.PolylineEdgeRouter);\n    bind(types_1.TYPES.IAnchorComputer).to(polyline_anchors_1.EllipseAnchor);\n    bind(types_1.TYPES.IAnchorComputer).to(polyline_anchors_1.RectangleAnchor);\n    bind(types_1.TYPES.IAnchorComputer).to(polyline_anchors_1.DiamondAnchor);\n});\nexports.default = routingModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar model_1 = require(\"../routing/model\");\nvar anchor_1 = require(\"./anchor\");\nvar model_2 = require(\"./model\");\nvar Side;\n(function (Side) {\n    Side[Side[\"RIGHT\"] = 0] = \"RIGHT\";\n    Side[Side[\"LEFT\"] = 1] = \"LEFT\";\n    Side[Side[\"TOP\"] = 2] = \"TOP\";\n    Side[Side[\"BOTTOM\"] = 3] = \"BOTTOM\";\n})(Side = exports.Side || (exports.Side = {}));\nvar DefaultAnchors = /** @class */ (function () {\n    function DefaultAnchors(element, edgeParent, kind) {\n        this.element = element;\n        this.kind = kind;\n        var bounds = element.bounds;\n        this.bounds = smodel_utils_1.translateBounds(bounds, element.parent, edgeParent);\n        this.left = { x: this.bounds.x, y: this.bounds.y + 0.5 * this.bounds.height, kind: kind };\n        this.right = { x: this.bounds.x + this.bounds.width, y: this.bounds.y + 0.5 * this.bounds.height, kind: kind };\n        this.top = { x: this.bounds.x + 0.5 * this.bounds.width, y: this.bounds.y, kind: kind };\n        this.bottom = { x: this.bounds.x + 0.5 * this.bounds.width, y: this.bounds.y + this.bounds.height, kind: kind };\n    }\n    DefaultAnchors.prototype.get = function (side) {\n        return this[Side[side].toLowerCase()];\n    };\n    DefaultAnchors.prototype.getNearestSide = function (point) {\n        var leftDistance = geometry_1.euclideanDistance(point, this.left);\n        var rightDistance = geometry_1.euclideanDistance(point, this.right);\n        var topDistance = geometry_1.euclideanDistance(point, this.top);\n        var bottomDistance = geometry_1.euclideanDistance(point, this.bottom);\n        var currentNearestSide = Side.LEFT;\n        var currentMinDist = leftDistance;\n        if (rightDistance < currentMinDist) {\n            currentMinDist = rightDistance;\n            currentNearestSide = Side.RIGHT;\n        }\n        if (topDistance < currentMinDist) {\n            currentMinDist = topDistance;\n            currentNearestSide = Side.TOP;\n        }\n        if (bottomDistance < currentMinDist) {\n            currentMinDist = bottomDistance;\n            currentNearestSide = Side.BOTTOM;\n        }\n        return currentNearestSide;\n    };\n    return DefaultAnchors;\n}());\nexports.DefaultAnchors = DefaultAnchors;\nvar LinearEdgeRouter = /** @class */ (function () {\n    function LinearEdgeRouter() {\n    }\n    LinearEdgeRouter.prototype.pointAt = function (edge, t) {\n        var segments = this.calculateSegment(edge, t);\n        if (!segments)\n            return undefined;\n        var segmentStart = segments.segmentStart, segmentEnd = segments.segmentEnd, lambda = segments.lambda;\n        return geometry_1.linear(segmentStart, segmentEnd, lambda);\n    };\n    LinearEdgeRouter.prototype.derivativeAt = function (edge, t) {\n        var segments = this.calculateSegment(edge, t);\n        if (!segments)\n            return undefined;\n        var segmentStart = segments.segmentStart, segmentEnd = segments.segmentEnd;\n        return {\n            x: segmentEnd.x - segmentStart.x,\n            y: segmentEnd.y - segmentStart.y\n        };\n    };\n    LinearEdgeRouter.prototype.calculateSegment = function (edge, t) {\n        if (t < 0 || t > 1)\n            return undefined;\n        var routedPoints = this.route(edge);\n        if (routedPoints.length < 2)\n            return undefined;\n        var segmentLengths = [];\n        var totalLength = 0;\n        for (var i = 0; i < routedPoints.length - 1; ++i) {\n            segmentLengths[i] = geometry_1.euclideanDistance(routedPoints[i], routedPoints[i + 1]);\n            totalLength += segmentLengths[i];\n        }\n        var currentLenght = 0;\n        var tAsLenght = t * totalLength;\n        for (var i = 0; i < routedPoints.length - 1; ++i) {\n            var newLength = currentLenght + segmentLengths[i];\n            // avoid division by (almost) zero\n            if (segmentLengths[i] > 1E-8) {\n                if (newLength >= tAsLenght) {\n                    var lambda = Math.max(0, (tAsLenght - currentLenght)) / segmentLengths[i];\n                    return {\n                        segmentStart: routedPoints[i],\n                        segmentEnd: routedPoints[i + 1],\n                        lambda: lambda\n                    };\n                }\n            }\n            currentLenght = newLength;\n        }\n        return {\n            segmentEnd: routedPoints.pop(),\n            segmentStart: routedPoints.pop(),\n            lambda: 1\n        };\n    };\n    LinearEdgeRouter.prototype.addHandle = function (edge, kind, type, routingPointIndex) {\n        var handle = new model_1.SRoutingHandle();\n        handle.kind = kind;\n        handle.pointIndex = routingPointIndex;\n        handle.type = type;\n        if (kind === 'target' && edge.id === model_1.edgeInProgressID)\n            handle.id = model_1.edgeInProgressTargetHandleID;\n        edge.add(handle);\n        return handle;\n    };\n    LinearEdgeRouter.prototype.getHandlePosition = function (edge, route, handle) {\n        switch (handle.kind) {\n            case 'source':\n                if (edge.source instanceof model_1.SDanglingAnchor)\n                    return edge.source.position;\n                else\n                    return route[0];\n            case 'target':\n                if (edge.target instanceof model_1.SDanglingAnchor)\n                    return edge.target.position;\n                else {\n                    return route[route.length - 1];\n                }\n            default:\n                var position = this.getInnerHandlePosition(edge, route, handle);\n                if (position !== undefined)\n                    return position;\n                if (handle.pointIndex >= 0 && handle.pointIndex < edge.routingPoints.length)\n                    return edge.routingPoints[handle.pointIndex];\n        }\n        return undefined;\n    };\n    LinearEdgeRouter.prototype.findRouteSegment = function (edge, route, handleIndex) {\n        var getIndex = function (rp) {\n            if (rp.pointIndex !== undefined)\n                return rp.pointIndex;\n            else if (rp.kind === 'target')\n                return edge.routingPoints.length;\n            else\n                return -2;\n        };\n        var start, end;\n        for (var _i = 0, route_1 = route; _i < route_1.length; _i++) {\n            var rp = route_1[_i];\n            var i = getIndex(rp);\n            if (i <= handleIndex && (start === undefined || i > getIndex(start)))\n                start = rp;\n            if (i > handleIndex && (end === undefined || i < getIndex(end)))\n                end = rp;\n        }\n        return { start: start, end: end };\n    };\n    LinearEdgeRouter.prototype.getTranslatedAnchor = function (connectable, refPoint, refContainer, edge, anchorCorrection) {\n        if (anchorCorrection === void 0) { anchorCorrection = 0; }\n        var translatedRefPoint = smodel_utils_1.translatePoint(refPoint, refContainer, connectable.parent);\n        var anchorComputer = this.getAnchorComputer(connectable);\n        var strokeCorrection = 0.5 * connectable.strokeWidth;\n        var anchor = anchorComputer.getAnchor(connectable, translatedRefPoint, anchorCorrection + strokeCorrection);\n        return smodel_utils_1.translatePoint(anchor, connectable.parent, edge.parent);\n    };\n    LinearEdgeRouter.prototype.getAnchorComputer = function (connectable) {\n        return this.anchorRegistry.get(this.kind, connectable.anchorKind);\n    };\n    LinearEdgeRouter.prototype.applyHandleMoves = function (edge, moves) {\n        var remainingMoves = moves.slice();\n        moves.forEach(function (move) {\n            var handle = move.handle;\n            if (handle.kind === 'source' && !(edge.source instanceof model_1.SDanglingAnchor)) {\n                // detach source\n                var anchor = new model_1.SDanglingAnchor();\n                anchor.id = edge.id + '_dangling-source';\n                anchor.original = edge.source;\n                anchor.position = move.toPosition;\n                handle.root.add(anchor);\n                handle.danglingAnchor = anchor;\n                edge.sourceId = anchor.id;\n            }\n            else if (handle.kind === 'target' && !(edge.target instanceof model_1.SDanglingAnchor)) {\n                // detach target\n                var anchor = new model_1.SDanglingAnchor();\n                anchor.id = edge.id + '_dangling-target';\n                anchor.original = edge.target;\n                anchor.position = move.toPosition;\n                handle.root.add(anchor);\n                handle.danglingAnchor = anchor;\n                edge.targetId = anchor.id;\n            }\n            if (handle.danglingAnchor) {\n                handle.danglingAnchor.position = move.toPosition;\n                remainingMoves.splice(remainingMoves.indexOf(move), 1);\n            }\n        });\n        if (remainingMoves.length > 0)\n            this.applyInnerHandleMoves(edge, remainingMoves);\n        this.cleanupRoutingPoints(edge, edge.routingPoints, true, true);\n    };\n    LinearEdgeRouter.prototype.cleanupRoutingPoints = function (edge, routingPoints, updateHandles, addRoutingPoints) {\n        var sourceAnchors = new DefaultAnchors(edge.source, edge.parent, \"source\");\n        var targetAnchors = new DefaultAnchors(edge.target, edge.parent, \"target\");\n        this.resetRoutingPointsOnReconnect(edge, routingPoints, updateHandles, sourceAnchors, targetAnchors);\n    };\n    LinearEdgeRouter.prototype.resetRoutingPointsOnReconnect = function (edge, routingPoints, updateHandles, sourceAnchors, targetAnchors) {\n        if (routingPoints.length === 0 || edge.source instanceof model_1.SDanglingAnchor || edge.target instanceof model_1.SDanglingAnchor) {\n            var options = this.getOptions(edge);\n            var corners = this.calculateDefaultCorners(edge, sourceAnchors, targetAnchors, options);\n            routingPoints.splice.apply(routingPoints, [0, routingPoints.length].concat(corners));\n            if (updateHandles) {\n                var maxPointIndex_1 = -2;\n                edge.children.forEach(function (child) {\n                    if (child instanceof model_1.SRoutingHandle) {\n                        if (child.kind === 'target')\n                            child.pointIndex = routingPoints.length;\n                        else if (child.kind === 'line' && child.pointIndex >= routingPoints.length)\n                            edge.remove(child);\n                        else\n                            maxPointIndex_1 = Math.max(child.pointIndex, maxPointIndex_1);\n                    }\n                });\n                for (var i = maxPointIndex_1; i < routingPoints.length - 1; ++i)\n                    this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', i);\n            }\n            return true;\n        }\n        return false;\n    };\n    LinearEdgeRouter.prototype.applyReconnect = function (edge, newSourceId, newTargetId) {\n        var hasChanged = false;\n        if (newSourceId) {\n            var newSource = edge.root.index.getById(newSourceId);\n            if (newSource instanceof model_2.SConnectableElement) {\n                edge.sourceId = newSource.id;\n                hasChanged = true;\n            }\n        }\n        if (newTargetId) {\n            var newTarget = edge.root.index.getById(newTargetId);\n            if (newTarget instanceof model_2.SConnectableElement) {\n                edge.targetId = newTarget.id;\n                hasChanged = true;\n            }\n        }\n        if (hasChanged) {\n            // reset attached elements in index\n            edge.index.remove(edge);\n            edge.index.add(edge);\n            if (this.getSelfEdgeIndex(edge) > -1) {\n                edge.routingPoints = [];\n                this.cleanupRoutingPoints(edge, edge.routingPoints, true, true);\n            }\n        }\n    };\n    LinearEdgeRouter.prototype.takeSnapshot = function (edge) {\n        return {\n            routingPoints: edge.routingPoints.slice(),\n            routingHandles: edge.children\n                .filter(function (child) { return child instanceof model_1.SRoutingHandle; })\n                .map(function (child) { return child; }),\n            router: this,\n            source: edge.source,\n            target: edge.target\n        };\n    };\n    LinearEdgeRouter.prototype.applySnapshot = function (edge, snapshot) {\n        edge.routingPoints = snapshot.routingPoints;\n        edge.removeAll(function (child) { return child instanceof model_1.SRoutingHandle; });\n        edge.routerKind = snapshot.router.kind;\n        snapshot.routingHandles.forEach(function (handle) { return edge.add(handle); });\n        if (snapshot.source)\n            edge.sourceId = snapshot.source.id;\n        if (snapshot.target)\n            edge.targetId = snapshot.target.id;\n        // update index\n        edge.root.index.remove(edge);\n        edge.root.index.add(edge);\n    };\n    LinearEdgeRouter.prototype.calculateDefaultCorners = function (edge, sourceAnchors, targetAnchors, options) {\n        var selfEdgeIndex = this.getSelfEdgeIndex(edge);\n        if (selfEdgeIndex >= 0) {\n            var standardDist = options.standardDistance;\n            var delta = options.selfEdgeOffset * Math.min(sourceAnchors.bounds.width, sourceAnchors.bounds.height);\n            switch (selfEdgeIndex % 4) {\n                case 0:\n                    return [\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.RIGHT).y + delta },\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                        { x: sourceAnchors.get(Side.BOTTOM).x + delta, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                    ];\n                case 1:\n                    return [\n                        { x: sourceAnchors.get(Side.BOTTOM).x - delta, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.LEFT).y + delta },\n                    ];\n                case 2:\n                    return [\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.LEFT).y - delta },\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                        { x: sourceAnchors.get(Side.TOP).x - delta, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                    ];\n                case 3:\n                    return [\n                        { x: sourceAnchors.get(Side.TOP).x + delta, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.RIGHT).y - delta },\n                    ];\n            }\n        }\n        return [];\n    };\n    LinearEdgeRouter.prototype.getSelfEdgeIndex = function (edge) {\n        if (!edge.source || edge.source !== edge.target)\n            return -1;\n        return edge.source.outgoingEdges\n            .filter(function (otherEdge) { return otherEdge.target === edge.source; })\n            .indexOf(edge);\n    };\n    __decorate([\n        inversify_1.inject(anchor_1.AnchorComputerRegistry),\n        __metadata(\"design:type\", anchor_1.AnchorComputerRegistry)\n    ], LinearEdgeRouter.prototype, \"anchorRegistry\", void 0);\n    LinearEdgeRouter = __decorate([\n        inversify_1.injectable()\n    ], LinearEdgeRouter);\n    return LinearEdgeRouter;\n}());\nexports.LinearEdgeRouter = LinearEdgeRouter;\n//# sourceMappingURL=linear-edge-router.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar anchor_1 = require(\"./anchor\");\nvar manhattan_edge_router_1 = require(\"./manhattan-edge-router\");\nvar inversify_1 = require(\"inversify\");\nvar ManhattanRectangularAnchor = /** @class */ (function () {\n    function ManhattanRectangularAnchor() {\n    }\n    ManhattanRectangularAnchor_1 = ManhattanRectangularAnchor;\n    Object.defineProperty(ManhattanRectangularAnchor.prototype, \"kind\", {\n        get: function () {\n            return ManhattanRectangularAnchor_1.KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ManhattanRectangularAnchor.prototype.getAnchor = function (connectable, refPoint, offset) {\n        var b = connectable.bounds;\n        if (b.width <= 0 || b.height <= 0) {\n            return b;\n        }\n        var bounds = {\n            x: b.x - offset,\n            y: b.y - offset,\n            width: b.width + 2 * offset,\n            height: b.height + 2 * offset\n        };\n        if (refPoint.x >= bounds.x && bounds.x + bounds.width >= refPoint.x) {\n            if (refPoint.y < bounds.y + 0.5 * bounds.height)\n                return { x: refPoint.x, y: bounds.y };\n            else\n                return { x: refPoint.x, y: bounds.y + bounds.height };\n        }\n        if (refPoint.y >= bounds.y && bounds.y + bounds.height >= refPoint.y) {\n            if (refPoint.x < bounds.x + 0.5 * bounds.width)\n                return { x: bounds.x, y: refPoint.y };\n            else\n                return { x: bounds.x + bounds.width, y: refPoint.y };\n        }\n        return geometry_1.center(bounds);\n    };\n    var ManhattanRectangularAnchor_1;\n    ManhattanRectangularAnchor.KIND = manhattan_edge_router_1.ManhattanEdgeRouter.KIND + ':' + anchor_1.RECTANGULAR_ANCHOR_KIND;\n    ManhattanRectangularAnchor = ManhattanRectangularAnchor_1 = __decorate([\n        inversify_1.injectable()\n    ], ManhattanRectangularAnchor);\n    return ManhattanRectangularAnchor;\n}());\nexports.ManhattanRectangularAnchor = ManhattanRectangularAnchor;\nvar ManhattanDiamondAnchor = /** @class */ (function () {\n    function ManhattanDiamondAnchor() {\n    }\n    ManhattanDiamondAnchor_1 = ManhattanDiamondAnchor;\n    Object.defineProperty(ManhattanDiamondAnchor.prototype, \"kind\", {\n        get: function () {\n            return ManhattanDiamondAnchor_1.KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ManhattanDiamondAnchor.prototype.getAnchor = function (connectable, refPoint, offset) {\n        if (offset === void 0) { offset = 0; }\n        var b = connectable.bounds;\n        if (b.width <= 0 || b.height <= 0) {\n            return b;\n        }\n        var bounds = {\n            x: b.x - offset,\n            y: b.y - offset,\n            width: b.width + 2 * offset,\n            height: b.height + 2 * offset\n        };\n        var c = geometry_1.center(bounds);\n        var outline = undefined;\n        var refLine = undefined;\n        if (refPoint.x >= bounds.x && refPoint.x <= bounds.x + bounds.width) {\n            if (bounds.x + 0.5 * bounds.width >= refPoint.x) {\n                refLine = new geometry_1.PointToPointLine(refPoint, { x: refPoint.x, y: c.y });\n                if (refPoint.y < c.y)\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y });\n                else\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n            }\n            else {\n                refLine = new geometry_1.PointToPointLine(refPoint, { x: refPoint.x, y: c.y });\n                if (refPoint.y < c.y)\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y });\n                else\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n            }\n        }\n        else if (refPoint.y >= bounds.y && refPoint.y <= bounds.y + bounds.height) {\n            if (bounds.y + 0.5 * bounds.height >= refPoint.y) {\n                refLine = new geometry_1.PointToPointLine(refPoint, { x: c.x, y: refPoint.y });\n                if (refPoint.x < c.x)\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y });\n                else\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y });\n            }\n            else {\n                refLine = new geometry_1.PointToPointLine(refPoint, { x: c.x, y: refPoint.y });\n                if (refPoint.x < c.x)\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n                else\n                    outline = new geometry_1.PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n            }\n        }\n        if (!!refLine && !!outline)\n            return geometry_1.intersection(outline, refLine);\n        else\n            return c;\n    };\n    var ManhattanDiamondAnchor_1;\n    ManhattanDiamondAnchor.KIND = manhattan_edge_router_1.ManhattanEdgeRouter.KIND + ':' + anchor_1.DIAMOND_ANCHOR_KIND;\n    ManhattanDiamondAnchor = ManhattanDiamondAnchor_1 = __decorate([\n        inversify_1.injectable()\n    ], ManhattanDiamondAnchor);\n    return ManhattanDiamondAnchor;\n}());\nexports.ManhattanDiamondAnchor = ManhattanDiamondAnchor;\nvar ManhattanEllipticAnchor = /** @class */ (function () {\n    function ManhattanEllipticAnchor() {\n    }\n    ManhattanEllipticAnchor_1 = ManhattanEllipticAnchor;\n    Object.defineProperty(ManhattanEllipticAnchor.prototype, \"kind\", {\n        get: function () {\n            return ManhattanEllipticAnchor_1.KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ManhattanEllipticAnchor.prototype.getAnchor = function (connectable, refPoint, offset) {\n        if (offset === void 0) { offset = 0; }\n        var b = connectable.bounds;\n        if (b.width <= 0 || b.height <= 0) {\n            return b;\n        }\n        var bounds = {\n            x: b.x - offset,\n            y: b.y - offset,\n            width: b.width + 2 * offset,\n            height: b.height + 2 * offset\n        };\n        var c = geometry_1.center(bounds);\n        var refRelative = geometry_1.subtract(refPoint, c);\n        var x = c.x;\n        var y = c.y;\n        if (refPoint.x >= bounds.x && bounds.x + bounds.width >= refPoint.x) {\n            x += refRelative.x;\n            var dy = 0.5 * bounds.height * Math.sqrt(1 - (refRelative.x * refRelative.x) / (0.25 * bounds.width * bounds.width));\n            if (refRelative.y < 0)\n                y -= dy;\n            else\n                y += dy;\n        }\n        else if (refPoint.y >= bounds.y && bounds.y + bounds.height >= refPoint.y) {\n            y += refRelative.y;\n            var dx = 0.5 * bounds.width * Math.sqrt(1 - (refRelative.y * refRelative.y) / (0.25 * bounds.height * bounds.height));\n            if (refRelative.x < 0)\n                x -= dx;\n            else\n                x += dx;\n        }\n        return { x: x, y: y };\n    };\n    var ManhattanEllipticAnchor_1;\n    ManhattanEllipticAnchor.KIND = manhattan_edge_router_1.ManhattanEdgeRouter.KIND + ':' + anchor_1.ELLIPTIC_ANCHOR_KIND;\n    ManhattanEllipticAnchor = ManhattanEllipticAnchor_1 = __decorate([\n        inversify_1.injectable()\n    ], ManhattanEllipticAnchor);\n    return ManhattanEllipticAnchor;\n}());\nexports.ManhattanEllipticAnchor = ManhattanEllipticAnchor;\n//# sourceMappingURL=manhattan-anchors.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar linear_edge_router_1 = require(\"./linear-edge-router\");\nvar model_1 = require(\"./model\");\nvar ManhattanEdgeRouter = /** @class */ (function (_super) {\n    __extends(ManhattanEdgeRouter, _super);\n    function ManhattanEdgeRouter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ManhattanEdgeRouter.prototype, \"kind\", {\n        get: function () {\n            return ManhattanEdgeRouter.KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ManhattanEdgeRouter.prototype.getOptions = function (edge) {\n        return {\n            standardDistance: 20,\n            minimalPointDistance: 3,\n            selfEdgeOffset: 0.25\n        };\n    };\n    ManhattanEdgeRouter.prototype.route = function (edge) {\n        if (!edge.source || !edge.target)\n            return [];\n        var routedCorners = this.createRoutedCorners(edge);\n        var sourceRefPoint = routedCorners[0]\n            || smodel_utils_1.translatePoint(geometry_1.center(edge.target.bounds), edge.target.parent, edge.parent);\n        var sourceAnchor = this.getTranslatedAnchor(edge.source, sourceRefPoint, edge.parent, edge, edge.sourceAnchorCorrection);\n        var targetRefPoint = routedCorners[routedCorners.length - 1]\n            || smodel_utils_1.translatePoint(geometry_1.center(edge.source.bounds), edge.source.parent, edge.parent);\n        var targetAnchor = this.getTranslatedAnchor(edge.target, targetRefPoint, edge.parent, edge, edge.targetAnchorCorrection);\n        if (!sourceAnchor || !targetAnchor)\n            return [];\n        var routedPoints = [];\n        routedPoints.push(__assign({ kind: 'source' }, sourceAnchor));\n        routedCorners.forEach(function (corner) { return routedPoints.push(corner); });\n        routedPoints.push(__assign({ kind: 'target' }, targetAnchor));\n        return routedPoints;\n    };\n    ManhattanEdgeRouter.prototype.createRoutedCorners = function (edge) {\n        var sourceAnchors = new linear_edge_router_1.DefaultAnchors(edge.source, edge.parent, 'source');\n        var targetAnchors = new linear_edge_router_1.DefaultAnchors(edge.target, edge.parent, 'target');\n        if (edge.routingPoints.length > 0) {\n            var routingPointsCopy = edge.routingPoints.slice();\n            this.cleanupRoutingPoints(edge, routingPointsCopy, false, true);\n            if (routingPointsCopy.length > 0)\n                return routingPointsCopy.map(function (routingPoint, index) {\n                    return __assign({ kind: 'linear', pointIndex: index }, routingPoint);\n                });\n        }\n        var options = this.getOptions(edge);\n        var corners = this.calculateDefaultCorners(edge, sourceAnchors, targetAnchors, options);\n        return corners.map(function (corner) {\n            return __assign({ kind: 'linear' }, corner);\n        });\n    };\n    ManhattanEdgeRouter.prototype.createRoutingHandles = function (edge) {\n        var routedPoints = this.route(edge);\n        this.commitRoute(edge, routedPoints);\n        if (routedPoints.length > 0) {\n            this.addHandle(edge, 'source', 'routing-point', -2);\n            for (var i = 0; i < routedPoints.length - 1; ++i)\n                this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', i - 1);\n            this.addHandle(edge, 'target', 'routing-point', routedPoints.length - 2);\n        }\n    };\n    ManhattanEdgeRouter.prototype.getInnerHandlePosition = function (edge, route, handle) {\n        var fraction = this.getFraction(handle.kind);\n        if (fraction !== undefined) {\n            var _a = this.findRouteSegment(edge, route, handle.pointIndex), start = _a.start, end = _a.end;\n            if (start !== undefined && end !== undefined)\n                return geometry_1.linear(start, end, fraction);\n        }\n        return undefined;\n    };\n    ManhattanEdgeRouter.prototype.getFraction = function (kind) {\n        switch (kind) {\n            case 'manhattan-50%': return 0.5;\n            default: return undefined;\n        }\n    };\n    ManhattanEdgeRouter.prototype.commitRoute = function (edge, routedPoints) {\n        var newRoutingPoints = [];\n        for (var i = 1; i < routedPoints.length - 1; ++i)\n            newRoutingPoints.push({ x: routedPoints[i].x, y: routedPoints[i].y });\n        edge.routingPoints = newRoutingPoints;\n    };\n    ManhattanEdgeRouter.prototype.applyInnerHandleMoves = function (edge, moves) {\n        var _this = this;\n        var route = this.route(edge);\n        var routingPoints = edge.routingPoints;\n        var minimalPointDistance = this.getOptions(edge).minimalPointDistance;\n        moves.forEach(function (move) {\n            var handle = move.handle;\n            var index = handle.pointIndex;\n            var correctedX = _this.correctX(routingPoints, index, move.toPosition.x, minimalPointDistance);\n            var correctedY = _this.correctY(routingPoints, index, move.toPosition.y, minimalPointDistance);\n            switch (handle.kind) {\n                case 'manhattan-50%':\n                    if (index < 0) {\n                        if (geometry_1.almostEquals(route[0].x, route[1].x))\n                            _this.alignX(routingPoints, 0, correctedX);\n                        else\n                            _this.alignY(routingPoints, 0, correctedY);\n                    }\n                    else if (index < routingPoints.length - 1) {\n                        if (geometry_1.almostEquals(routingPoints[index].x, routingPoints[index + 1].x)) {\n                            _this.alignX(routingPoints, index, correctedX);\n                            _this.alignX(routingPoints, index + 1, correctedX);\n                        }\n                        else {\n                            _this.alignY(routingPoints, index, correctedY);\n                            _this.alignY(routingPoints, index + 1, correctedY);\n                        }\n                    }\n                    else {\n                        if (geometry_1.almostEquals(route[route.length - 2].x, route[route.length - 1].x))\n                            _this.alignX(routingPoints, routingPoints.length - 1, correctedX);\n                        else\n                            _this.alignY(routingPoints, routingPoints.length - 1, correctedY);\n                    }\n                    break;\n            }\n        });\n    };\n    ManhattanEdgeRouter.prototype.correctX = function (routingPoints, index, x, minimalPointDistance) {\n        if (index > 0 && Math.abs(x - routingPoints[index - 1].x) < minimalPointDistance)\n            return routingPoints[index - 1].x;\n        else if (index < routingPoints.length - 2 && Math.abs(x - routingPoints[index + 2].x) < minimalPointDistance)\n            return routingPoints[index + 2].x;\n        else\n            return x;\n    };\n    ManhattanEdgeRouter.prototype.alignX = function (routingPoints, index, x) {\n        if (index >= 0 && index < routingPoints.length)\n            routingPoints[index] = {\n                x: x,\n                y: routingPoints[index].y\n            };\n    };\n    ManhattanEdgeRouter.prototype.correctY = function (routingPoints, index, y, minimalPointDistance) {\n        if (index > 0 && Math.abs(y - routingPoints[index - 1].y) < minimalPointDistance)\n            return routingPoints[index - 1].y;\n        else if (index < routingPoints.length - 2 && Math.abs(y - routingPoints[index + 2].y) < minimalPointDistance)\n            return routingPoints[index + 2].y;\n        else\n            return y;\n    };\n    ManhattanEdgeRouter.prototype.alignY = function (routingPoints, index, y) {\n        if (index >= 0 && index < routingPoints.length)\n            routingPoints[index] = {\n                x: routingPoints[index].x,\n                y: y\n            };\n    };\n    ManhattanEdgeRouter.prototype.cleanupRoutingPoints = function (edge, routingPoints, updateHandles, addRoutingPoints) {\n        var sourceAnchors = new linear_edge_router_1.DefaultAnchors(edge.source, edge.parent, \"source\");\n        var targetAnchors = new linear_edge_router_1.DefaultAnchors(edge.target, edge.parent, \"target\");\n        if (this.resetRoutingPointsOnReconnect(edge, routingPoints, updateHandles, sourceAnchors, targetAnchors))\n            return;\n        // delete leading RPs inside the bounds of the source\n        for (var i = 0; i < routingPoints.length; ++i)\n            if (geometry_1.includes(sourceAnchors.bounds, routingPoints[i])) {\n                routingPoints.splice(0, 1);\n                if (updateHandles) {\n                    this.removeHandle(edge, -1);\n                }\n            }\n            else {\n                break;\n            }\n        // delete trailing RPs inside the bounds of the target\n        for (var i = routingPoints.length - 1; i >= 0; --i)\n            if (geometry_1.includes(targetAnchors.bounds, routingPoints[i])) {\n                routingPoints.splice(i, 1);\n                if (updateHandles) {\n                    this.removeHandle(edge, i);\n                }\n            }\n            else {\n                break;\n            }\n        if (routingPoints.length >= 2) {\n            var options = this.getOptions(edge);\n            for (var i = routingPoints.length - 2; i >= 0; --i) {\n                if (geometry_1.manhattanDistance(routingPoints[i], routingPoints[i + 1]) < options.minimalPointDistance) {\n                    routingPoints.splice(i, 2);\n                    --i;\n                    if (updateHandles) {\n                        this.removeHandle(edge, i - 1);\n                        this.removeHandle(edge, i);\n                    }\n                }\n            }\n        }\n        if (addRoutingPoints) {\n            this.addAdditionalCorner(edge, routingPoints, sourceAnchors, targetAnchors, updateHandles);\n            this.addAdditionalCorner(edge, routingPoints, targetAnchors, sourceAnchors, updateHandles);\n        }\n    };\n    ManhattanEdgeRouter.prototype.removeHandle = function (edge, pointIndex) {\n        var toBeRemoved = [];\n        edge.children.forEach(function (child) {\n            if (child instanceof model_1.SRoutingHandle) {\n                if (child.pointIndex > pointIndex)\n                    --child.pointIndex;\n                else if (child.pointIndex === pointIndex)\n                    toBeRemoved.push(child);\n            }\n        });\n        toBeRemoved.forEach(function (child) { return edge.remove(child); });\n    };\n    ManhattanEdgeRouter.prototype.addAdditionalCorner = function (edge, routingPoints, currentAnchors, otherAnchors, updateHandles) {\n        if (routingPoints.length === 0)\n            return;\n        var refPoint = currentAnchors.kind === 'source' ? routingPoints[0] : routingPoints[routingPoints.length - 1];\n        var index = currentAnchors.kind === 'source' ? 0 : routingPoints.length;\n        var shiftIndex = index - (currentAnchors.kind === 'source' ? 1 : 0);\n        var isHorizontal;\n        if (routingPoints.length > 1) {\n            isHorizontal = index === 0\n                ? geometry_1.almostEquals(routingPoints[0].x, routingPoints[1].x)\n                : geometry_1.almostEquals(routingPoints[routingPoints.length - 1].x, routingPoints[routingPoints.length - 2].x);\n        }\n        else {\n            var nearestSide = otherAnchors.getNearestSide(refPoint);\n            isHorizontal = nearestSide === linear_edge_router_1.Side.TOP || nearestSide === linear_edge_router_1.Side.BOTTOM;\n        }\n        if (isHorizontal) {\n            if (refPoint.y < currentAnchors.get(linear_edge_router_1.Side.TOP).y || refPoint.y > currentAnchors.get(linear_edge_router_1.Side.BOTTOM).y) {\n                var newPoint = { x: currentAnchors.get(linear_edge_router_1.Side.TOP).x, y: refPoint.y };\n                routingPoints.splice(index, 0, newPoint);\n                if (updateHandles) {\n                    edge.children.forEach(function (child) {\n                        if (child instanceof model_1.SRoutingHandle && child.pointIndex >= shiftIndex)\n                            ++child.pointIndex;\n                    });\n                    this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', shiftIndex);\n                }\n            }\n        }\n        else {\n            if (refPoint.x < currentAnchors.get(linear_edge_router_1.Side.LEFT).x || refPoint.x > currentAnchors.get(linear_edge_router_1.Side.RIGHT).x) {\n                var newPoint = { x: refPoint.x, y: currentAnchors.get(linear_edge_router_1.Side.LEFT).y };\n                routingPoints.splice(index, 0, newPoint);\n                if (updateHandles) {\n                    edge.children.forEach(function (child) {\n                        if (child instanceof model_1.SRoutingHandle && child.pointIndex >= shiftIndex)\n                            ++child.pointIndex;\n                    });\n                    this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', shiftIndex);\n                }\n            }\n        }\n    };\n    ManhattanEdgeRouter.prototype.calculateDefaultCorners = function (edge, sourceAnchors, targetAnchors, options) {\n        var selfEdge = _super.prototype.calculateDefaultCorners.call(this, edge, sourceAnchors, targetAnchors, options);\n        if (selfEdge.length > 0)\n            return selfEdge;\n        var bestAnchors = this.getBestConnectionAnchors(edge, sourceAnchors, targetAnchors, options);\n        var sourceSide = bestAnchors.source;\n        var targetSide = bestAnchors.target;\n        var corners = [];\n        var startPoint = sourceAnchors.get(sourceSide);\n        var endPoint = targetAnchors.get(targetSide);\n        switch (sourceSide) {\n            case linear_edge_router_1.Side.RIGHT:\n                switch (targetSide) {\n                    case linear_edge_router_1.Side.BOTTOM:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    case linear_edge_router_1.Side.TOP:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    case linear_edge_router_1.Side.RIGHT:\n                        corners.push({ x: Math.max(startPoint.x, endPoint.x) + 1.5 * options.standardDistance, y: startPoint.y });\n                        corners.push({ x: Math.max(startPoint.x, endPoint.x) + 1.5 * options.standardDistance, y: endPoint.y });\n                        break;\n                    case linear_edge_router_1.Side.LEFT:\n                        if (endPoint.y !== startPoint.y) {\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: startPoint.y });\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: endPoint.y });\n                        }\n                        break;\n                }\n                break;\n            case linear_edge_router_1.Side.LEFT:\n                switch (targetSide) {\n                    case linear_edge_router_1.Side.BOTTOM:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    case linear_edge_router_1.Side.TOP:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    default:\n                        endPoint = targetAnchors.get(linear_edge_router_1.Side.RIGHT);\n                        if (endPoint.y !== startPoint.y) {\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: startPoint.y });\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: endPoint.y });\n                        }\n                        break;\n                }\n                break;\n            case linear_edge_router_1.Side.TOP:\n                switch (targetSide) {\n                    case linear_edge_router_1.Side.RIGHT:\n                        if ((endPoint.x - startPoint.x) > 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: endPoint.y });\n                        }\n                        else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    case linear_edge_router_1.Side.LEFT:\n                        if ((endPoint.x - startPoint.x) < 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: endPoint.y });\n                        }\n                        else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    case linear_edge_router_1.Side.TOP:\n                        corners.push({ x: startPoint.x, y: Math.min(startPoint.y, endPoint.y) - 1.5 * options.standardDistance });\n                        corners.push({ x: endPoint.x, y: Math.min(startPoint.y, endPoint.y) - 1.5 * options.standardDistance });\n                        break;\n                    case linear_edge_router_1.Side.BOTTOM:\n                        if (endPoint.x !== startPoint.x) {\n                            corners.push({ x: startPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                            corners.push({ x: endPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                        }\n                        break;\n                }\n                break;\n            case linear_edge_router_1.Side.BOTTOM:\n                switch (targetSide) {\n                    case linear_edge_router_1.Side.RIGHT:\n                        if ((endPoint.x - startPoint.x) > 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: endPoint.y });\n                        }\n                        else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    case linear_edge_router_1.Side.LEFT:\n                        if ((endPoint.x - startPoint.x) < 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: endPoint.y });\n                        }\n                        else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    default:\n                        endPoint = targetAnchors.get(linear_edge_router_1.Side.TOP);\n                        if (endPoint.x !== startPoint.x) {\n                            corners.push({ x: startPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                            corners.push({ x: endPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                        }\n                        break;\n                }\n                break;\n        }\n        return corners;\n    };\n    ManhattanEdgeRouter.prototype.getBestConnectionAnchors = function (edge, sourceAnchors, targetAnchors, options) {\n        // distance is enough\n        var sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.RIGHT);\n        var targetPoint = targetAnchors.get(linear_edge_router_1.Side.LEFT);\n        if ((targetPoint.x - sourcePoint.x) > options.standardDistance)\n            return { source: linear_edge_router_1.Side.RIGHT, target: linear_edge_router_1.Side.LEFT };\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.LEFT);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.RIGHT);\n        if ((sourcePoint.x - targetPoint.x) > options.standardDistance)\n            return { source: linear_edge_router_1.Side.LEFT, target: linear_edge_router_1.Side.RIGHT };\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.TOP);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.BOTTOM);\n        if ((sourcePoint.y - targetPoint.y) > options.standardDistance)\n            return { source: linear_edge_router_1.Side.TOP, target: linear_edge_router_1.Side.BOTTOM };\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.BOTTOM);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.TOP);\n        if ((targetPoint.y - sourcePoint.y) > options.standardDistance)\n            return { source: linear_edge_router_1.Side.BOTTOM, target: linear_edge_router_1.Side.TOP };\n        // One additional point\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.RIGHT);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.TOP);\n        if (((targetPoint.x - sourcePoint.x) > 0.5 * options.standardDistance) && ((targetPoint.y - sourcePoint.y) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.RIGHT, target: linear_edge_router_1.Side.TOP };\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.BOTTOM);\n        if (((targetPoint.x - sourcePoint.x) > 0.5 * options.standardDistance) && ((sourcePoint.y - targetPoint.y) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.RIGHT, target: linear_edge_router_1.Side.BOTTOM };\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.LEFT);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.BOTTOM);\n        if (((sourcePoint.x - targetPoint.x) > 0.5 * options.standardDistance) && ((sourcePoint.y - targetPoint.y) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.LEFT, target: linear_edge_router_1.Side.BOTTOM };\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.TOP);\n        if (((sourcePoint.x - targetPoint.x) > 0.5 * options.standardDistance) && ((targetPoint.y - sourcePoint.y) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.LEFT, target: linear_edge_router_1.Side.TOP };\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.TOP);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.RIGHT);\n        if (((sourcePoint.y - targetPoint.y) > 0.5 * options.standardDistance) && ((sourcePoint.x - targetPoint.x) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.TOP, target: linear_edge_router_1.Side.RIGHT };\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.LEFT);\n        if (((sourcePoint.y - targetPoint.y) > 0.5 * options.standardDistance) && ((targetPoint.x - sourcePoint.x) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.TOP, target: linear_edge_router_1.Side.LEFT };\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.BOTTOM);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.RIGHT);\n        if (((targetPoint.y - sourcePoint.y) > 0.5 * options.standardDistance) && ((sourcePoint.x - targetPoint.x) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.BOTTOM, target: linear_edge_router_1.Side.RIGHT };\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.LEFT);\n        if (((targetPoint.y - sourcePoint.y) > 0.5 * options.standardDistance) && ((targetPoint.x - sourcePoint.x) > options.standardDistance))\n            return { source: linear_edge_router_1.Side.BOTTOM, target: linear_edge_router_1.Side.LEFT };\n        // Two points\n        // priority NN >> EE >> NE >> NW >> SE >> SW\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.TOP);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.TOP);\n        if (!geometry_1.includes(targetAnchors.bounds, sourcePoint) && !geometry_1.includes(sourceAnchors.bounds, targetPoint)) {\n            if ((sourcePoint.y - targetPoint.y) < 0) {\n                if (Math.abs(sourcePoint.x - targetPoint.x) > ((sourceAnchors.bounds.width + options.standardDistance) / 2))\n                    return { source: linear_edge_router_1.Side.TOP, target: linear_edge_router_1.Side.TOP };\n            }\n            else {\n                if (Math.abs(sourcePoint.x - targetPoint.x) > (targetAnchors.bounds.width / 2))\n                    return { source: linear_edge_router_1.Side.TOP, target: linear_edge_router_1.Side.TOP };\n            }\n        }\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.RIGHT);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.RIGHT);\n        if (!geometry_1.includes(targetAnchors.bounds, sourcePoint) && !geometry_1.includes(sourceAnchors.bounds, targetPoint)) {\n            if ((sourcePoint.x - targetPoint.x) > 0) {\n                if (Math.abs(sourcePoint.y - targetPoint.y) > ((sourceAnchors.bounds.height + options.standardDistance) / 2))\n                    return { source: linear_edge_router_1.Side.RIGHT, target: linear_edge_router_1.Side.RIGHT };\n            }\n            else if (Math.abs(sourcePoint.y - targetPoint.y) > (targetAnchors.bounds.height / 2))\n                return { source: linear_edge_router_1.Side.RIGHT, target: linear_edge_router_1.Side.RIGHT };\n        }\n        // Secondly, judge NE NW is available\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.TOP);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.RIGHT);\n        if (!geometry_1.includes(targetAnchors.bounds, sourcePoint) && !geometry_1.includes(sourceAnchors.bounds, targetPoint))\n            return { source: linear_edge_router_1.Side.TOP, target: linear_edge_router_1.Side.RIGHT };\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.LEFT);\n        if (!geometry_1.includes(targetAnchors.bounds, sourcePoint) && !geometry_1.includes(sourceAnchors.bounds, targetPoint))\n            return { source: linear_edge_router_1.Side.TOP, target: linear_edge_router_1.Side.LEFT };\n        // Finally, judge SE SW is available\n        sourcePoint = sourceAnchors.get(linear_edge_router_1.Side.BOTTOM);\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.RIGHT);\n        if (!geometry_1.includes(targetAnchors.bounds, sourcePoint) && !geometry_1.includes(sourceAnchors.bounds, targetPoint))\n            return { source: linear_edge_router_1.Side.BOTTOM, target: linear_edge_router_1.Side.RIGHT };\n        targetPoint = targetAnchors.get(linear_edge_router_1.Side.LEFT);\n        if (!geometry_1.includes(targetAnchors.bounds, sourcePoint) && !geometry_1.includes(sourceAnchors.bounds, targetPoint))\n            return { source: linear_edge_router_1.Side.BOTTOM, target: linear_edge_router_1.Side.LEFT };\n        // Only to return to the\n        return { source: linear_edge_router_1.Side.RIGHT, target: linear_edge_router_1.Side.BOTTOM };\n    };\n    ManhattanEdgeRouter.KIND = 'manhattan';\n    return ManhattanEdgeRouter;\n}(linear_edge_router_1.LinearEdgeRouter));\nexports.ManhattanEdgeRouter = ManhattanEdgeRouter;\n//# sourceMappingURL=manhattan-edge-router.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar model_1 = require(\"../bounds/model\");\nvar delete_1 = require(\"../edit/delete\");\nvar model_2 = require(\"../select/model\");\nvar model_3 = require(\"../hover/model\");\nvar model_4 = require(\"../move/model\");\nvar SRoutableElement = /** @class */ (function (_super) {\n    __extends(SRoutableElement, _super);\n    function SRoutableElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.routingPoints = [];\n        return _this;\n    }\n    Object.defineProperty(SRoutableElement.prototype, \"source\", {\n        get: function () {\n            return this.index.getById(this.sourceId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SRoutableElement.prototype, \"target\", {\n        get: function () {\n            return this.index.getById(this.targetId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SRoutableElement.prototype, \"bounds\", {\n        get: function () {\n            // this should also work for splines, which have the convex hull property\n            return this.routingPoints.reduce(function (bounds, routingPoint) { return geometry_1.combine(bounds, {\n                x: routingPoint.x,\n                y: routingPoint.y,\n                width: 0,\n                height: 0\n            }); }, geometry_1.EMPTY_BOUNDS);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return SRoutableElement;\n}(smodel_1.SChildElement));\nexports.SRoutableElement = SRoutableElement;\nexports.connectableFeature = Symbol('connectableFeature');\nfunction isConnectable(element) {\n    return element.hasFeature(exports.connectableFeature) && element.canConnect;\n}\nexports.isConnectable = isConnectable;\n/**\n * A connectable element is one that can have outgoing and incoming edges, i.e. it can be the source\n * or target element of an edge. There are two kinds of connectable elements: nodes (`SNode`) and\n * ports (`SPort`). A node represents a main entity, while a port is a connection point inside a node.\n */\nvar SConnectableElement = /** @class */ (function (_super) {\n    __extends(SConnectableElement, _super);\n    function SConnectableElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.strokeWidth = 0;\n        return _this;\n    }\n    Object.defineProperty(SConnectableElement.prototype, \"incomingEdges\", {\n        /**\n         * The incoming edges of this connectable element. They are resolved by the index, which must\n         * be an `SGraphIndex`.\n         */\n        get: function () {\n            return this.index.getIncomingEdges(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(SConnectableElement.prototype, \"outgoingEdges\", {\n        /**\n         * The outgoing edges of this connectable element. They are resolved by the index, which must\n         * be an `SGraphIndex`.\n         */\n        get: function () {\n            return this.index.getOutgoingEdges(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SConnectableElement.prototype.canConnect = function (routable, role) {\n        return true;\n    };\n    return SConnectableElement;\n}(model_1.SShapeElement));\nexports.SConnectableElement = SConnectableElement;\nvar SRoutingHandle = /** @class */ (function (_super) {\n    __extends(SRoutingHandle, _super);\n    function SRoutingHandle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** Whether the routing point is being dragged. */\n        _this.editMode = false;\n        _this.hoverFeedback = false;\n        _this.selected = false;\n        return _this;\n    }\n    SRoutingHandle.prototype.hasFeature = function (feature) {\n        return feature === model_2.selectFeature || feature === model_4.moveFeature || feature === model_3.hoverFeedbackFeature;\n    };\n    return SRoutingHandle;\n}(smodel_1.SChildElement));\nexports.SRoutingHandle = SRoutingHandle;\nvar SDanglingAnchor = /** @class */ (function (_super) {\n    __extends(SDanglingAnchor, _super);\n    function SDanglingAnchor() {\n        var _this = _super.call(this) || this;\n        _this.type = 'dangling-anchor';\n        _this.size = { width: 0, height: 0 };\n        return _this;\n    }\n    SDanglingAnchor.prototype.hasFeature = function (feature) {\n        return feature === delete_1.deletableFeature;\n    };\n    return SDanglingAnchor;\n}(SConnectableElement));\nexports.SDanglingAnchor = SDanglingAnchor;\nexports.edgeInProgressID = 'edge-in-progress';\nexports.edgeInProgressTargetHandleID = exports.edgeInProgressID + '-target-anchor';\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar anchor_1 = require(\"./anchor\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar inversify_1 = require(\"inversify\");\nvar polyline_edge_router_1 = require(\"./polyline-edge-router\");\nvar EllipseAnchor = /** @class */ (function () {\n    function EllipseAnchor() {\n    }\n    Object.defineProperty(EllipseAnchor.prototype, \"kind\", {\n        get: function () {\n            return polyline_edge_router_1.PolylineEdgeRouter.KIND + ':' + anchor_1.ELLIPTIC_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EllipseAnchor.prototype.getAnchor = function (connectable, refPoint, offset) {\n        if (offset === void 0) { offset = 0; }\n        var bounds = connectable.bounds;\n        var c = geometry_1.center(bounds);\n        var dx = c.x - refPoint.x;\n        var dy = c.y - refPoint.y;\n        var distance = Math.sqrt(dx * dx + dy * dy);\n        var normX = (dx / distance) || 0;\n        var normY = (dy / distance) || 0;\n        return {\n            x: c.x - normX * (0.5 * bounds.width + offset),\n            y: c.y - normY * (0.5 * bounds.height + offset)\n        };\n    };\n    EllipseAnchor = __decorate([\n        inversify_1.injectable()\n    ], EllipseAnchor);\n    return EllipseAnchor;\n}());\nexports.EllipseAnchor = EllipseAnchor;\nvar RectangleAnchor = /** @class */ (function () {\n    function RectangleAnchor() {\n    }\n    Object.defineProperty(RectangleAnchor.prototype, \"kind\", {\n        get: function () {\n            return polyline_edge_router_1.PolylineEdgeRouter.KIND + ':' + anchor_1.RECTANGULAR_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RectangleAnchor.prototype.getAnchor = function (connectable, refPoint, offset) {\n        if (offset === void 0) { offset = 0; }\n        var bounds = connectable.bounds;\n        var c = geometry_1.center(bounds);\n        var finder = new NearestPointFinder(c, refPoint);\n        if (!geometry_1.almostEquals(c.y, refPoint.y)) {\n            var xTop = this.getXIntersection(bounds.y, c, refPoint);\n            if (xTop >= bounds.x && xTop <= bounds.x + bounds.width)\n                finder.addCandidate(xTop, bounds.y - offset);\n            var xBottom = this.getXIntersection(bounds.y + bounds.height, c, refPoint);\n            if (xBottom >= bounds.x && xBottom <= bounds.x + bounds.width)\n                finder.addCandidate(xBottom, bounds.y + bounds.height + offset);\n        }\n        if (!geometry_1.almostEquals(c.x, refPoint.x)) {\n            var yLeft = this.getYIntersection(bounds.x, c, refPoint);\n            if (yLeft >= bounds.y && yLeft <= bounds.y + bounds.height)\n                finder.addCandidate(bounds.x - offset, yLeft);\n            var yRight = this.getYIntersection(bounds.x + bounds.width, c, refPoint);\n            if (yRight >= bounds.y && yRight <= bounds.y + bounds.height)\n                finder.addCandidate(bounds.x + bounds.width + offset, yRight);\n        }\n        return finder.best;\n    };\n    RectangleAnchor.prototype.getXIntersection = function (yIntersection, centerPoint, point) {\n        var t = (yIntersection - centerPoint.y) / (point.y - centerPoint.y);\n        return (point.x - centerPoint.x) * t + centerPoint.x;\n    };\n    RectangleAnchor.prototype.getYIntersection = function (xIntersection, centerPoint, point) {\n        var t = (xIntersection - centerPoint.x) / (point.x - centerPoint.x);\n        return (point.y - centerPoint.y) * t + centerPoint.y;\n    };\n    RectangleAnchor = __decorate([\n        inversify_1.injectable()\n    ], RectangleAnchor);\n    return RectangleAnchor;\n}());\nexports.RectangleAnchor = RectangleAnchor;\nvar NearestPointFinder = /** @class */ (function () {\n    function NearestPointFinder(centerPoint, refPoint) {\n        this.centerPoint = centerPoint;\n        this.refPoint = refPoint;\n        this.currentDist = -1;\n    }\n    NearestPointFinder.prototype.addCandidate = function (x, y) {\n        var dx = this.refPoint.x - x;\n        var dy = this.refPoint.y - y;\n        var dist = dx * dx + dy * dy;\n        if (this.currentDist < 0 || dist < this.currentDist) {\n            this.currentBest = {\n                x: x,\n                y: y\n            };\n            this.currentDist = dist;\n        }\n    };\n    Object.defineProperty(NearestPointFinder.prototype, \"best\", {\n        get: function () {\n            if (this.currentBest === undefined)\n                return this.centerPoint;\n            else\n                return this.currentBest;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NearestPointFinder;\n}());\nvar DiamondAnchor = /** @class */ (function () {\n    function DiamondAnchor() {\n    }\n    Object.defineProperty(DiamondAnchor.prototype, \"kind\", {\n        get: function () {\n            return polyline_edge_router_1.PolylineEdgeRouter.KIND + ':' + anchor_1.DIAMOND_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DiamondAnchor.prototype.getAnchor = function (connectable, refPoint, offset) {\n        var bounds = connectable.bounds;\n        var referenceLine = new geometry_1.PointToPointLine(geometry_1.center(bounds), refPoint);\n        var closestDiamondSide = new geometry_1.Diamond(bounds).closestSideLine(refPoint);\n        var anchorPoint = geometry_1.intersection(closestDiamondSide, referenceLine);\n        return geometry_1.shiftTowards(anchorPoint, refPoint, offset);\n    };\n    DiamondAnchor = __decorate([\n        inversify_1.injectable()\n    ], DiamondAnchor);\n    return DiamondAnchor;\n}());\nexports.DiamondAnchor = DiamondAnchor;\n//# sourceMappingURL=polyline-anchors.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar model_1 = require(\"./model\");\nvar anchor_1 = require(\"./anchor\");\nvar linear_edge_router_1 = require(\"./linear-edge-router\");\nvar PolylineEdgeRouter = /** @class */ (function (_super) {\n    __extends(PolylineEdgeRouter, _super);\n    function PolylineEdgeRouter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PolylineEdgeRouter_1 = PolylineEdgeRouter;\n    Object.defineProperty(PolylineEdgeRouter.prototype, \"kind\", {\n        get: function () {\n            return PolylineEdgeRouter_1.KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PolylineEdgeRouter.prototype.getOptions = function (edge) {\n        return {\n            minimalPointDistance: 2,\n            removeAngleThreshold: 0.1,\n            standardDistance: 20,\n            selfEdgeOffset: 0.25\n        };\n    };\n    PolylineEdgeRouter.prototype.route = function (edge) {\n        var source = edge.source;\n        var target = edge.target;\n        if (source === undefined || target === undefined) {\n            return [];\n        }\n        var sourceAnchor;\n        var targetAnchor;\n        var options = this.getOptions(edge);\n        var routingPoints = edge.routingPoints.length > 0\n            ? edge.routingPoints\n            : [];\n        this.cleanupRoutingPoints(edge, routingPoints, false, false);\n        var rpCount = routingPoints !== undefined ? routingPoints.length : 0;\n        if (rpCount === 0) {\n            // Use the target center as start anchor reference\n            var startRef = geometry_1.center(target.bounds);\n            sourceAnchor = this.getTranslatedAnchor(source, startRef, target.parent, edge, edge.sourceAnchorCorrection);\n            // Use the source center as end anchor reference\n            var endRef = geometry_1.center(source.bounds);\n            targetAnchor = this.getTranslatedAnchor(target, endRef, source.parent, edge, edge.targetAnchorCorrection);\n        }\n        else {\n            // Use the first routing point as start anchor reference\n            var p0 = routingPoints[0];\n            sourceAnchor = this.getTranslatedAnchor(source, p0, edge.parent, edge, edge.sourceAnchorCorrection);\n            // Use the last routing point as end anchor reference\n            var pn = routingPoints[rpCount - 1];\n            targetAnchor = this.getTranslatedAnchor(target, pn, edge.parent, edge, edge.targetAnchorCorrection);\n        }\n        var result = [];\n        result.push({ kind: 'source', x: sourceAnchor.x, y: sourceAnchor.y });\n        for (var i = 0; i < rpCount; i++) {\n            var p = routingPoints[i];\n            if (i > 0 && i < rpCount - 1\n                || i === 0 && geometry_1.maxDistance(sourceAnchor, p) >= options.minimalPointDistance + (edge.sourceAnchorCorrection || 0)\n                || i === rpCount - 1 && geometry_1.maxDistance(p, targetAnchor) >= options.minimalPointDistance + (edge.targetAnchorCorrection || 0)) {\n                result.push({ kind: 'linear', x: p.x, y: p.y, pointIndex: i });\n            }\n        }\n        result.push({ kind: 'target', x: targetAnchor.x, y: targetAnchor.y });\n        return this.filterEditModeHandles(result, edge, options);\n    };\n    /**\n     * Remove routed points that are in edit mode and for which the angle between the preceding and\n     * following points falls below a threshold.\n     */\n    PolylineEdgeRouter.prototype.filterEditModeHandles = function (route, edge, options) {\n        if (edge.children.length === 0)\n            return route;\n        var i = 0;\n        var _loop_1 = function () {\n            var curr = route[i];\n            if (curr.pointIndex !== undefined) {\n                var handle = edge.children.find(function (child) {\n                    return child instanceof model_1.SRoutingHandle && child.kind === 'junction' && child.pointIndex === curr.pointIndex;\n                });\n                if (handle !== undefined && handle.editMode && i > 0 && i < route.length - 1) {\n                    var prev = route[i - 1], next = route[i + 1];\n                    var prevDiff = { x: prev.x - curr.x, y: prev.y - curr.y };\n                    var nextDiff = { x: next.x - curr.x, y: next.y - curr.y };\n                    var angle = geometry_1.angleBetweenPoints(prevDiff, nextDiff);\n                    if (Math.abs(Math.PI - angle) < options.removeAngleThreshold) {\n                        route.splice(i, 1);\n                        return \"continue\";\n                    }\n                }\n            }\n            i++;\n        };\n        while (i < route.length) {\n            _loop_1();\n        }\n        return route;\n    };\n    PolylineEdgeRouter.prototype.createRoutingHandles = function (edge) {\n        var rpCount = edge.routingPoints.length;\n        this.addHandle(edge, 'source', 'routing-point', -2);\n        this.addHandle(edge, 'line', 'volatile-routing-point', -1);\n        for (var i = 0; i < rpCount; i++) {\n            this.addHandle(edge, 'junction', 'routing-point', i);\n            this.addHandle(edge, 'line', 'volatile-routing-point', i);\n        }\n        this.addHandle(edge, 'target', 'routing-point', rpCount);\n    };\n    PolylineEdgeRouter.prototype.getInnerHandlePosition = function (edge, route, handle) {\n        if (handle.kind === 'line') {\n            var _a = this.findRouteSegment(edge, route, handle.pointIndex), start = _a.start, end = _a.end;\n            if (start !== undefined && end !== undefined)\n                return geometry_1.centerOfLine(start, end);\n        }\n        return undefined;\n    };\n    PolylineEdgeRouter.prototype.applyInnerHandleMoves = function (edge, moves) {\n        var _this = this;\n        moves.forEach(function (move) {\n            var handle = move.handle;\n            var points = edge.routingPoints;\n            var index = handle.pointIndex;\n            if (handle.kind === 'line') {\n                // Upgrade to a proper routing point\n                handle.kind = 'junction';\n                handle.type = 'routing-point';\n                points.splice(index + 1, 0, move.fromPosition || points[Math.max(index, 0)]);\n                edge.children.forEach(function (child) {\n                    if (child instanceof model_1.SRoutingHandle && (child === handle || child.pointIndex > index))\n                        child.pointIndex++;\n                });\n                _this.addHandle(edge, 'line', 'volatile-routing-point', index);\n                _this.addHandle(edge, 'line', 'volatile-routing-point', index + 1);\n                index++;\n            }\n            if (index >= 0 && index < points.length) {\n                points[index] = move.toPosition;\n            }\n        });\n    };\n    var PolylineEdgeRouter_1;\n    PolylineEdgeRouter.KIND = 'polyline';\n    __decorate([\n        inversify_1.inject(anchor_1.AnchorComputerRegistry),\n        __metadata(\"design:type\", anchor_1.AnchorComputerRegistry)\n    ], PolylineEdgeRouter.prototype, \"anchorRegistry\", void 0);\n    PolylineEdgeRouter = PolylineEdgeRouter_1 = __decorate([\n        inversify_1.injectable()\n    ], PolylineEdgeRouter);\n    return PolylineEdgeRouter;\n}(linear_edge_router_1.LinearEdgeRouter));\nexports.PolylineEdgeRouter = PolylineEdgeRouter;\n//# sourceMappingURL=polyline-edge-router.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar registry_1 = require(\"../../utils/registry\");\nvar polyline_edge_router_1 = require(\"./polyline-edge-router\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar EdgeRouterRegistry = /** @class */ (function (_super) {\n    __extends(EdgeRouterRegistry, _super);\n    function EdgeRouterRegistry(edgeRouters) {\n        var _this = _super.call(this) || this;\n        edgeRouters.forEach(function (router) { return _this.register(router.kind, router); });\n        return _this;\n    }\n    Object.defineProperty(EdgeRouterRegistry.prototype, \"defaultKind\", {\n        get: function () {\n            return polyline_edge_router_1.PolylineEdgeRouter.KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EdgeRouterRegistry.prototype.get = function (kind) {\n        return _super.prototype.get.call(this, kind || this.defaultKind);\n    };\n    EdgeRouterRegistry = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.TYPES.IEdgeRouter)),\n        __metadata(\"design:paramtypes\", [Array])\n    ], EdgeRouterRegistry);\n    return EdgeRouterRegistry;\n}(registry_1.InstanceRegistry));\nexports.EdgeRouterRegistry = EdgeRouterRegistry;\n//# sourceMappingURL=routing.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar select_1 = require(\"./select\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nvar selectModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, select_1.SelectCommand);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, select_1.SelectAllCommand);\n    bind(types_1.TYPES.KeyListener).to(select_1.SelectKeyboardListener);\n    bind(types_1.TYPES.MouseListener).to(select_1.SelectMouseListener);\n});\nexports.default = selectModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.selectFeature = Symbol('selectFeature');\nfunction isSelectable(element) {\n    return element.hasFeature(exports.selectFeature);\n}\nexports.isSelectable = isSelectable;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar command_1 = require(\"../../base/commands/command\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar types_1 = require(\"../../base/types\");\nvar key_tool_1 = require(\"../../base/views/key-tool\");\nvar mouse_tool_1 = require(\"../../base/views/mouse-tool\");\nvar vnode_utils_1 = require(\"../../base/views/vnode-utils\");\nvar browser_1 = require(\"../../utils/browser\");\nvar iterable_1 = require(\"../../utils/iterable\");\nvar keyboard_1 = require(\"../../utils/keyboard\");\nvar button_handler_1 = require(\"../button/button-handler\");\nvar model_1 = require(\"../button/model\");\nvar edit_routing_1 = require(\"../edit/edit-routing\");\nvar model_2 = require(\"../routing/model\");\nvar model_3 = require(\"../routing/model\");\nvar model_4 = require(\"./model\");\n/**\n * Triggered when the user changes the selection, e.g. by clicking on a selectable element. The resulting\n * SelectCommand changes the `selected` state accordingly, so the elements can be rendered differently.\n * This action is also forwarded to the diagram server, if present, so it may react on the selection change.\n * Furthermore, the server can send such an action to the client in order to change the selection programmatically.\n */\nvar SelectAction = /** @class */ (function () {\n    function SelectAction(selectedElementsIDs, deselectedElementsIDs) {\n        if (selectedElementsIDs === void 0) { selectedElementsIDs = []; }\n        if (deselectedElementsIDs === void 0) { deselectedElementsIDs = []; }\n        this.selectedElementsIDs = selectedElementsIDs;\n        this.deselectedElementsIDs = deselectedElementsIDs;\n        this.kind = SelectCommand.KIND;\n    }\n    return SelectAction;\n}());\nexports.SelectAction = SelectAction;\n/**\n * Programmatic action for selecting or deselecting all elements.\n */\nvar SelectAllAction = /** @class */ (function () {\n    /**\n     * If `select` is true, all elements are selected, othewise they are deselected.\n     */\n    function SelectAllAction(select) {\n        if (select === void 0) { select = true; }\n        this.select = select;\n        this.kind = SelectAllCommand.KIND;\n    }\n    return SelectAllAction;\n}());\nexports.SelectAllAction = SelectAllAction;\nvar SelectCommand = /** @class */ (function (_super) {\n    __extends(SelectCommand, _super);\n    function SelectCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.selected = [];\n        _this.deselected = [];\n        return _this;\n    }\n    SelectCommand.prototype.execute = function (context) {\n        var _this = this;\n        var model = context.root;\n        this.action.selectedElementsIDs.forEach(function (id) {\n            var element = model.index.getById(id);\n            if (element instanceof smodel_1.SChildElement && model_4.isSelectable(element)) {\n                _this.selected.push({\n                    element: element,\n                    parent: element.parent,\n                    index: element.parent.children.indexOf(element)\n                });\n            }\n        });\n        this.action.deselectedElementsIDs.forEach(function (id) {\n            var element = model.index.getById(id);\n            if (element instanceof smodel_1.SChildElement && model_4.isSelectable(element)) {\n                _this.deselected.push({\n                    element: element,\n                    parent: element.parent,\n                    index: element.parent.children.indexOf(element)\n                });\n            }\n        });\n        return this.redo(context);\n    };\n    SelectCommand.prototype.undo = function (context) {\n        for (var i = this.selected.length - 1; i >= 0; --i) {\n            var selection = this.selected[i];\n            var element = selection.element;\n            if (model_4.isSelectable(element))\n                element.selected = false;\n            selection.parent.move(element, selection.index);\n        }\n        this.deselected.reverse().forEach(function (selection) {\n            if (model_4.isSelectable(selection.element))\n                selection.element.selected = true;\n        });\n        return context.root;\n    };\n    SelectCommand.prototype.redo = function (context) {\n        for (var i = 0; i < this.selected.length; ++i) {\n            var selection = this.selected[i];\n            var element = selection.element;\n            var childrenLength = selection.parent.children.length;\n            selection.parent.move(element, childrenLength - 1);\n        }\n        this.deselected.forEach(function (selection) {\n            if (model_4.isSelectable(selection.element))\n                selection.element.selected = false;\n        });\n        this.selected.forEach(function (selection) {\n            if (model_4.isSelectable(selection.element))\n                selection.element.selected = true;\n        });\n        return context.root;\n    };\n    SelectCommand.KIND = 'elementSelected';\n    SelectCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SelectAction])\n    ], SelectCommand);\n    return SelectCommand;\n}(command_1.Command));\nexports.SelectCommand = SelectCommand;\nvar SelectAllCommand = /** @class */ (function (_super) {\n    __extends(SelectAllCommand, _super);\n    function SelectAllCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.previousSelection = {};\n        return _this;\n    }\n    SelectAllCommand.prototype.execute = function (context) {\n        this.selectAll(context.root, this.action.select);\n        return context.root;\n    };\n    SelectAllCommand.prototype.selectAll = function (element, newState) {\n        if (model_4.isSelectable(element)) {\n            this.previousSelection[element.id] = element.selected;\n            element.selected = newState;\n        }\n        for (var _i = 0, _a = element.children; _i < _a.length; _i++) {\n            var child = _a[_i];\n            this.selectAll(child, newState);\n        }\n    };\n    SelectAllCommand.prototype.undo = function (context) {\n        var index = context.root.index;\n        for (var id in this.previousSelection) {\n            if (this.previousSelection.hasOwnProperty(id)) {\n                var element = index.getById(id);\n                if (element !== undefined && model_4.isSelectable(element))\n                    element.selected = this.previousSelection[id];\n            }\n        }\n        return context.root;\n    };\n    SelectAllCommand.prototype.redo = function (context) {\n        this.selectAll(context.root, this.action.select);\n        return context.root;\n    };\n    SelectAllCommand.KIND = 'allSelected';\n    SelectAllCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SelectAllAction])\n    ], SelectAllCommand);\n    return SelectAllCommand;\n}(command_1.Command));\nexports.SelectAllCommand = SelectAllCommand;\nvar SelectMouseListener = /** @class */ (function (_super) {\n    __extends(SelectMouseListener, _super);\n    function SelectMouseListener() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.wasSelected = false;\n        _this.hasDragged = false;\n        return _this;\n    }\n    SelectMouseListener.prototype.mouseDown = function (target, event) {\n        var result = [];\n        if (event.button === 0) {\n            if (this.buttonHandlerRegistry !== undefined && target instanceof model_1.SButton && target.enabled) {\n                var buttonHandler = this.buttonHandlerRegistry.get(target.type);\n                if (buttonHandler !== undefined)\n                    return buttonHandler.buttonPressed(target);\n            }\n            var selectableTarget_1 = smodel_utils_1.findParentByFeature(target, model_4.isSelectable);\n            if (selectableTarget_1 !== undefined || target instanceof smodel_1.SModelRoot) {\n                this.hasDragged = false;\n                var deselect = [];\n                // multi-selection?\n                if (!browser_1.isCtrlOrCmd(event)) {\n                    deselect = iterable_1.toArray(target.root.index.all()\n                        .filter(function (element) { return model_4.isSelectable(element) && element.selected\n                        && !(selectableTarget_1 instanceof model_2.SRoutingHandle && element === selectableTarget_1.parent); }));\n                }\n                if (selectableTarget_1 !== undefined) {\n                    if (!selectableTarget_1.selected) {\n                        this.wasSelected = false;\n                        result.push(new SelectAction([selectableTarget_1.id], deselect.map(function (e) { return e.id; })));\n                        var routableDeselect = deselect.filter(function (e) { return e instanceof model_3.SRoutableElement; }).map(function (e) { return e.id; });\n                        if (selectableTarget_1 instanceof model_3.SRoutableElement)\n                            result.push(new edit_routing_1.SwitchEditModeAction([selectableTarget_1.id], routableDeselect));\n                        else if (routableDeselect.length > 0)\n                            result.push(new edit_routing_1.SwitchEditModeAction([], routableDeselect));\n                    }\n                    else if (browser_1.isCtrlOrCmd(event)) {\n                        this.wasSelected = false;\n                        result.push(new SelectAction([], [selectableTarget_1.id]));\n                        if (selectableTarget_1 instanceof model_3.SRoutableElement)\n                            result.push(new edit_routing_1.SwitchEditModeAction([], [selectableTarget_1.id]));\n                    }\n                    else {\n                        this.wasSelected = true;\n                    }\n                }\n                else {\n                    result.push(new SelectAction([], deselect.map(function (e) { return e.id; })));\n                    var routableDeselect = deselect.filter(function (e) { return e instanceof model_3.SRoutableElement; }).map(function (e) { return e.id; });\n                    if (routableDeselect.length > 0)\n                        result.push(new edit_routing_1.SwitchEditModeAction([], routableDeselect));\n                }\n            }\n        }\n        return result;\n    };\n    SelectMouseListener.prototype.mouseMove = function (target, event) {\n        this.hasDragged = true;\n        return [];\n    };\n    SelectMouseListener.prototype.mouseUp = function (target, event) {\n        if (event.button === 0) {\n            if (!this.hasDragged) {\n                var selectableTarget = smodel_utils_1.findParentByFeature(target, model_4.isSelectable);\n                if (selectableTarget !== undefined && this.wasSelected) {\n                    return [new SelectAction([selectableTarget.id], [])];\n                }\n            }\n        }\n        this.hasDragged = false;\n        return [];\n    };\n    SelectMouseListener.prototype.decorate = function (vnode, element) {\n        var selectableTarget = smodel_utils_1.findParentByFeature(element, model_4.isSelectable);\n        if (selectableTarget !== undefined)\n            vnode_utils_1.setClass(vnode, 'selected', selectableTarget.selected);\n        return vnode;\n    };\n    __decorate([\n        inversify_1.inject(button_handler_1.ButtonHandlerRegistry), inversify_1.optional(),\n        __metadata(\"design:type\", button_handler_1.ButtonHandlerRegistry)\n    ], SelectMouseListener.prototype, \"buttonHandlerRegistry\", void 0);\n    return SelectMouseListener;\n}(mouse_tool_1.MouseListener));\nexports.SelectMouseListener = SelectMouseListener;\nvar SelectKeyboardListener = /** @class */ (function (_super) {\n    __extends(SelectKeyboardListener, _super);\n    function SelectKeyboardListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SelectKeyboardListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'KeyA', 'ctrlCmd')) {\n            var selected = iterable_1.toArray(element.root.index.all().filter(function (e) { return model_4.isSelectable(e); }).map(function (e) { return e.id; }));\n            return [new SelectAction(selected, [])];\n        }\n        return [];\n    };\n    return SelectKeyboardListener;\n}(key_tool_1.KeyListener));\nexports.SelectKeyboardListener = SelectKeyboardListener;\n//# sourceMappingURL=select.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar undo_redo_1 = require(\"./undo-redo\");\nvar undoRedoModule = new inversify_1.ContainerModule(function (bind) {\n    bind(types_1.TYPES.KeyListener).to(undo_redo_1.UndoRedoKeyListener);\n});\nexports.default = undoRedoModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar keyboard_1 = require(\"../../utils/keyboard\");\nvar key_tool_1 = require(\"../../base/views/key-tool\");\nvar UndoAction = /** @class */ (function () {\n    function UndoAction() {\n        this.kind = UndoAction.KIND;\n    }\n    UndoAction.KIND = 'undo';\n    return UndoAction;\n}());\nexports.UndoAction = UndoAction;\nvar RedoAction = /** @class */ (function () {\n    function RedoAction() {\n        this.kind = RedoAction.KIND;\n    }\n    RedoAction.KIND = 'redo';\n    return RedoAction;\n}());\nexports.RedoAction = RedoAction;\nvar UndoRedoKeyListener = /** @class */ (function (_super) {\n    __extends(UndoRedoKeyListener, _super);\n    function UndoRedoKeyListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    UndoRedoKeyListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'KeyZ', 'ctrlCmd'))\n            return [new UndoAction];\n        if (keyboard_1.matchesKeystroke(event, 'KeyZ', 'ctrlCmd', 'shift'))\n            return [new RedoAction];\n        return [];\n    };\n    return UndoRedoKeyListener;\n}(key_tool_1.KeyListener));\nexports.UndoRedoKeyListener = UndoRedoKeyListener;\n//# sourceMappingURL=undo-redo.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nvar update_model_1 = require(\"./update-model\");\nvar updateModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, update_model_1.UpdateModelCommand);\n});\nexports.default = updateModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"../../base/model/smodel\");\nfunction forEachMatch(matchResult, callback) {\n    for (var id in matchResult) {\n        if (matchResult.hasOwnProperty(id))\n            callback(id, matchResult[id]);\n    }\n}\nexports.forEachMatch = forEachMatch;\nvar ModelMatcher = /** @class */ (function () {\n    function ModelMatcher() {\n    }\n    ModelMatcher.prototype.match = function (left, right) {\n        var result = {};\n        this.matchLeft(left, result);\n        this.matchRight(right, result);\n        return result;\n    };\n    ModelMatcher.prototype.matchLeft = function (element, result, parentId) {\n        var match = result[element.id];\n        if (match !== undefined) {\n            match.left = element;\n            match.leftParentId = parentId;\n        }\n        else {\n            match = {\n                left: element,\n                leftParentId: parentId\n            };\n            result[element.id] = match;\n        }\n        if (smodel_1.isParent(element)) {\n            for (var _i = 0, _a = element.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                this.matchLeft(child, result, element.id);\n            }\n        }\n    };\n    ModelMatcher.prototype.matchRight = function (element, result, parentId) {\n        var match = result[element.id];\n        if (match !== undefined) {\n            match.right = element;\n            match.rightParentId = parentId;\n        }\n        else {\n            match = {\n                right: element,\n                rightParentId: parentId\n            };\n            result[element.id] = match;\n        }\n        if (smodel_1.isParent(element)) {\n            for (var _i = 0, _a = element.children; _i < _a.length; _i++) {\n                var child = _a[_i];\n                this.matchRight(child, result, element.id);\n            }\n        }\n    };\n    return ModelMatcher;\n}());\nexports.ModelMatcher = ModelMatcher;\nfunction applyMatches(root, matches) {\n    var index;\n    if (root instanceof smodel_1.SModelRoot) {\n        index = root.index;\n    }\n    else {\n        index = new smodel_1.SModelIndex();\n        index.add(root);\n    }\n    for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n        var match = matches_1[_i];\n        var newElementInserted = false;\n        if (match.left !== undefined && match.leftParentId !== undefined) {\n            var parent_1 = index.getById(match.leftParentId);\n            if (parent_1 !== undefined && parent_1.children !== undefined) {\n                var i = parent_1.children.indexOf(match.left);\n                if (i >= 0) {\n                    if (match.right !== undefined && match.leftParentId === match.rightParentId) {\n                        parent_1.children.splice(i, 1, match.right);\n                        newElementInserted = true;\n                    }\n                    else {\n                        parent_1.children.splice(i, 1);\n                    }\n                }\n                index.remove(match.left);\n            }\n        }\n        if (!newElementInserted && match.right !== undefined && match.rightParentId !== undefined) {\n            var parent_2 = index.getById(match.rightParentId);\n            if (parent_2 !== undefined) {\n                if (parent_2.children === undefined)\n                    parent_2.children = [];\n                parent_2.children.push(match.right);\n            }\n        }\n    }\n}\nexports.applyMatches = applyMatches;\n//# sourceMappingURL=model-matching.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar geometry_1 = require(\"../../utils/geometry\");\nvar animation_1 = require(\"../../base/animations/animation\");\nvar command_1 = require(\"../../base/commands/command\");\nvar fade_1 = require(\"../fade/fade\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar move_1 = require(\"../move/move\");\nvar model_1 = require(\"../fade/model\");\nvar model_2 = require(\"../move/model\");\nvar model_3 = require(\"../bounds/model\");\nvar viewport_root_1 = require(\"../viewport/viewport-root\");\nvar model_4 = require(\"../select/model\");\nvar model_matching_1 = require(\"./model-matching\");\nvar resize_1 = require(\"../bounds/resize\");\nvar types_1 = require(\"../../base/types\");\n/**\n * Sent from the model source to the client in order to update the model. If no model is present yet,\n * this behaves the same as a SetModelAction. The transition from the old model to the new one can be animated.\n */\nvar UpdateModelAction = /** @class */ (function () {\n    function UpdateModelAction(input, animate) {\n        if (animate === void 0) { animate = true; }\n        this.animate = animate;\n        this.kind = UpdateModelCommand.KIND;\n        if (input.id !== undefined)\n            this.newRoot = input;\n        else\n            this.matches = input;\n    }\n    return UpdateModelAction;\n}());\nexports.UpdateModelAction = UpdateModelAction;\nvar UpdateModelCommand = /** @class */ (function (_super) {\n    __extends(UpdateModelCommand, _super);\n    function UpdateModelCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    UpdateModelCommand.prototype.execute = function (context) {\n        var newRoot;\n        if (this.action.newRoot !== undefined) {\n            newRoot = context.modelFactory.createRoot(this.action.newRoot);\n        }\n        else {\n            newRoot = context.modelFactory.createRoot(context.root);\n            if (this.action.matches !== undefined)\n                this.applyMatches(newRoot, this.action.matches, context);\n        }\n        this.oldRoot = context.root;\n        this.newRoot = newRoot;\n        return this.performUpdate(this.oldRoot, this.newRoot, context);\n    };\n    UpdateModelCommand.prototype.performUpdate = function (oldRoot, newRoot, context) {\n        if ((this.action.animate === undefined || this.action.animate) && oldRoot.id === newRoot.id) {\n            var matchResult = void 0;\n            if (this.action.matches === undefined) {\n                var matcher = new model_matching_1.ModelMatcher();\n                matchResult = matcher.match(oldRoot, newRoot);\n            }\n            else {\n                matchResult = this.convertToMatchResult(this.action.matches, oldRoot, newRoot);\n            }\n            var animationOrRoot = this.computeAnimation(newRoot, matchResult, context);\n            if (animationOrRoot instanceof animation_1.Animation)\n                return animationOrRoot.start();\n            else\n                return animationOrRoot;\n        }\n        else {\n            if (oldRoot.type === newRoot.type && geometry_1.isValidDimension(oldRoot.canvasBounds))\n                newRoot.canvasBounds = oldRoot.canvasBounds;\n            return newRoot;\n        }\n    };\n    UpdateModelCommand.prototype.applyMatches = function (root, matches, context) {\n        var index = root.index;\n        for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\n            var match = matches_1[_i];\n            if (match.left !== undefined) {\n                var element = index.getById(match.left.id);\n                if (element instanceof smodel_1.SChildElement)\n                    element.parent.remove(element);\n            }\n            if (match.right !== undefined) {\n                var element = context.modelFactory.createElement(match.right);\n                var parent_1 = void 0;\n                if (match.rightParentId !== undefined)\n                    parent_1 = index.getById(match.rightParentId);\n                if (parent_1 instanceof smodel_1.SParentElement)\n                    parent_1.add(element);\n                else\n                    root.add(element);\n            }\n        }\n    };\n    UpdateModelCommand.prototype.convertToMatchResult = function (matches, leftRoot, rightRoot) {\n        var result = {};\n        for (var _i = 0, matches_2 = matches; _i < matches_2.length; _i++) {\n            var match = matches_2[_i];\n            var converted = {};\n            var id = undefined;\n            if (match.left !== undefined) {\n                id = match.left.id;\n                converted.left = leftRoot.index.getById(id);\n                converted.leftParentId = match.leftParentId;\n            }\n            if (match.right !== undefined) {\n                id = match.right.id;\n                converted.right = rightRoot.index.getById(id);\n                converted.rightParentId = match.rightParentId;\n            }\n            if (id !== undefined)\n                result[id] = converted;\n        }\n        return result;\n    };\n    UpdateModelCommand.prototype.computeAnimation = function (newRoot, matchResult, context) {\n        var _this = this;\n        var animationData = {\n            fades: []\n        };\n        model_matching_1.forEachMatch(matchResult, function (id, match) {\n            if (match.left !== undefined && match.right !== undefined) {\n                // The element is still there, but may have been moved\n                _this.updateElement(match.left, match.right, animationData);\n            }\n            else if (match.right !== undefined) {\n                // An element has been added\n                var right = match.right;\n                if (model_1.isFadeable(right)) {\n                    right.opacity = 0;\n                    animationData.fades.push({\n                        element: right,\n                        type: 'in'\n                    });\n                }\n            }\n            else if (match.left instanceof smodel_1.SChildElement) {\n                // An element has been removed\n                var left = match.left;\n                if (model_1.isFadeable(left) && match.leftParentId !== undefined) {\n                    if (newRoot.index.getById(left.id) === undefined) {\n                        var parent_2 = newRoot.index.getById(match.leftParentId);\n                        if (parent_2 instanceof smodel_1.SParentElement) {\n                            var leftCopy = context.modelFactory.createElement(left);\n                            parent_2.add(leftCopy);\n                            animationData.fades.push({\n                                element: leftCopy,\n                                type: 'out'\n                            });\n                        }\n                    }\n                }\n            }\n        });\n        var animations = this.createAnimations(animationData, newRoot, context);\n        if (animations.length >= 2) {\n            return new animation_1.CompoundAnimation(newRoot, context, animations);\n        }\n        else if (animations.length === 1) {\n            return animations[0];\n        }\n        else {\n            return newRoot;\n        }\n    };\n    UpdateModelCommand.prototype.updateElement = function (left, right, animationData) {\n        if (model_2.isLocateable(left) && model_2.isLocateable(right)) {\n            var leftPos = left.position;\n            var rightPos = right.position;\n            if (!geometry_1.almostEquals(leftPos.x, rightPos.x) || !geometry_1.almostEquals(leftPos.y, rightPos.y)) {\n                if (animationData.moves === undefined)\n                    animationData.moves = [];\n                animationData.moves.push({\n                    element: right,\n                    fromPosition: leftPos,\n                    toPosition: rightPos\n                });\n                right.position = leftPos;\n            }\n        }\n        if (model_3.isSizeable(left) && model_3.isSizeable(right)) {\n            if (!geometry_1.isValidDimension(right.bounds)) {\n                right.bounds = {\n                    x: right.bounds.x,\n                    y: right.bounds.y,\n                    width: left.bounds.width,\n                    height: left.bounds.height\n                };\n            }\n            else if (!geometry_1.almostEquals(left.bounds.width, right.bounds.width)\n                || !geometry_1.almostEquals(left.bounds.height, right.bounds.height)) {\n                if (animationData.resizes === undefined)\n                    animationData.resizes = [];\n                animationData.resizes.push({\n                    element: right,\n                    fromDimension: {\n                        width: left.bounds.width,\n                        height: left.bounds.height,\n                    },\n                    toDimension: {\n                        width: right.bounds.width,\n                        height: right.bounds.height,\n                    }\n                });\n            }\n        }\n        if (model_4.isSelectable(left) && model_4.isSelectable(right)) {\n            right.selected = left.selected;\n        }\n        if (left instanceof smodel_1.SModelRoot && right instanceof smodel_1.SModelRoot) {\n            right.canvasBounds = left.canvasBounds;\n        }\n        if (left instanceof viewport_root_1.ViewportRootElement && right instanceof viewport_root_1.ViewportRootElement) {\n            right.scroll = left.scroll;\n            right.zoom = left.zoom;\n        }\n    };\n    UpdateModelCommand.prototype.createAnimations = function (data, root, context) {\n        var animations = [];\n        if (data.fades.length > 0) {\n            animations.push(new fade_1.FadeAnimation(root, data.fades, context, true));\n        }\n        if (data.moves !== undefined && data.moves.length > 0) {\n            var movesMap = new Map;\n            for (var _i = 0, _a = data.moves; _i < _a.length; _i++) {\n                var move = _a[_i];\n                movesMap.set(move.element.id, move);\n            }\n            animations.push(new move_1.MoveAnimation(root, movesMap, context, false));\n        }\n        if (data.resizes !== undefined && data.resizes.length > 0) {\n            var resizesMap = new Map;\n            for (var _b = 0, _c = data.resizes; _b < _c.length; _b++) {\n                var resize = _c[_b];\n                resizesMap.set(resize.element.id, resize);\n            }\n            animations.push(new resize_1.ResizeAnimation(root, resizesMap, context, false));\n        }\n        return animations;\n    };\n    UpdateModelCommand.prototype.undo = function (context) {\n        return this.performUpdate(this.newRoot, this.oldRoot, context);\n    };\n    UpdateModelCommand.prototype.redo = function (context) {\n        return this.performUpdate(this.oldRoot, this.newRoot, context);\n    };\n    UpdateModelCommand.KIND = 'updateModel';\n    UpdateModelCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [UpdateModelAction])\n    ], UpdateModelCommand);\n    return UpdateModelCommand;\n}(command_1.Command));\nexports.UpdateModelCommand = UpdateModelCommand;\n//# sourceMappingURL=update-model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar keyboard_1 = require(\"../../utils/keyboard\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar command_1 = require(\"../../base/commands/command\");\nvar key_tool_1 = require(\"../../base/views/key-tool\");\nvar model_1 = require(\"../bounds/model\");\nvar model_2 = require(\"../select/model\");\nvar viewport_1 = require(\"./viewport\");\nvar model_3 = require(\"./model\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\n/**\n * Triggered when the user requests the viewer to center on the current model. The resulting\n * CenterCommand changes the scroll setting of the viewport accordingly and resets the zoom to its default.\n * This action can also be sent from the model source to the client in order to perform such a\n * viewport change programmatically.\n */\nvar CenterAction = /** @class */ (function () {\n    function CenterAction(elementIds, animate) {\n        if (animate === void 0) { animate = true; }\n        this.elementIds = elementIds;\n        this.animate = animate;\n        this.kind = CenterCommand.KIND;\n    }\n    return CenterAction;\n}());\nexports.CenterAction = CenterAction;\n/**\n * Triggered when the user requests the viewer to fit its content to the available drawing area.\n * The resulting FitToScreenCommand changes the zoom and scroll settings of the viewport so the model\n * can be shown completely. This action can also be sent from the model source to the client in order\n * to perform such a viewport change programmatically.\n */\nvar FitToScreenAction = /** @class */ (function () {\n    function FitToScreenAction(elementIds, padding, maxZoom, animate) {\n        if (animate === void 0) { animate = true; }\n        this.elementIds = elementIds;\n        this.padding = padding;\n        this.maxZoom = maxZoom;\n        this.animate = animate;\n        this.kind = FitToScreenCommand.KIND;\n    }\n    return FitToScreenAction;\n}());\nexports.FitToScreenAction = FitToScreenAction;\nvar BoundsAwareViewportCommand = /** @class */ (function (_super) {\n    __extends(BoundsAwareViewportCommand, _super);\n    function BoundsAwareViewportCommand(animate) {\n        var _this = _super.call(this) || this;\n        _this.animate = animate;\n        return _this;\n    }\n    BoundsAwareViewportCommand.prototype.initialize = function (model) {\n        var _this = this;\n        if (model_3.isViewport(model)) {\n            this.oldViewport = {\n                scroll: model.scroll,\n                zoom: model.zoom\n            };\n            var allBounds_1 = [];\n            this.getElementIds().forEach(function (id) {\n                var element = model.index.getById(id);\n                if (element && model_1.isBoundsAware(element))\n                    allBounds_1.push(_this.boundsInViewport(element, element.bounds, model));\n            });\n            if (allBounds_1.length === 0) {\n                model.index.all().forEach(function (element) {\n                    if (model_2.isSelectable(element) && element.selected && model_1.isBoundsAware(element))\n                        allBounds_1.push(_this.boundsInViewport(element, element.bounds, model));\n                });\n            }\n            if (allBounds_1.length === 0) {\n                model.index.all().forEach(function (element) {\n                    if (model_1.isBoundsAware(element))\n                        allBounds_1.push(_this.boundsInViewport(element, element.bounds, model));\n                });\n            }\n            if (allBounds_1.length !== 0) {\n                var bounds = allBounds_1.reduce(function (b0, b1) { return geometry_1.combine(b0, b1); });\n                if (geometry_1.isValidDimension(bounds))\n                    this.newViewport = this.getNewViewport(bounds, model);\n            }\n        }\n    };\n    BoundsAwareViewportCommand.prototype.boundsInViewport = function (element, bounds, viewport) {\n        if (element instanceof smodel_1.SChildElement && element.parent !== viewport)\n            return this.boundsInViewport(element.parent, element.parent.localToParent(bounds), viewport);\n        else\n            return bounds;\n    };\n    BoundsAwareViewportCommand.prototype.execute = function (context) {\n        this.initialize(context.root);\n        return this.redo(context);\n    };\n    BoundsAwareViewportCommand.prototype.undo = function (context) {\n        var model = context.root;\n        if (model_3.isViewport(model) && this.newViewport !== undefined && !this.equal(this.newViewport, this.oldViewport)) {\n            if (this.animate)\n                return new viewport_1.ViewportAnimation(model, this.newViewport, this.oldViewport, context).start();\n            else {\n                model.scroll = this.oldViewport.scroll;\n                model.zoom = this.oldViewport.zoom;\n            }\n        }\n        return model;\n    };\n    BoundsAwareViewportCommand.prototype.redo = function (context) {\n        var model = context.root;\n        if (model_3.isViewport(model) && this.newViewport !== undefined && !this.equal(this.newViewport, this.oldViewport)) {\n            if (this.animate) {\n                return new viewport_1.ViewportAnimation(model, this.oldViewport, this.newViewport, context).start();\n            }\n            else {\n                model.scroll = this.newViewport.scroll;\n                model.zoom = this.newViewport.zoom;\n            }\n        }\n        return model;\n    };\n    BoundsAwareViewportCommand.prototype.equal = function (vp1, vp2) {\n        return vp1.zoom === vp2.zoom && vp1.scroll.x === vp2.scroll.x && vp1.scroll.y === vp2.scroll.y;\n    };\n    BoundsAwareViewportCommand = __decorate([\n        inversify_1.injectable(),\n        __metadata(\"design:paramtypes\", [Boolean])\n    ], BoundsAwareViewportCommand);\n    return BoundsAwareViewportCommand;\n}(command_1.Command));\nexports.BoundsAwareViewportCommand = BoundsAwareViewportCommand;\nvar CenterCommand = /** @class */ (function (_super) {\n    __extends(CenterCommand, _super);\n    function CenterCommand(action) {\n        var _this = _super.call(this, action.animate) || this;\n        _this.action = action;\n        return _this;\n    }\n    CenterCommand.prototype.getElementIds = function () {\n        return this.action.elementIds;\n    };\n    CenterCommand.prototype.getNewViewport = function (bounds, model) {\n        if (!geometry_1.isValidDimension(model.canvasBounds)) {\n            return undefined;\n        }\n        var c = geometry_1.center(bounds);\n        return {\n            scroll: {\n                x: c.x - 0.5 * model.canvasBounds.width,\n                y: c.y - 0.5 * model.canvasBounds.height\n            },\n            zoom: 1\n        };\n    };\n    CenterCommand.KIND = 'center';\n    CenterCommand = __decorate([\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [CenterAction])\n    ], CenterCommand);\n    return CenterCommand;\n}(BoundsAwareViewportCommand));\nexports.CenterCommand = CenterCommand;\nvar FitToScreenCommand = /** @class */ (function (_super) {\n    __extends(FitToScreenCommand, _super);\n    function FitToScreenCommand(action) {\n        var _this = _super.call(this, action.animate) || this;\n        _this.action = action;\n        return _this;\n    }\n    FitToScreenCommand.prototype.getElementIds = function () {\n        return this.action.elementIds;\n    };\n    FitToScreenCommand.prototype.getNewViewport = function (bounds, model) {\n        if (!geometry_1.isValidDimension(model.canvasBounds)) {\n            return undefined;\n        }\n        var c = geometry_1.center(bounds);\n        var delta = this.action.padding === undefined\n            ? 0\n            : 2 * this.action.padding;\n        var zoom = Math.min(model.canvasBounds.width / (bounds.width + delta), model.canvasBounds.height / (bounds.height + delta));\n        if (this.action.maxZoom !== undefined)\n            zoom = Math.min(zoom, this.action.maxZoom);\n        return {\n            scroll: {\n                x: c.x - 0.5 * model.canvasBounds.width / zoom,\n                y: c.y - 0.5 * model.canvasBounds.height / zoom\n            },\n            zoom: zoom\n        };\n    };\n    FitToScreenCommand.KIND = 'fit';\n    FitToScreenCommand = __decorate([\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [FitToScreenAction])\n    ], FitToScreenCommand);\n    return FitToScreenCommand;\n}(BoundsAwareViewportCommand));\nexports.FitToScreenCommand = FitToScreenCommand;\nvar CenterKeyboardListener = /** @class */ (function (_super) {\n    __extends(CenterKeyboardListener, _super);\n    function CenterKeyboardListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CenterKeyboardListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'KeyC', 'ctrlCmd', 'shift'))\n            return [new CenterAction([])];\n        if (keyboard_1.matchesKeystroke(event, 'KeyF', 'ctrlCmd', 'shift'))\n            return [new FitToScreenAction([])];\n        return [];\n    };\n    return CenterKeyboardListener;\n}(key_tool_1.KeyListener));\nexports.CenterKeyboardListener = CenterKeyboardListener;\n//# sourceMappingURL=center-fit.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar center_fit_1 = require(\"./center-fit\");\nvar viewport_1 = require(\"./viewport\");\nvar scroll_1 = require(\"./scroll\");\nvar zoom_1 = require(\"./zoom\");\nvar command_registration_1 = require(\"../../base/commands/command-registration\");\nvar viewportModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, center_fit_1.CenterCommand);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, center_fit_1.FitToScreenCommand);\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, viewport_1.ViewportCommand);\n    bind(types_1.TYPES.KeyListener).to(center_fit_1.CenterKeyboardListener);\n    bind(types_1.TYPES.MouseListener).to(scroll_1.ScrollMouseListener);\n    bind(types_1.TYPES.MouseListener).to(zoom_1.ZoomMouseListener);\n});\nexports.default = viewportModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"../../base/model/smodel\");\nexports.viewportFeature = Symbol('viewportFeature');\nfunction isViewport(element) {\n    return element instanceof smodel_1.SModelRoot\n        && element.hasFeature(exports.viewportFeature)\n        && 'zoom' in element\n        && 'scroll' in element;\n}\nexports.isViewport = isViewport;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar mouse_tool_1 = require(\"../../base/views/mouse-tool\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar viewport_1 = require(\"./viewport\");\nvar model_1 = require(\"./model\");\nvar model_2 = require(\"../move/model\");\nvar model_3 = require(\"../routing/model\");\nfunction isScrollable(element) {\n    return 'scroll' in element;\n}\nexports.isScrollable = isScrollable;\nvar ScrollMouseListener = /** @class */ (function (_super) {\n    __extends(ScrollMouseListener, _super);\n    function ScrollMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ScrollMouseListener.prototype.mouseDown = function (target, event) {\n        var moveable = smodel_utils_1.findParentByFeature(target, model_2.isMoveable);\n        if (moveable === undefined && !(target instanceof model_3.SRoutingHandle)) {\n            var viewport = smodel_utils_1.findParentByFeature(target, model_1.isViewport);\n            if (viewport)\n                this.lastScrollPosition = { x: event.pageX, y: event.pageY };\n            else\n                this.lastScrollPosition = undefined;\n        }\n        return [];\n    };\n    ScrollMouseListener.prototype.mouseMove = function (target, event) {\n        if (event.buttons === 0)\n            this.mouseUp(target, event);\n        else if (this.lastScrollPosition) {\n            var viewport = smodel_utils_1.findParentByFeature(target, model_1.isViewport);\n            if (viewport) {\n                var dx = (event.pageX - this.lastScrollPosition.x) / viewport.zoom;\n                var dy = (event.pageY - this.lastScrollPosition.y) / viewport.zoom;\n                var newViewport = {\n                    scroll: {\n                        x: viewport.scroll.x - dx,\n                        y: viewport.scroll.y - dy,\n                    },\n                    zoom: viewport.zoom\n                };\n                this.lastScrollPosition = { x: event.pageX, y: event.pageY };\n                return [new viewport_1.ViewportAction(viewport.id, newViewport, false)];\n            }\n        }\n        return [];\n    };\n    ScrollMouseListener.prototype.mouseEnter = function (target, event) {\n        if (target instanceof smodel_1.SModelRoot && event.buttons === 0)\n            this.mouseUp(target, event);\n        return [];\n    };\n    ScrollMouseListener.prototype.mouseUp = function (target, event) {\n        this.lastScrollPosition = undefined;\n        return [];\n    };\n    return ScrollMouseListener;\n}(mouse_tool_1.MouseListener));\nexports.ScrollMouseListener = ScrollMouseListener;\n//# sourceMappingURL=scroll.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar geometry_1 = require(\"../../utils/geometry\");\nvar smodel_1 = require(\"../../base/model/smodel\");\nvar model_1 = require(\"./model\");\nvar model_2 = require(\"../export/model\");\n/**\n * Model root element that defines a viewport, so it transforms the coordinate system with\n * a `scroll` translation and a `zoom` scaling.\n */\nvar ViewportRootElement = /** @class */ (function (_super) {\n    __extends(ViewportRootElement, _super);\n    function ViewportRootElement(index) {\n        var _this = _super.call(this, index) || this;\n        _this.scroll = { x: 0, y: 0 };\n        _this.zoom = 1;\n        _this.export = false;\n        return _this;\n    }\n    ViewportRootElement.prototype.hasFeature = function (feature) {\n        return feature === model_1.viewportFeature || feature === model_2.exportFeature;\n    };\n    ViewportRootElement.prototype.localToParent = function (point) {\n        var result = {\n            x: (point.x - this.scroll.x) * this.zoom,\n            y: (point.y - this.scroll.y) * this.zoom,\n            width: -1,\n            height: -1\n        };\n        if (geometry_1.isBounds(point)) {\n            result.width = point.width * this.zoom;\n            result.height = point.height * this.zoom;\n        }\n        return result;\n    };\n    ViewportRootElement.prototype.parentToLocal = function (point) {\n        var result = {\n            x: (point.x / this.zoom) + this.scroll.x,\n            y: (point.y / this.zoom) + this.scroll.y,\n            width: -1,\n            height: -1\n        };\n        if (geometry_1.isBounds(point) && geometry_1.isValidDimension(point)) {\n            result.width = point.width / this.zoom;\n            result.height = point.height / this.zoom;\n        }\n        return result;\n    };\n    return ViewportRootElement;\n}(smodel_1.SModelRoot));\nexports.ViewportRootElement = ViewportRootElement;\n//# sourceMappingURL=viewport-root.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar command_1 = require(\"../../base/commands/command\");\nvar animation_1 = require(\"../../base/animations/animation\");\nvar model_1 = require(\"./model\");\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../../base/types\");\nvar ViewportAction = /** @class */ (function () {\n    function ViewportAction(elementId, newViewport, animate) {\n        this.elementId = elementId;\n        this.newViewport = newViewport;\n        this.animate = animate;\n        this.kind = ViewportCommand.KIND;\n    }\n    return ViewportAction;\n}());\nexports.ViewportAction = ViewportAction;\nvar ViewportCommand = /** @class */ (function (_super) {\n    __extends(ViewportCommand, _super);\n    function ViewportCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.newViewport = action.newViewport;\n        return _this;\n    }\n    ViewportCommand_1 = ViewportCommand;\n    ViewportCommand.prototype.execute = function (context) {\n        var model = context.root;\n        var element = model.index.getById(this.action.elementId);\n        if (element && model_1.isViewport(element)) {\n            this.element = element;\n            this.oldViewport = {\n                scroll: this.element.scroll,\n                zoom: this.element.zoom,\n            };\n            if (this.action.animate)\n                return new ViewportAnimation(this.element, this.oldViewport, this.newViewport, context).start();\n            else {\n                this.element.scroll = this.newViewport.scroll;\n                this.element.zoom = this.newViewport.zoom;\n            }\n        }\n        return model;\n    };\n    ViewportCommand.prototype.undo = function (context) {\n        return new ViewportAnimation(this.element, this.newViewport, this.oldViewport, context).start();\n    };\n    ViewportCommand.prototype.redo = function (context) {\n        return new ViewportAnimation(this.element, this.oldViewport, this.newViewport, context).start();\n    };\n    ViewportCommand.prototype.merge = function (command, context) {\n        if (!this.action.animate && command instanceof ViewportCommand_1 && this.element === command.element) {\n            this.newViewport = command.newViewport;\n            return true;\n        }\n        return false;\n    };\n    var ViewportCommand_1;\n    ViewportCommand.KIND = 'viewport';\n    ViewportCommand = ViewportCommand_1 = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ViewportAction])\n    ], ViewportCommand);\n    return ViewportCommand;\n}(command_1.MergeableCommand));\nexports.ViewportCommand = ViewportCommand;\nvar ViewportAnimation = /** @class */ (function (_super) {\n    __extends(ViewportAnimation, _super);\n    function ViewportAnimation(element, oldViewport, newViewport, context) {\n        var _this = _super.call(this, context) || this;\n        _this.element = element;\n        _this.oldViewport = oldViewport;\n        _this.newViewport = newViewport;\n        _this.context = context;\n        _this.zoomFactor = Math.log(newViewport.zoom / oldViewport.zoom);\n        return _this;\n    }\n    ViewportAnimation.prototype.tween = function (t, context) {\n        this.element.scroll = {\n            x: (1 - t) * this.oldViewport.scroll.x + t * this.newViewport.scroll.x,\n            y: (1 - t) * this.oldViewport.scroll.y + t * this.newViewport.scroll.y\n        };\n        this.element.zoom = this.oldViewport.zoom * Math.exp(t * this.zoomFactor);\n        return context.root;\n    };\n    return ViewportAnimation;\n}(animation_1.Animation));\nexports.ViewportAnimation = ViewportAnimation;\n//# sourceMappingURL=viewport.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar mouse_tool_1 = require(\"../../base/views/mouse-tool\");\nvar smodel_utils_1 = require(\"../../base/model/smodel-utils\");\nvar viewport_1 = require(\"./viewport\");\nvar model_1 = require(\"./model\");\nfunction isZoomable(element) {\n    return 'zoom' in element;\n}\nexports.isZoomable = isZoomable;\nvar ZoomMouseListener = /** @class */ (function (_super) {\n    __extends(ZoomMouseListener, _super);\n    function ZoomMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ZoomMouseListener.prototype.wheel = function (target, event) {\n        var viewport = smodel_utils_1.findParentByFeature(target, model_1.isViewport);\n        if (viewport) {\n            var newZoom = Math.exp(-event.deltaY * 0.005);\n            var factor = 1. / (newZoom * viewport.zoom) - 1. / viewport.zoom;\n            var newViewport = {\n                scroll: {\n                    x: -(factor * event.offsetX - viewport.scroll.x),\n                    y: -(factor * event.offsetY - viewport.scroll.y)\n                },\n                zoom: viewport.zoom * newZoom\n            };\n            return [new viewport_1.ViewportAction(viewport.id, newViewport, false)];\n        }\n        return [];\n    };\n    return ZoomMouseListener;\n}(mouse_tool_1.MouseListener));\nexports.ZoomMouseListener = ZoomMouseListener;\n//# sourceMappingURL=zoom.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../base/types\");\nvar sgraph_factory_1 = require(\"./sgraph-factory\");\nvar graphModule = new inversify_1.ContainerModule(function (bind, unbind, isBound, rebind) {\n    rebind(types_1.TYPES.IModelFactory).to(sgraph_factory_1.SGraphFactory).inSingletonScope();\n});\nexports.default = graphModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar smodel_factory_1 = require(\"../base/model/smodel-factory\");\nvar smodel_1 = require(\"../base/model/smodel\");\nvar smodel_utils_1 = require(\"../base/model/smodel-utils\");\nvar sgraph_1 = require(\"./sgraph\");\nvar model_1 = require(\"../features/button/model\");\nvar SGraphFactory = /** @class */ (function (_super) {\n    __extends(SGraphFactory, _super);\n    function SGraphFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SGraphFactory.prototype.createElement = function (schema, parent) {\n        var child;\n        if (this.registry.hasKey(schema.type)) {\n            var regElement = this.registry.get(schema.type, undefined);\n            if (!(regElement instanceof smodel_1.SChildElement))\n                throw new Error(\"Element with type \" + schema.type + \" was expected to be an SChildElement.\");\n            child = regElement;\n        }\n        else if (this.isNodeSchema(schema)) {\n            child = new sgraph_1.SNode();\n        }\n        else if (this.isPortSchema(schema)) {\n            child = new sgraph_1.SPort();\n        }\n        else if (this.isEdgeSchema(schema)) {\n            child = new sgraph_1.SEdge();\n        }\n        else if (this.isLabelSchema(schema)) {\n            child = new sgraph_1.SLabel();\n        }\n        else if (this.isCompartmentSchema(schema)) {\n            child = new sgraph_1.SCompartment();\n        }\n        else if (this.isButtonSchema(schema)) {\n            child = new model_1.SButton();\n        }\n        else {\n            child = new smodel_1.SChildElement();\n        }\n        return this.initializeChild(child, schema, parent);\n    };\n    SGraphFactory.prototype.createRoot = function (schema) {\n        var root;\n        if (this.registry.hasKey(schema.type)) {\n            var regElement = this.registry.get(schema.type, undefined);\n            if (!(regElement instanceof smodel_1.SModelRoot))\n                throw new Error(\"Element with type \" + schema.type + \" was expected to be an SModelRoot.\");\n            root = regElement;\n        }\n        else if (this.isGraphSchema(schema)) {\n            root = new sgraph_1.SGraph();\n        }\n        else {\n            root = new smodel_1.SModelRoot();\n        }\n        return this.initializeRoot(root, schema);\n    };\n    SGraphFactory.prototype.isGraphSchema = function (schema) {\n        return smodel_utils_1.getBasicType(schema) === 'graph';\n    };\n    SGraphFactory.prototype.isNodeSchema = function (schema) {\n        return smodel_utils_1.getBasicType(schema) === 'node';\n    };\n    SGraphFactory.prototype.isPortSchema = function (schema) {\n        return smodel_utils_1.getBasicType(schema) === 'port';\n    };\n    SGraphFactory.prototype.isEdgeSchema = function (schema) {\n        return smodel_utils_1.getBasicType(schema) === 'edge';\n    };\n    SGraphFactory.prototype.isLabelSchema = function (schema) {\n        return smodel_utils_1.getBasicType(schema) === 'label';\n    };\n    SGraphFactory.prototype.isCompartmentSchema = function (schema) {\n        return smodel_utils_1.getBasicType(schema) === 'comp';\n    };\n    SGraphFactory.prototype.isButtonSchema = function (schema) {\n        return smodel_utils_1.getBasicType(schema) === 'button';\n    };\n    SGraphFactory = __decorate([\n        inversify_1.injectable()\n    ], SGraphFactory);\n    return SGraphFactory;\n}(smodel_factory_1.SModelFactory));\nexports.SGraphFactory = SGraphFactory;\n//# sourceMappingURL=sgraph-factory.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"../base/model/smodel\");\nvar model_1 = require(\"../features/bounds/model\");\nvar model_2 = require(\"../features/edge-layout/model\");\nvar delete_1 = require(\"../features/edit/delete\");\nvar model_3 = require(\"../features/edit/model\");\nvar model_4 = require(\"../features/fade/model\");\nvar model_5 = require(\"../features/hover/model\");\nvar model_6 = require(\"../features/move/model\");\nvar model_7 = require(\"../features/routing/model\");\nvar model_8 = require(\"../features/select/model\");\nvar viewport_root_1 = require(\"../features/viewport/viewport-root\");\nvar geometry_1 = require(\"../utils/geometry\");\nvar iterable_1 = require(\"../utils/iterable\");\n/**\n * Root element for graph-like models.\n */\nvar SGraph = /** @class */ (function (_super) {\n    __extends(SGraph, _super);\n    function SGraph(index) {\n        if (index === void 0) { index = new SGraphIndex(); }\n        return _super.call(this, index) || this;\n    }\n    return SGraph;\n}(viewport_root_1.ViewportRootElement));\nexports.SGraph = SGraph;\n/**\n * Model element class for nodes, which are the main entities in a graph. A node can be connected to\n * another node via an SEdge. Such a connection can be direct, i.e. the node is the source or target of\n * the edge, or indirect through a port, i.e. it contains an SPort which is the source or target of the edge.\n */\nvar SNode = /** @class */ (function (_super) {\n    __extends(SNode, _super);\n    function SNode() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.selected = false;\n        _this.hoverFeedback = false;\n        _this.opacity = 1;\n        return _this;\n    }\n    SNode.prototype.canConnect = function (routable, role) {\n        return this.children.find(function (c) { return c instanceof SPort; }) === undefined;\n    };\n    SNode.prototype.hasFeature = function (feature) {\n        return feature === model_8.selectFeature || feature === model_6.moveFeature || feature === model_1.boundsFeature\n            || feature === model_1.layoutContainerFeature || feature === model_4.fadeFeature || feature === model_5.hoverFeedbackFeature\n            || feature === model_5.popupFeature || feature === model_7.connectableFeature || feature === delete_1.deletableFeature;\n    };\n    return SNode;\n}(model_7.SConnectableElement));\nexports.SNode = SNode;\n/**\n * A port is a connection point for edges. It should always be contained in an SNode.\n */\nvar SPort = /** @class */ (function (_super) {\n    __extends(SPort, _super);\n    function SPort() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.selected = false;\n        _this.hoverFeedback = false;\n        _this.opacity = 1;\n        return _this;\n    }\n    SPort.prototype.hasFeature = function (feature) {\n        return feature === model_8.selectFeature || feature === model_1.boundsFeature || feature === model_4.fadeFeature\n            || feature === model_5.hoverFeedbackFeature || feature === model_7.connectableFeature;\n    };\n    return SPort;\n}(model_7.SConnectableElement));\nexports.SPort = SPort;\n/**\n * Model element class for edges, which are the connectors in a graph. An edge has a source and a target,\n * each of which can be either a node or a port. The source and target elements are referenced via their\n * ids and can be resolved with the index stored in the root element.\n */\nvar SEdge = /** @class */ (function (_super) {\n    __extends(SEdge, _super);\n    function SEdge() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.selected = false;\n        _this.hoverFeedback = false;\n        _this.opacity = 1;\n        return _this;\n    }\n    SEdge.prototype.hasFeature = function (feature) {\n        return feature === model_4.fadeFeature || feature === model_8.selectFeature ||\n            feature === model_3.editFeature || feature === model_5.hoverFeedbackFeature ||\n            feature === delete_1.deletableFeature;\n    };\n    return SEdge;\n}(model_7.SRoutableElement));\nexports.SEdge = SEdge;\n/**\n * A label can be attached to a node, edge, or port, and contains some text to be rendered in its view.\n */\nvar SLabel = /** @class */ (function (_super) {\n    __extends(SLabel, _super);\n    function SLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.selected = false;\n        _this.alignment = geometry_1.ORIGIN_POINT;\n        _this.opacity = 1;\n        return _this;\n    }\n    SLabel.prototype.hasFeature = function (feature) {\n        return feature === model_1.boundsFeature || feature === model_1.alignFeature || feature === model_4.fadeFeature || feature === model_1.layoutableChildFeature || feature === model_2.edgeLayoutFeature;\n    };\n    return SLabel;\n}(model_1.SShapeElement));\nexports.SLabel = SLabel;\n/**\n * A compartment is used to group multiple child elements such as labels of a node. Usually a `vbox`\n * or `hbox` layout is used to arrange these children.\n */\nvar SCompartment = /** @class */ (function (_super) {\n    __extends(SCompartment, _super);\n    function SCompartment() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.opacity = 1;\n        return _this;\n    }\n    SCompartment.prototype.hasFeature = function (feature) {\n        return feature === model_1.boundsFeature || feature === model_1.layoutContainerFeature || feature === model_1.layoutableChildFeature || feature === model_4.fadeFeature;\n    };\n    return SCompartment;\n}(model_1.SShapeElement));\nexports.SCompartment = SCompartment;\n/**\n * A specialized model index that tracks outgoing and incoming edges.\n */\nvar SGraphIndex = /** @class */ (function (_super) {\n    __extends(SGraphIndex, _super);\n    function SGraphIndex() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.outgoing = new Map;\n        _this.incoming = new Map;\n        return _this;\n    }\n    SGraphIndex.prototype.add = function (element) {\n        _super.prototype.add.call(this, element);\n        if (element instanceof SEdge) {\n            // Register the edge in the outgoing map\n            if (element.sourceId) {\n                var sourceArr = this.outgoing.get(element.sourceId);\n                if (sourceArr === undefined)\n                    this.outgoing.set(element.sourceId, [element]);\n                else\n                    sourceArr.push(element);\n            }\n            // Register the edge in the incoming map\n            if (element.targetId) {\n                var targetArr = this.incoming.get(element.targetId);\n                if (targetArr === undefined)\n                    this.incoming.set(element.targetId, [element]);\n                else\n                    targetArr.push(element);\n            }\n        }\n    };\n    SGraphIndex.prototype.remove = function (element) {\n        _super.prototype.remove.call(this, element);\n        if (element instanceof SEdge) {\n            // Remove the edge from the outgoing map\n            var sourceArr = this.outgoing.get(element.sourceId);\n            if (sourceArr !== undefined) {\n                var index = sourceArr.indexOf(element);\n                if (index >= 0) {\n                    if (sourceArr.length === 1)\n                        this.outgoing.delete(element.sourceId);\n                    else\n                        sourceArr.splice(index, 1);\n                }\n            }\n            // Remove the edge from the incoming map\n            var targetArr = this.incoming.get(element.targetId);\n            if (targetArr !== undefined) {\n                var index = targetArr.indexOf(element);\n                if (index >= 0) {\n                    if (targetArr.length === 1)\n                        this.incoming.delete(element.targetId);\n                    else\n                        targetArr.splice(index, 1);\n                }\n            }\n        }\n    };\n    SGraphIndex.prototype.getAttachedElements = function (element) {\n        var _this = this;\n        return new iterable_1.FluentIterableImpl(function () { return ({\n            outgoing: _this.outgoing.get(element.id),\n            incoming: _this.incoming.get(element.id),\n            nextOutgoingIndex: 0,\n            nextIncomingIndex: 0\n        }); }, function (state) {\n            var index = state.nextOutgoingIndex;\n            if (state.outgoing !== undefined && index < state.outgoing.length) {\n                state.nextOutgoingIndex = index + 1;\n                return { done: false, value: state.outgoing[index] };\n            }\n            index = state.nextIncomingIndex;\n            if (state.incoming !== undefined) {\n                // Filter out self-loops: edges that are both outgoing and incoming\n                while (index < state.incoming.length) {\n                    var edge = state.incoming[index];\n                    if (edge.sourceId !== edge.targetId) {\n                        state.nextIncomingIndex = index + 1;\n                        return { done: false, value: edge };\n                    }\n                    index++;\n                }\n            }\n            return { done: true, value: undefined };\n        });\n    };\n    SGraphIndex.prototype.getIncomingEdges = function (element) {\n        return this.incoming.get(element.id) || [];\n    };\n    SGraphIndex.prototype.getOutgoingEdges = function (element) {\n        return this.outgoing.get(element.id) || [];\n    };\n    return SGraphIndex;\n}(smodel_1.SModelIndex));\nexports.SGraphIndex = SGraphIndex;\n//# sourceMappingURL=sgraph.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx svg */\nvar inversify_1 = require(\"inversify\");\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\");\nvar smodel_utils_1 = require(\"../base/model/smodel-utils\");\nvar vnode_utils_1 = require(\"../base/views/vnode-utils\");\nvar model_1 = require(\"../features/routing/model\");\nvar routing_1 = require(\"../features/routing/routing\");\n/**\n * IView component that turns an SGraph element and its children into a tree of virtual DOM elements.\n */\nvar SGraphView = /** @class */ (function () {\n    function SGraphView() {\n    }\n    SGraphView.prototype.render = function (model, context) {\n        var transform = \"scale(\" + model.zoom + \") translate(\" + -model.scroll.x + \",\" + -model.scroll.y + \")\";\n        return snabbdom_jsx_1.svg(\"svg\", { \"class-sprotty-graph\": true },\n            snabbdom_jsx_1.svg(\"g\", { transform: transform }, context.renderChildren(model)));\n    };\n    SGraphView = __decorate([\n        inversify_1.injectable()\n    ], SGraphView);\n    return SGraphView;\n}());\nexports.SGraphView = SGraphView;\nvar PolylineEdgeView = /** @class */ (function () {\n    function PolylineEdgeView() {\n    }\n    PolylineEdgeView.prototype.render = function (edge, context) {\n        var router = this.edgeRouterRegistry.get(edge.routerKind);\n        var route = router.route(edge);\n        if (route.length === 0)\n            return this.renderDanglingEdge(\"Cannot compute route\", edge, context);\n        return snabbdom_jsx_1.svg(\"g\", { \"class-sprotty-edge\": true, \"class-mouseover\": edge.hoverFeedback },\n            this.renderLine(edge, route, context),\n            this.renderAdditionals(edge, route, context),\n            context.renderChildren(edge, { route: route }));\n    };\n    PolylineEdgeView.prototype.renderLine = function (edge, segments, context) {\n        var firstPoint = segments[0];\n        var path = \"M \" + firstPoint.x + \",\" + firstPoint.y;\n        for (var i = 1; i < segments.length; i++) {\n            var p = segments[i];\n            path += \" L \" + p.x + \",\" + p.y;\n        }\n        return snabbdom_jsx_1.svg(\"path\", { d: path });\n    };\n    PolylineEdgeView.prototype.renderAdditionals = function (edge, segments, context) {\n        return [];\n    };\n    PolylineEdgeView.prototype.renderDanglingEdge = function (message, edge, context) {\n        return snabbdom_jsx_1.svg(\"text\", { \"class-sprotty-edge-dangling\": true, title: message }, \"?\");\n    };\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], PolylineEdgeView.prototype, \"edgeRouterRegistry\", void 0);\n    PolylineEdgeView = __decorate([\n        inversify_1.injectable()\n    ], PolylineEdgeView);\n    return PolylineEdgeView;\n}());\nexports.PolylineEdgeView = PolylineEdgeView;\nvar SRoutingHandleView = /** @class */ (function () {\n    function SRoutingHandleView() {\n        this.minimalPointDistance = 10;\n    }\n    SRoutingHandleView.prototype.render = function (handle, context, args) {\n        if (args && args.route) {\n            if (handle.parent instanceof model_1.SRoutableElement) {\n                var router = this.edgeRouterRegistry.get(handle.parent.routerKind);\n                var theRoute = args.route === undefined ? router.route(handle.parent) : args.route;\n                var position = router.getHandlePosition(handle.parent, theRoute, handle);\n                if (position !== undefined) {\n                    var node = snabbdom_jsx_1.svg(\"circle\", { \"class-sprotty-routing-handle\": true, \"class-selected\": handle.selected, \"class-mouseover\": handle.hoverFeedback, cx: position.x, cy: position.y, r: this.getRadius() });\n                    vnode_utils_1.setAttr(node, 'data-kind', handle.kind);\n                    return node;\n                }\n            }\n        }\n        // Fallback: Create an empty group\n        return snabbdom_jsx_1.svg(\"g\", null);\n    };\n    SRoutingHandleView.prototype.getRadius = function () {\n        return 7;\n    };\n    __decorate([\n        inversify_1.inject(routing_1.EdgeRouterRegistry),\n        __metadata(\"design:type\", routing_1.EdgeRouterRegistry)\n    ], SRoutingHandleView.prototype, \"edgeRouterRegistry\", void 0);\n    SRoutingHandleView = __decorate([\n        inversify_1.injectable()\n    ], SRoutingHandleView);\n    return SRoutingHandleView;\n}());\nexports.SRoutingHandleView = SRoutingHandleView;\nvar SLabelView = /** @class */ (function () {\n    function SLabelView() {\n    }\n    SLabelView.prototype.render = function (label, context) {\n        var vnode = snabbdom_jsx_1.svg(\"text\", { \"class-sprotty-label\": true }, label.text);\n        var subType = smodel_utils_1.getSubType(label);\n        if (subType)\n            vnode_utils_1.setAttr(vnode, 'class', subType);\n        return vnode;\n    };\n    SLabelView = __decorate([\n        inversify_1.injectable()\n    ], SLabelView);\n    return SLabelView;\n}());\nexports.SLabelView = SLabelView;\nvar SCompartmentView = /** @class */ (function () {\n    function SCompartmentView() {\n    }\n    SCompartmentView.prototype.render = function (model, context) {\n        var translate = \"translate(\" + model.bounds.x + \", \" + model.bounds.y + \")\";\n        var vnode = snabbdom_jsx_1.svg(\"g\", { transform: translate, \"class-sprotty-comp\": \"{true}\" }, context.renderChildren(model));\n        var subType = smodel_utils_1.getSubType(model);\n        if (subType)\n            vnode_utils_1.setAttr(vnode, 'class', subType);\n        return vnode;\n    };\n    SCompartmentView = __decorate([\n        inversify_1.injectable()\n    ], SCompartmentView);\n    return SCompartmentView;\n}());\nexports.SCompartmentView = SCompartmentView;\n//# sourceMappingURL=views.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// ------------------ Base ------------------\n__export(require(\"./base/actions/action\"));\n__export(require(\"./base/actions/action-dispatcher\"));\n__export(require(\"./base/actions/action-handler\"));\n__export(require(\"./base/actions/diagram-locker\"));\n__export(require(\"./base/animations/animation-frame-syncer\"));\n__export(require(\"./base/animations/animation\"));\n__export(require(\"./base/animations/easing\"));\n__export(require(\"./base/commands/command\"));\n__export(require(\"./base/commands/command-registration\"));\n__export(require(\"./base/commands/command-stack-options\"));\n__export(require(\"./base/commands/command-stack\"));\n__export(require(\"./base/features/initialize-canvas\"));\n__export(require(\"./base/features/set-model\"));\n__export(require(\"./base/model/smodel-factory\"));\n__export(require(\"./base/model/smodel-utils\"));\n__export(require(\"./base/model/smodel\"));\n__export(require(\"./base/tool-manager/tool-manager\"));\n__export(require(\"./base/tool-manager/tool\"));\n__export(require(\"./base/ui-extensions/ui-extension-registry\"));\n__export(require(\"./base/ui-extensions/ui-extension\"));\n__export(require(\"./base/views/key-tool\"));\n__export(require(\"./base/views/mouse-tool\"));\n__export(require(\"./base/views/thunk-view\"));\n__export(require(\"./base/views/view\"));\n__export(require(\"./base/views/viewer-cache\"));\n__export(require(\"./base/views/viewer-options\"));\n__export(require(\"./base/views/viewer\"));\n__export(require(\"./base/views/vnode-decorators\"));\n__export(require(\"./base/views/vnode-utils\"));\n__export(require(\"./base/types\"));\nvar di_config_1 = require(\"./base/di.config\");\nexports.defaultModule = di_config_1.default;\n// ------------------ Features ------------------\n__export(require(\"./features/bounds/bounds-manipulation\"));\n__export(require(\"./features/bounds/hidden-bounds-updater\"));\n__export(require(\"./features/bounds/layout\"));\n__export(require(\"./features/bounds/model\"));\n__export(require(\"./features/bounds/vbox-layout\"));\n__export(require(\"./features/bounds/hbox-layout\"));\n__export(require(\"./features/bounds/stack-layout\"));\n__export(require(\"./features/button/button-handler\"));\n__export(require(\"./features/button/model\"));\n__export(require(\"./features/command-palette/action-providers\"));\n__export(require(\"./features/command-palette/command-palette\"));\n__export(require(\"./features/edge-layout/di.config\"));\n__export(require(\"./features/edge-layout/edge-layout\"));\n__export(require(\"./features/edge-layout/model\"));\n__export(require(\"./features/edit/create\"));\n__export(require(\"./features/edit/create-on-drag\"));\n__export(require(\"./features/edit/di.config\"));\n__export(require(\"./features/edit/delete\"));\n__export(require(\"./features/edit/edit-label\"));\n__export(require(\"./features/edit/edit-routing\"));\n__export(require(\"./features/edit/model\"));\n__export(require(\"./features/edit/reconnect\"));\n__export(require(\"./features/expand/expand\"));\n__export(require(\"./features/expand/model\"));\n__export(require(\"./features/expand/views\"));\n__export(require(\"./features/export/export\"));\n__export(require(\"./features/export/model\"));\n__export(require(\"./features/export/svg-exporter\"));\n__export(require(\"./features/fade/fade\"));\n__export(require(\"./features/fade/model\"));\n__export(require(\"./features/hover/hover\"));\n__export(require(\"./features/hover/model\"));\n__export(require(\"./features/decoration/model\"));\n__export(require(\"./features/decoration/views\"));\n__export(require(\"./features/decoration/decoration-placer\"));\n__export(require(\"./features/move/model\"));\n__export(require(\"./features/move/move\"));\n__export(require(\"./features/nameable/model\"));\n__export(require(\"./features/open/open\"));\n__export(require(\"./features/open/model\"));\n__export(require(\"./features/routing/anchor\"));\n__export(require(\"./features/routing/linear-edge-router\"));\n__export(require(\"./features/routing/manhattan-anchors\"));\n__export(require(\"./features/routing/manhattan-edge-router\"));\n__export(require(\"./features/routing/model\"));\n__export(require(\"./features/routing/polyline-anchors\"));\n__export(require(\"./features/routing/polyline-edge-router\"));\n__export(require(\"./features/routing/routing\"));\n__export(require(\"./features/select/model\"));\n__export(require(\"./features/select/select\"));\n__export(require(\"./features/undo-redo/undo-redo\"));\n__export(require(\"./features/update/model-matching\"));\n__export(require(\"./features/update/update-model\"));\n__export(require(\"./features/viewport/center-fit\"));\n__export(require(\"./features/viewport/model\"));\n__export(require(\"./features/viewport/scroll\"));\n__export(require(\"./features/viewport/viewport-root\"));\n__export(require(\"./features/viewport/viewport\"));\n__export(require(\"./features/viewport/zoom\"));\nvar di_config_2 = require(\"./graph/di.config\");\nexports.graphModule = di_config_2.default;\nvar di_config_3 = require(\"./features/bounds/di.config\");\nexports.boundsModule = di_config_3.default;\nvar di_config_4 = require(\"./features/button/di.config\");\nexports.buttonModule = di_config_4.default;\nvar di_config_5 = require(\"./features/command-palette/di.config\");\nexports.commandPaletteModule = di_config_5.default;\nvar di_config_6 = require(\"./features/decoration/di.config\");\nexports.decorationModule = di_config_6.default;\nvar di_config_7 = require(\"./features/edge-layout/di.config\");\nexports.edgeLayoutModule = di_config_7.default;\nvar di_config_8 = require(\"./features/expand/di.config\");\nexports.expandModule = di_config_8.default;\nvar di_config_9 = require(\"./features/export/di.config\");\nexports.exportModule = di_config_9.default;\nvar di_config_10 = require(\"./features/fade/di.config\");\nexports.fadeModule = di_config_10.default;\nvar di_config_11 = require(\"./features/hover/di.config\");\nexports.hoverModule = di_config_11.default;\nvar di_config_12 = require(\"./features/move/di.config\");\nexports.moveModule = di_config_12.default;\nvar di_config_13 = require(\"./features/open/di.config\");\nexports.openModule = di_config_13.default;\nvar di_config_14 = require(\"./features/routing/di.config\");\nexports.routingModule = di_config_14.default;\nvar di_config_15 = require(\"./features/select/di.config\");\nexports.selectModule = di_config_15.default;\nvar di_config_16 = require(\"./features/undo-redo/di.config\");\nexports.undoRedoModule = di_config_16.default;\nvar di_config_17 = require(\"./features/update/di.config\");\nexports.updateModule = di_config_17.default;\nvar di_config_18 = require(\"./features/viewport/di.config\");\nexports.viewportModule = di_config_18.default;\n// ------------------ Graph ------------------\n__export(require(\"./graph/sgraph-factory\"));\n__export(require(\"./graph/sgraph\"));\n__export(require(\"./graph/views\"));\n// ------------------ Library ------------------\n__export(require(\"./lib/generic-views\"));\n__export(require(\"./lib/html-views\"));\n__export(require(\"./lib/model\"));\n__export(require(\"./lib/svg-views\"));\n// ------------------ Model Source ------------------\n__export(require(\"./model-source/commit-model\"));\n__export(require(\"./model-source/diagram-server\"));\n__export(require(\"./model-source/local-model-source\"));\n__export(require(\"./model-source/logging\"));\n__export(require(\"./model-source/model-source\"));\n__export(require(\"./model-source/websocket\"));\nvar di_config_19 = require(\"./model-source/di.config\");\nexports.modelSourceModule = di_config_19.default;\n// ------------------ Utilities ------------------\n__export(require(\"./utils/browser\"));\n__export(require(\"./utils/color\"));\n__export(require(\"./utils/geometry\"));\n__export(require(\"./utils/inversify\"));\n__export(require(\"./utils/logging\"));\n__export(require(\"./utils/registry\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar strings_1 = require(\"snabbdom-virtualize/strings\");\nvar inversify_1 = require(\"inversify\");\nvar PreRenderedView = /** @class */ (function () {\n    function PreRenderedView() {\n    }\n    PreRenderedView.prototype.render = function (model, context) {\n        var node = strings_1.default(model.code);\n        this.correctNamespace(node);\n        return node;\n    };\n    PreRenderedView.prototype.correctNamespace = function (node) {\n        if (node.sel === 'svg' || node.sel === 'g')\n            this.setNamespace(node, 'http://www.w3.org/2000/svg');\n    };\n    PreRenderedView.prototype.setNamespace = function (node, ns) {\n        if (node.data === undefined)\n            node.data = {};\n        node.data.ns = ns;\n        var children = node.children;\n        if (children !== undefined) {\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (typeof child !== 'string')\n                    this.setNamespace(child, ns);\n            }\n        }\n    };\n    PreRenderedView = __decorate([\n        inversify_1.injectable()\n    ], PreRenderedView);\n    return PreRenderedView;\n}());\nexports.PreRenderedView = PreRenderedView;\n//# sourceMappingURL=generic-views.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx html */\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\");\nvar vnode_utils_1 = require(\"../base/views/vnode-utils\");\nvar inversify_1 = require(\"inversify\");\nvar HtmlRootView = /** @class */ (function () {\n    function HtmlRootView() {\n    }\n    HtmlRootView.prototype.render = function (model, context) {\n        var root = snabbdom_jsx_1.html(\"div\", null, context.renderChildren(model));\n        for (var _i = 0, _a = model.classes; _i < _a.length; _i++) {\n            var c = _a[_i];\n            vnode_utils_1.setClass(root, c, true);\n        }\n        return root;\n    };\n    HtmlRootView = __decorate([\n        inversify_1.injectable()\n    ], HtmlRootView);\n    return HtmlRootView;\n}());\nexports.HtmlRootView = HtmlRootView;\n//# sourceMappingURL=html-views.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar smodel_1 = require(\"../base/model/smodel\");\nvar geometry_1 = require(\"../utils/geometry\");\nvar model_1 = require(\"../features/bounds/model\");\nvar model_2 = require(\"../features/move/model\");\nvar model_3 = require(\"../features/select/model\");\nvar sgraph_1 = require(\"../graph/sgraph\");\nvar anchor_1 = require(\"../features/routing/anchor\");\n/**\n * A node that is represented by a circle.\n */\nvar CircularNode = /** @class */ (function (_super) {\n    __extends(CircularNode, _super);\n    function CircularNode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CircularNode.prototype, \"anchorKind\", {\n        get: function () {\n            return anchor_1.ELLIPTIC_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CircularNode;\n}(sgraph_1.SNode));\nexports.CircularNode = CircularNode;\n/**\n * A node that is represented by a rectangle.\n */\nvar RectangularNode = /** @class */ (function (_super) {\n    __extends(RectangularNode, _super);\n    function RectangularNode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(RectangularNode.prototype, \"anchorKind\", {\n        get: function () {\n            return anchor_1.RECTANGULAR_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RectangularNode;\n}(sgraph_1.SNode));\nexports.RectangularNode = RectangularNode;\n/**\n * A node that is represented by a diamond.\n */\nvar DiamondNode = /** @class */ (function (_super) {\n    __extends(DiamondNode, _super);\n    function DiamondNode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(DiamondNode.prototype, \"anchorKind\", {\n        get: function () {\n            return anchor_1.DIAMOND_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return DiamondNode;\n}(sgraph_1.SNode));\nexports.DiamondNode = DiamondNode;\n/**\n * A port that is represented by a circle.\n */\nvar CircularPort = /** @class */ (function (_super) {\n    __extends(CircularPort, _super);\n    function CircularPort() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(CircularPort.prototype, \"anchorKind\", {\n        get: function () {\n            return anchor_1.ELLIPTIC_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CircularPort;\n}(sgraph_1.SPort));\nexports.CircularPort = CircularPort;\n/**\n * A port that is represented by a rectangle.\n */\nvar RectangularPort = /** @class */ (function (_super) {\n    __extends(RectangularPort, _super);\n    function RectangularPort() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(RectangularPort.prototype, \"anchorKind\", {\n        get: function () {\n            return anchor_1.RECTANGULAR_ANCHOR_KIND;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return RectangularPort;\n}(sgraph_1.SPort));\nexports.RectangularPort = RectangularPort;\n/**\n * Root model element class for HTML content. Usually this is rendered with a `div` DOM element.\n */\nvar HtmlRoot = /** @class */ (function (_super) {\n    __extends(HtmlRoot, _super);\n    function HtmlRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.classes = [];\n        return _this;\n    }\n    return HtmlRoot;\n}(smodel_1.SModelRoot));\nexports.HtmlRoot = HtmlRoot;\n/**\n * Pre-rendered elements contain HTML or SVG code to be transferred to the DOM. This can be useful to\n * render complex figures or to compute the view on the server instead of the client code.\n */\nvar PreRenderedElement = /** @class */ (function (_super) {\n    __extends(PreRenderedElement, _super);\n    function PreRenderedElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return PreRenderedElement;\n}(smodel_1.SChildElement));\nexports.PreRenderedElement = PreRenderedElement;\n/**\n * Same as PreRenderedElement, but with a position and a size.\n */\nvar ShapedPreRenderedElement = /** @class */ (function (_super) {\n    __extends(ShapedPreRenderedElement, _super);\n    function ShapedPreRenderedElement() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.position = geometry_1.ORIGIN_POINT;\n        _this.size = geometry_1.EMPTY_DIMENSION;\n        _this.selected = false;\n        _this.alignment = geometry_1.ORIGIN_POINT;\n        return _this;\n    }\n    Object.defineProperty(ShapedPreRenderedElement.prototype, \"bounds\", {\n        get: function () {\n            return {\n                x: this.position.x,\n                y: this.position.y,\n                width: this.size.width,\n                height: this.size.height\n            };\n        },\n        set: function (newBounds) {\n            this.position = {\n                x: newBounds.x,\n                y: newBounds.y\n            };\n            this.size = {\n                width: newBounds.width,\n                height: newBounds.height\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShapedPreRenderedElement.prototype.hasFeature = function (feature) {\n        return feature === model_2.moveFeature || feature === model_1.boundsFeature || feature === model_3.selectFeature || feature === model_1.alignFeature;\n    };\n    return ShapedPreRenderedElement;\n}(PreRenderedElement));\nexports.ShapedPreRenderedElement = ShapedPreRenderedElement;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx svg */\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\");\nvar sgraph_1 = require(\"../graph/sgraph\");\nvar geometry_1 = require(\"../utils/geometry\");\nvar inversify_1 = require(\"inversify\");\nvar SvgViewportView = /** @class */ (function () {\n    function SvgViewportView() {\n    }\n    SvgViewportView.prototype.render = function (model, context) {\n        var transform = \"scale(\" + model.zoom + \") translate(\" + -model.scroll.x + \",\" + -model.scroll.y + \")\";\n        return snabbdom_jsx_1.svg(\"svg\", null,\n            snabbdom_jsx_1.svg(\"g\", { transform: transform }, context.renderChildren(model)));\n    };\n    SvgViewportView = __decorate([\n        inversify_1.injectable()\n    ], SvgViewportView);\n    return SvgViewportView;\n}());\nexports.SvgViewportView = SvgViewportView;\nvar CircularNodeView = /** @class */ (function () {\n    function CircularNodeView() {\n    }\n    CircularNodeView.prototype.render = function (node, context) {\n        var radius = this.getRadius(node);\n        return snabbdom_jsx_1.svg(\"g\", null,\n            snabbdom_jsx_1.svg(\"circle\", { \"class-sprotty-node\": node instanceof sgraph_1.SNode, \"class-sprotty-port\": node instanceof sgraph_1.SPort, \"class-mouseover\": node.hoverFeedback, \"class-selected\": node.selected, r: radius, cx: radius, cy: radius }),\n            context.renderChildren(node));\n    };\n    CircularNodeView.prototype.getRadius = function (node) {\n        var d = Math.min(node.size.width, node.size.height);\n        return d > 0 ? d / 2 : 0;\n    };\n    CircularNodeView = __decorate([\n        inversify_1.injectable()\n    ], CircularNodeView);\n    return CircularNodeView;\n}());\nexports.CircularNodeView = CircularNodeView;\nvar RectangularNodeView = /** @class */ (function () {\n    function RectangularNodeView() {\n    }\n    RectangularNodeView.prototype.render = function (node, context) {\n        return snabbdom_jsx_1.svg(\"g\", null,\n            snabbdom_jsx_1.svg(\"rect\", { \"class-sprotty-node\": node instanceof sgraph_1.SNode, \"class-sprotty-port\": node instanceof sgraph_1.SPort, \"class-mouseover\": node.hoverFeedback, \"class-selected\": node.selected, x: \"0\", y: \"0\", width: Math.max(node.size.width, 0), height: Math.max(node.size.height, 0) }),\n            context.renderChildren(node));\n    };\n    RectangularNodeView = __decorate([\n        inversify_1.injectable()\n    ], RectangularNodeView);\n    return RectangularNodeView;\n}());\nexports.RectangularNodeView = RectangularNodeView;\nvar DiamondNodeView = /** @class */ (function () {\n    function DiamondNodeView() {\n    }\n    DiamondNodeView.prototype.render = function (node, context) {\n        var diamond = new geometry_1.Diamond({ height: Math.max(node.size.height, 0), width: Math.max(node.size.width, 0), x: 0, y: 0 });\n        var points = svgStr(diamond.topPoint) + \" \" + svgStr(diamond.rightPoint) + \" \" + svgStr(diamond.bottomPoint) + \" \" + svgStr(diamond.leftPoint);\n        return snabbdom_jsx_1.svg(\"g\", null,\n            snabbdom_jsx_1.svg(\"polygon\", { \"class-sprotty-node\": node instanceof sgraph_1.SNode, \"class-sprotty-port\": node instanceof sgraph_1.SPort, \"class-mouseover\": node.hoverFeedback, \"class-selected\": node.selected, points: points }),\n            context.renderChildren(node));\n    };\n    DiamondNodeView = __decorate([\n        inversify_1.injectable()\n    ], DiamondNodeView);\n    return DiamondNodeView;\n}());\nexports.DiamondNodeView = DiamondNodeView;\nfunction svgStr(point) {\n    return point.x + \",\" + point.y;\n}\nvar EmptyGroupView = /** @class */ (function () {\n    function EmptyGroupView() {\n    }\n    EmptyGroupView.prototype.render = function (node, context) {\n        return snabbdom_jsx_1.svg(\"g\", null);\n    };\n    EmptyGroupView = __decorate([\n        inversify_1.injectable()\n    ], EmptyGroupView);\n    return EmptyGroupView;\n}());\nexports.EmptyGroupView = EmptyGroupView;\n//# sourceMappingURL=svg-views.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar command_1 = require(\"../base/commands/command\");\nvar types_1 = require(\"../base/types\");\nvar model_source_1 = require(\"./model-source\");\n/**\n * Commit the current SModel back to the model source.\n *\n * The SModel (AKA internal model) contains a lot of dirty/transitional state, such\n * as intermediate move postions or handles. When a user interaction that spans multiple\n * commands finishes, it fires a CommitModelAction to write the final changes back to\n * the model source.\n */\nvar CommitModelAction = /** @class */ (function () {\n    function CommitModelAction() {\n        this.kind = CommitModelCommand.KIND;\n    }\n    return CommitModelAction;\n}());\nexports.CommitModelAction = CommitModelAction;\nvar CommitModelCommand = /** @class */ (function (_super) {\n    __extends(CommitModelCommand, _super);\n    function CommitModelCommand(action) {\n        return _super.call(this) || this;\n    }\n    CommitModelCommand.prototype.execute = function (context) {\n        this.newModel = context.modelFactory.createSchema(context.root);\n        return this.doCommit(this.newModel, context.root, true);\n    };\n    CommitModelCommand.prototype.doCommit = function (model, result, doSetOriginal) {\n        var _this = this;\n        var commitResult = this.modelSource.commitModel(model);\n        if (commitResult instanceof Promise) {\n            return commitResult.then(function (originalModel) {\n                if (doSetOriginal)\n                    _this.originalModel = originalModel;\n                return result;\n            });\n        }\n        else {\n            if (doSetOriginal)\n                this.originalModel = commitResult;\n            return result;\n        }\n    };\n    CommitModelCommand.prototype.undo = function (context) {\n        return this.doCommit(this.originalModel, context.root, false);\n    };\n    CommitModelCommand.prototype.redo = function (context) {\n        return this.doCommit(this.newModel, context.root, false);\n    };\n    CommitModelCommand.KIND = 'commitModel';\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ModelSource),\n        __metadata(\"design:type\", model_source_1.ModelSource)\n    ], CommitModelCommand.prototype, \"modelSource\", void 0);\n    CommitModelCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [CommitModelAction])\n    ], CommitModelCommand);\n    return CommitModelCommand;\n}(command_1.SystemCommand));\nexports.CommitModelCommand = CommitModelCommand;\n//# sourceMappingURL=commit-model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../base/types\");\nvar command_registration_1 = require(\"../base/commands/command-registration\");\nvar commit_model_1 = require(\"./commit-model\");\n/**\n * This container module does NOT provide any binding for TYPES.ModelSource because that needs to be\n * done according to the needs of the application. You can choose between a local (LocalModelSource)\n * and a remote (e.g. WebSocketDiagramServer) implementation.\n */\nvar modelSourceModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    bind(types_1.TYPES.ModelSourceProvider).toProvider(function (context) {\n        return function () {\n            return new Promise(function (resolve) {\n                resolve(context.container.get(types_1.TYPES.ModelSource));\n            });\n        };\n    });\n    command_registration_1.configureCommand({ bind: bind, isBound: isBound }, commit_model_1.CommitModelCommand);\n    bind(types_1.TYPES.IActionHandlerInitializer).toService(types_1.TYPES.ModelSource);\n});\nexports.default = modelSourceModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar file_saver_1 = require(\"file-saver\");\nvar inversify_1 = require(\"inversify\");\nvar set_model_1 = require(\"../base/features/set-model\");\nvar smodel_1 = require(\"../base/model/smodel\");\nvar types_1 = require(\"../base/types\");\nvar bounds_manipulation_1 = require(\"../features/bounds/bounds-manipulation\");\nvar expand_1 = require(\"../features/expand/expand\");\nvar svg_exporter_1 = require(\"../features/export/svg-exporter\");\nvar hover_1 = require(\"../features/hover/hover\");\nvar open_1 = require(\"../features/open/open\");\nvar update_model_1 = require(\"../features/update/update-model\");\nvar model_source_1 = require(\"./model-source\");\nfunction isActionMessage(object) {\n    return object !== undefined && object.hasOwnProperty('clientId') && object.hasOwnProperty('action');\n}\nexports.isActionMessage = isActionMessage;\n/**\n * Sent by the external server when to signal a state change.\n */\nvar ServerStatusAction = /** @class */ (function () {\n    function ServerStatusAction() {\n        this.kind = ServerStatusAction.KIND;\n    }\n    ServerStatusAction.KIND = 'serverStatus';\n    return ServerStatusAction;\n}());\nexports.ServerStatusAction = ServerStatusAction;\nvar receivedFromServerProperty = '__receivedFromServer';\n/**\n * A ModelSource that communicates with an external model provider, e.g.\n * a model editor.\n *\n * This class defines which actions are sent to and received from the\n * external model source.\n */\nvar DiagramServer = /** @class */ (function (_super) {\n    __extends(DiagramServer, _super);\n    function DiagramServer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentRoot = {\n            type: 'NONE',\n            id: 'ROOT'\n        };\n        return _this;\n    }\n    DiagramServer.prototype.initialize = function (registry) {\n        _super.prototype.initialize.call(this, registry);\n        // Register this model source\n        registry.register(bounds_manipulation_1.ComputedBoundsAction.KIND, this);\n        registry.register(bounds_manipulation_1.RequestBoundsCommand.KIND, this);\n        registry.register(hover_1.RequestPopupModelAction.KIND, this);\n        registry.register(expand_1.CollapseExpandAction.KIND, this);\n        registry.register(expand_1.CollapseExpandAllAction.KIND, this);\n        registry.register(open_1.OpenAction.KIND, this);\n        registry.register(ServerStatusAction.KIND, this);\n        this.clientId = this.viewerOptions.baseDiv;\n    };\n    DiagramServer.prototype.handle = function (action) {\n        var forwardToServer = this.handleLocally(action);\n        if (forwardToServer) {\n            var message = {\n                clientId: this.clientId,\n                action: action\n            };\n            this.logger.log(this, 'sending', message);\n            this.sendMessage(message);\n        }\n    };\n    DiagramServer.prototype.messageReceived = function (data) {\n        var _this = this;\n        var object = typeof (data) === 'string' ? JSON.parse(data) : data;\n        if (isActionMessage(object) && object.action) {\n            if (!object.clientId || object.clientId === this.clientId) {\n                object.action[receivedFromServerProperty] = true;\n                this.logger.log(this, 'receiving', object);\n                this.actionDispatcher.dispatch(object.action).then(function () {\n                    _this.storeNewModel(object.action);\n                });\n            }\n        }\n        else {\n            this.logger.error(this, 'received data is not an action message', object);\n        }\n    };\n    /**\n     * Check whether the given action should be handled locally. Returns true if the action should\n     * still be sent to the server, and false if it's only handled locally.\n     */\n    DiagramServer.prototype.handleLocally = function (action) {\n        this.storeNewModel(action);\n        switch (action.kind) {\n            case bounds_manipulation_1.ComputedBoundsAction.KIND:\n                return this.handleComputedBounds(action);\n            case bounds_manipulation_1.RequestBoundsCommand.KIND:\n                return false;\n            case svg_exporter_1.ExportSvgAction.KIND:\n                return this.handleExportSvgAction(action);\n            case ServerStatusAction.KIND:\n                return this.handleServerStateAction(action);\n        }\n        return !action[receivedFromServerProperty];\n    };\n    /**\n     * Put the new model contained in the given action into the model storage, if there is any.\n     */\n    DiagramServer.prototype.storeNewModel = function (action) {\n        if (action.kind === set_model_1.SetModelCommand.KIND\n            || action.kind === update_model_1.UpdateModelCommand.KIND\n            || action.kind === bounds_manipulation_1.RequestBoundsCommand.KIND) {\n            var newRoot = action.newRoot;\n            if (newRoot) {\n                this.currentRoot = newRoot;\n                if (action.kind === set_model_1.SetModelCommand.KIND || action.kind === update_model_1.UpdateModelCommand.KIND) {\n                    this.lastSubmittedModelType = newRoot.type;\n                }\n            }\n        }\n    };\n    /**\n     * If the server requires to compute a layout, the computed bounds are forwarded. Otherwise they\n     * are applied to the current model locally and a model update is triggered.\n     */\n    DiagramServer.prototype.handleComputedBounds = function (action) {\n        if (this.viewerOptions.needsServerLayout) {\n            return true;\n        }\n        else {\n            var index = new smodel_1.SModelIndex();\n            var root = this.currentRoot;\n            index.add(root);\n            for (var _i = 0, _a = action.bounds; _i < _a.length; _i++) {\n                var b = _a[_i];\n                var element = index.getById(b.elementId);\n                if (element !== undefined)\n                    this.applyBounds(element, b.newBounds);\n            }\n            if (action.alignments !== undefined) {\n                for (var _b = 0, _c = action.alignments; _b < _c.length; _b++) {\n                    var a = _c[_b];\n                    var element = index.getById(a.elementId);\n                    if (element !== undefined)\n                        this.applyAlignment(element, a.newAlignment);\n                }\n            }\n            if (root.type === this.lastSubmittedModelType) {\n                this.actionDispatcher.dispatch(new update_model_1.UpdateModelAction(root));\n            }\n            else {\n                this.actionDispatcher.dispatch(new set_model_1.SetModelAction(root));\n            }\n            this.lastSubmittedModelType = root.type;\n            return false;\n        }\n    };\n    DiagramServer.prototype.applyBounds = function (element, newBounds) {\n        var e = element;\n        e.position = { x: newBounds.x, y: newBounds.y };\n        e.size = { width: newBounds.width, height: newBounds.height };\n    };\n    DiagramServer.prototype.applyAlignment = function (element, newAlignment) {\n        var e = element;\n        e.alignment = { x: newAlignment.x, y: newAlignment.y };\n    };\n    DiagramServer.prototype.handleExportSvgAction = function (action) {\n        var blob = new Blob([action.svg], { type: \"text/plain;charset=utf-8\" });\n        file_saver_1.saveAs(blob, \"diagram.svg\");\n        return false;\n    };\n    DiagramServer.prototype.handleServerStateAction = function (action) {\n        return false;\n    };\n    DiagramServer.prototype.commitModel = function (newRoot) {\n        var previousRoot = this.currentRoot;\n        this.currentRoot = newRoot;\n        return previousRoot;\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], DiagramServer.prototype, \"logger\", void 0);\n    DiagramServer = __decorate([\n        inversify_1.injectable()\n    ], DiagramServer);\n    return DiagramServer;\n}(model_source_1.ModelSource));\nexports.DiagramServer = DiagramServer;\n//# sourceMappingURL=diagram-server.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar file_saver_1 = require(\"file-saver\");\nvar inversify_1 = require(\"inversify\");\nvar set_model_1 = require(\"../base/features/set-model\");\nvar smodel_1 = require(\"../base/model/smodel\");\nvar smodel_utils_1 = require(\"../base/model/smodel-utils\");\nvar types_1 = require(\"../base/types\");\nvar bounds_manipulation_1 = require(\"../features/bounds/bounds-manipulation\");\nvar svg_exporter_1 = require(\"../features/export/svg-exporter\");\nvar hover_1 = require(\"../features/hover/hover\");\nvar model_matching_1 = require(\"../features/update/model-matching\");\nvar update_model_1 = require(\"../features/update/update-model\");\nvar async_1 = require(\"../utils/async\");\nvar model_source_1 = require(\"./model-source\");\nvar smodel_factory_1 = require(\"../base/model/smodel-factory\");\n/**\n * A model source that allows to set and modify the model through function calls.\n * This class can be used as a facade over the action-based API of sprotty. It handles\n * actions for bounds calculation and model updates.\n */\nvar LocalModelSource = /** @class */ (function (_super) {\n    __extends(LocalModelSource, _super);\n    function LocalModelSource() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentRoot = smodel_factory_1.EMPTY_ROOT;\n        /**\n         * When client layout is active, model updates are not applied immediately. Instead the\n         * model is rendered on a hidden canvas first to derive actual bounds. The promises listed\n         * here are resolved after the new bounds have been applied and the new model state has\n         * been actually applied to the visible canvas.\n         */\n        _this.pendingUpdates = [];\n        return _this;\n    }\n    Object.defineProperty(LocalModelSource.prototype, \"model\", {\n        get: function () {\n            return this.currentRoot;\n        },\n        set: function (root) {\n            this.setModel(root);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LocalModelSource.prototype.initialize = function (registry) {\n        _super.prototype.initialize.call(this, registry);\n        // Register this model source\n        registry.register(bounds_manipulation_1.ComputedBoundsAction.KIND, this);\n        registry.register(hover_1.RequestPopupModelAction.KIND, this);\n    };\n    /**\n     * Set the model without incremental update.\n     */\n    LocalModelSource.prototype.setModel = function (newRoot) {\n        this.currentRoot = newRoot;\n        return this.submitModel(newRoot, false);\n    };\n    LocalModelSource.prototype.commitModel = function (newRoot) {\n        var previousRoot = this.currentRoot;\n        this.currentRoot = newRoot;\n        return previousRoot;\n    };\n    /**\n     * Apply an incremental update to the model with an animation showing the transition to\n     * the new state. If `newRoot` is undefined, the current root is submitted; in that case\n     * it is assumed that it has been modified before.\n     */\n    LocalModelSource.prototype.updateModel = function (newRoot) {\n        if (newRoot === undefined) {\n            return this.submitModel(this.currentRoot, true);\n        }\n        else {\n            this.currentRoot = newRoot;\n            return this.submitModel(newRoot, true);\n        }\n    };\n    /**\n     * If client layout is active, run a `RequestBoundsAction` and wait for the resulting\n     * `ComputedBoundsAction`, otherwise call `doSubmitModel()` directly.\n     */\n    LocalModelSource.prototype.submitModel = function (newRoot, update) {\n        if (this.viewerOptions.needsClientLayout) {\n            var deferred = new async_1.Deferred();\n            this.pendingUpdates.push(deferred);\n            this.actionDispatcher.dispatch(new bounds_manipulation_1.RequestBoundsAction(newRoot));\n            return deferred.promise;\n        }\n        else {\n            return this.doSubmitModel(newRoot, update);\n        }\n    };\n    /**\n     * Submit the given model with an `UpdateModelAction` or a `SetModelAction` depending on the\n     * `update` argument. If available, the model layout engine is invoked first.\n     */\n    LocalModelSource.prototype.doSubmitModel = function (newRoot, update, index) {\n        return __awaiter(this, void 0, void 0, function () {\n            var layoutResult, error_1, lastSubmittedModelType, updates, input;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(this.layoutEngine !== undefined)) return [3 /*break*/, 6];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 5, , 6]);\n                        layoutResult = this.layoutEngine.layout(newRoot, index);\n                        if (!(layoutResult instanceof Promise)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, layoutResult];\n                    case 2:\n                        newRoot = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        if (layoutResult !== undefined)\n                            newRoot = layoutResult;\n                        _a.label = 4;\n                    case 4: return [3 /*break*/, 6];\n                    case 5:\n                        error_1 = _a.sent();\n                        this.logger.error(this, error_1.toString(), error_1.stack);\n                        return [3 /*break*/, 6];\n                    case 6:\n                        lastSubmittedModelType = this.lastSubmittedModelType;\n                        this.lastSubmittedModelType = newRoot.type;\n                        updates = this.pendingUpdates;\n                        this.pendingUpdates = [];\n                        if (!(update && newRoot.type === lastSubmittedModelType)) return [3 /*break*/, 8];\n                        input = Array.isArray(update) ? update : newRoot;\n                        return [4 /*yield*/, this.actionDispatcher.dispatch(new update_model_1.UpdateModelAction(input))];\n                    case 7:\n                        _a.sent();\n                        return [3 /*break*/, 10];\n                    case 8: return [4 /*yield*/, this.actionDispatcher.dispatch(new set_model_1.SetModelAction(newRoot))];\n                    case 9:\n                        _a.sent();\n                        _a.label = 10;\n                    case 10:\n                        updates.forEach(function (d) { return d.resolve(); });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Modify the current model with an array of matches.\n     */\n    LocalModelSource.prototype.applyMatches = function (matches) {\n        var root = this.currentRoot;\n        model_matching_1.applyMatches(root, matches);\n        return this.submitModel(root, matches);\n    };\n    /**\n     * Modify the current model by adding new elements.\n     */\n    LocalModelSource.prototype.addElements = function (elements) {\n        var matches = [];\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var e = elements_1[_i];\n            var anye = e;\n            if (anye.element !== undefined && anye.parentId !== undefined) {\n                matches.push({\n                    right: anye.element,\n                    rightParentId: anye.parentId\n                });\n            }\n            else if (anye.id !== undefined) {\n                matches.push({\n                    right: anye,\n                    rightParentId: this.currentRoot.id\n                });\n            }\n        }\n        return this.applyMatches(matches);\n    };\n    /**\n     * Modify the current model by removing elements.\n     */\n    LocalModelSource.prototype.removeElements = function (elements) {\n        var matches = [];\n        var index = new smodel_1.SModelIndex();\n        index.add(this.currentRoot);\n        for (var _i = 0, elements_2 = elements; _i < elements_2.length; _i++) {\n            var e = elements_2[_i];\n            var anye = e;\n            if (anye.elementId !== undefined && anye.parentId !== undefined) {\n                var element = index.getById(anye.elementId);\n                if (element !== undefined) {\n                    matches.push({\n                        left: element,\n                        leftParentId: anye.parentId\n                    });\n                }\n            }\n            else {\n                var element = index.getById(anye);\n                if (element !== undefined) {\n                    matches.push({\n                        left: element,\n                        leftParentId: this.currentRoot.id\n                    });\n                }\n            }\n        }\n        return this.applyMatches(matches);\n    };\n    // ----- Methods for handling incoming actions ----------------------------\n    LocalModelSource.prototype.handle = function (action) {\n        switch (action.kind) {\n            case set_model_1.RequestModelAction.KIND:\n                this.handleRequestModel(action);\n                break;\n            case bounds_manipulation_1.ComputedBoundsAction.KIND:\n                this.handleComputedBounds(action);\n                break;\n            case hover_1.RequestPopupModelAction.KIND:\n                this.handleRequestPopupModel(action);\n                break;\n            case svg_exporter_1.ExportSvgAction.KIND:\n                this.handleExportSvgAction(action);\n                break;\n        }\n    };\n    LocalModelSource.prototype.handleRequestModel = function (action) {\n        this.submitModel(this.currentRoot, false);\n    };\n    LocalModelSource.prototype.handleComputedBounds = function (action) {\n        var root = this.currentRoot;\n        var index = new smodel_1.SModelIndex();\n        index.add(root);\n        for (var _i = 0, _a = action.bounds; _i < _a.length; _i++) {\n            var b = _a[_i];\n            var element = index.getById(b.elementId);\n            if (element !== undefined)\n                this.applyBounds(element, b.newBounds);\n        }\n        if (action.alignments !== undefined) {\n            for (var _b = 0, _c = action.alignments; _b < _c.length; _b++) {\n                var a = _c[_b];\n                var element = index.getById(a.elementId);\n                if (element !== undefined)\n                    this.applyAlignment(element, a.newAlignment);\n            }\n        }\n        this.doSubmitModel(root, true, index);\n    };\n    LocalModelSource.prototype.applyBounds = function (element, newBounds) {\n        var e = element;\n        e.position = { x: newBounds.x, y: newBounds.y };\n        e.size = { width: newBounds.width, height: newBounds.height };\n    };\n    LocalModelSource.prototype.applyAlignment = function (element, newAlignment) {\n        var e = element;\n        e.alignment = { x: newAlignment.x, y: newAlignment.y };\n    };\n    LocalModelSource.prototype.handleRequestPopupModel = function (action) {\n        if (this.popupModelProvider !== undefined) {\n            var element = smodel_utils_1.findElement(this.currentRoot, action.elementId);\n            var popupRoot = this.popupModelProvider.getPopupModel(action, element);\n            if (popupRoot !== undefined) {\n                popupRoot.canvasBounds = action.bounds;\n                this.actionDispatcher.dispatch(new hover_1.SetPopupModelAction(popupRoot));\n            }\n        }\n    };\n    LocalModelSource.prototype.handleExportSvgAction = function (action) {\n        var blob = new Blob([action.svg], { type: \"text/plain;charset=utf-8\" });\n        file_saver_1.saveAs(blob, \"diagram.svg\");\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], LocalModelSource.prototype, \"logger\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IPopupModelProvider), inversify_1.optional(),\n        __metadata(\"design:type\", Object)\n    ], LocalModelSource.prototype, \"popupModelProvider\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IModelLayoutEngine), inversify_1.optional(),\n        __metadata(\"design:type\", Object)\n    ], LocalModelSource.prototype, \"layoutEngine\", void 0);\n    LocalModelSource = __decorate([\n        inversify_1.injectable()\n    ], LocalModelSource);\n    return LocalModelSource;\n}(model_source_1.ModelSource));\nexports.LocalModelSource = LocalModelSource;\n//# sourceMappingURL=local-model-source.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar logging_1 = require(\"../utils/logging\");\nvar types_1 = require(\"../base/types\");\nvar LoggingAction = /** @class */ (function () {\n    function LoggingAction(severity, time, caller, message, params) {\n        this.severity = severity;\n        this.time = time;\n        this.caller = caller;\n        this.message = message;\n        this.params = params;\n        this.kind = LoggingAction.KIND;\n    }\n    LoggingAction.KIND = 'logging';\n    return LoggingAction;\n}());\nexports.LoggingAction = LoggingAction;\n/**\n * A logger that forwards messages of type 'error', 'warn', and 'info' to the model source.\n */\nvar ForwardingLogger = /** @class */ (function () {\n    function ForwardingLogger() {\n    }\n    ForwardingLogger.prototype.error = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= logging_1.LogLevel.error)\n            this.forward(thisArg, message, logging_1.LogLevel.error, params);\n    };\n    ForwardingLogger.prototype.warn = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= logging_1.LogLevel.warn)\n            this.forward(thisArg, message, logging_1.LogLevel.warn, params);\n    };\n    ForwardingLogger.prototype.info = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= logging_1.LogLevel.info)\n            this.forward(thisArg, message, logging_1.LogLevel.info, params);\n    };\n    ForwardingLogger.prototype.log = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= logging_1.LogLevel.log) {\n            // We cannot forward 'log' level messages since that would lead to endless loops\n            try {\n                var caller = typeof thisArg === 'object' ? thisArg.constructor.name : String(thisArg);\n                console.log.apply(thisArg, [caller + ': ' + message].concat(params));\n            }\n            catch (error) { }\n        }\n    };\n    ForwardingLogger.prototype.forward = function (thisArg, message, logLevel, params) {\n        var date = new Date();\n        var action = new LoggingAction(logging_1.LogLevel[logLevel], date.toLocaleTimeString(), typeof thisArg === 'object' ? thisArg.constructor.name : String(thisArg), message, params.map(function (p) { return JSON.stringify(p); }));\n        this.modelSourceProvider().then(function (modelSource) {\n            try {\n                modelSource.handle(action);\n            }\n            catch (error) {\n                try {\n                    console.log.apply(thisArg, [message, action, error]);\n                }\n                catch (error) { }\n            }\n        });\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ModelSourceProvider),\n        __metadata(\"design:type\", Function)\n    ], ForwardingLogger.prototype, \"modelSourceProvider\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.LogLevel),\n        __metadata(\"design:type\", Number)\n    ], ForwardingLogger.prototype, \"logLevel\", void 0);\n    ForwardingLogger = __decorate([\n        inversify_1.injectable()\n    ], ForwardingLogger);\n    return ForwardingLogger;\n}());\nexports.ForwardingLogger = ForwardingLogger;\n//# sourceMappingURL=logging.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar set_model_1 = require(\"../base/features/set-model\");\nvar types_1 = require(\"../base/types\");\nvar svg_exporter_1 = require(\"../features/export/svg-exporter\");\n/**\n * A model source is serving the model to the event cycle. It represents\n * the entry point to the client for external sources, such as model\n * editors.\n *\n * As an IActionHandler it listens to actions in and reacts to them with\n * commands or actions if necessary. This way, you can implement action\n * protocols between the client and the outside world.\n *\n * There are two default implementations for a ModelSource:\n * <ul>\n * <li>the LocalModelSource handles the actions to calculate bounds and\n * set/update the model</li>\n * <li>the DiagramServer connects via websocket to a remote source. It\n * can be used to connect to a model editor that provides the model,\n * layouts diagrams, transfers selection and answers model queries from\n * the client.</li>\n */\nvar ModelSource = /** @class */ (function () {\n    function ModelSource() {\n    }\n    ModelSource.prototype.initialize = function (registry) {\n        // Register this model source\n        registry.register(set_model_1.RequestModelAction.KIND, this);\n        registry.register(svg_exporter_1.ExportSvgAction.KIND, this);\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], ModelSource.prototype, \"actionDispatcher\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], ModelSource.prototype, \"viewerOptions\", void 0);\n    ModelSource = __decorate([\n        inversify_1.injectable()\n    ], ModelSource);\n    return ModelSource;\n}());\nexports.ModelSource = ModelSource;\n//# sourceMappingURL=model-source.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar diagram_server_1 = require(\"./diagram-server\");\n/**\n * An external ModelSource that connects to the model provider using a\n * websocket.\n */\nvar WebSocketDiagramServer = /** @class */ (function (_super) {\n    __extends(WebSocketDiagramServer, _super);\n    function WebSocketDiagramServer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WebSocketDiagramServer.prototype.listen = function (webSocket) {\n        var _this = this;\n        webSocket.addEventListener('message', function (event) {\n            _this.messageReceived(event.data);\n        });\n        webSocket.addEventListener('error', function (event) {\n            _this.logger.error(_this, 'error event received', event);\n        });\n        this.webSocket = webSocket;\n    };\n    WebSocketDiagramServer.prototype.disconnect = function () {\n        if (this.webSocket) {\n            this.webSocket.close();\n            this.webSocket = undefined;\n        }\n    };\n    WebSocketDiagramServer.prototype.sendMessage = function (message) {\n        if (this.webSocket) {\n            this.webSocket.send(JSON.stringify(message));\n        }\n        else {\n            throw new Error('WebSocket is not connected');\n        }\n    };\n    WebSocketDiagramServer = __decorate([\n        inversify_1.injectable()\n    ], WebSocketDiagramServer);\n    return WebSocketDiagramServer;\n}(diagram_server_1.DiagramServer));\nexports.WebSocketDiagramServer = WebSocketDiagramServer;\n//# sourceMappingURL=websocket.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Simple implementation of the deferred pattern.\n * An object that exposes a promise and functions to resolve and reject it.\n */\nvar Deferred = /** @class */ (function () {\n    function Deferred() {\n        var _this = this;\n        this.promise = new Promise(function (resolve, reject) {\n            _this.resolve = resolve;\n            _this.reject = reject;\n        });\n    }\n    return Deferred;\n}());\nexports.Deferred = Deferred;\n//# sourceMappingURL=async.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Returns whether the mouse or keyboard event includes the CMD key\n * on Mac or CTRL key on Linux / others.\n */\nfunction isCtrlOrCmd(event) {\n    if (isMac())\n        return event.metaKey;\n    else\n        return event.ctrlKey;\n}\nexports.isCtrlOrCmd = isCtrlOrCmd;\nfunction isMac() {\n    return window.navigator.userAgent.indexOf(\"Mac\") !== -1;\n}\nexports.isMac = isMac;\nfunction isCrossSite(url) {\n    if (url && typeof window !== 'undefined' && window.location) {\n        var baseURL = '';\n        if (window.location.protocol)\n            baseURL += window.location.protocol + '//';\n        if (window.location.host)\n            baseURL += window.location.host;\n        return baseURL.length > 0 && !url.startsWith(baseURL);\n    }\n    return false;\n}\nexports.isCrossSite = isCrossSite;\n//# sourceMappingURL=browser.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction rgb(red, green, blue) {\n    return {\n        red: red,\n        green: green,\n        blue: blue\n    };\n}\nexports.rgb = rgb;\nfunction toSVG(c) {\n    return 'rgb(' + c.red + ',' + c.green + ',' + c.blue + ')';\n}\nexports.toSVG = toSVG;\nvar ColorMap = /** @class */ (function () {\n    function ColorMap(stops) {\n        this.stops = stops;\n    }\n    ColorMap.prototype.getColor = function (t) {\n        t = Math.max(0, Math.min(0.99999999, t));\n        var i = Math.floor(t * this.stops.length);\n        return this.stops[i];\n    };\n    return ColorMap;\n}());\nexports.ColorMap = ColorMap;\n//# sourceMappingURL=color.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * (x,y) coordinates of the origin.\n */\nexports.ORIGIN_POINT = Object.freeze({\n    x: 0,\n    y: 0\n});\n/**\n * Adds two points.\n * @param {Point} p1 - First point\n * @param {Point} p2 - Second point\n * @returns {Point} The sum of the two points\n */\nfunction add(p1, p2) {\n    return {\n        x: p1.x + p2.x,\n        y: p1.y + p2.y\n    };\n}\nexports.add = add;\n/**\n * Subtracts two points.\n * @param {Point} p1 - First point\n * @param {Point} p2 - Second point\n * @returns {Point} The difference of the two points\n */\nfunction subtract(p1, p2) {\n    return {\n        x: p1.x - p2.x,\n        y: p1.y - p2.y\n    };\n}\nexports.subtract = subtract;\n/**\n * A dimension with both width and height set to a negative value, which is considered as undefined.\n */\nexports.EMPTY_DIMENSION = Object.freeze({\n    width: -1,\n    height: -1\n});\n/**\n * Checks whether the given dimention is valid, i.e. the width and height are non-zero.\n * @param {Dimension} b - Dimension object\n * @returns {boolean}\n */\nfunction isValidDimension(d) {\n    return d.width >= 0 && d.height >= 0;\n}\nexports.isValidDimension = isValidDimension;\nexports.EMPTY_BOUNDS = Object.freeze({\n    x: 0,\n    y: 0,\n    width: -1,\n    height: -1\n});\nfunction isBounds(element) {\n    return 'x' in element\n        && 'y' in element\n        && 'width' in element\n        && 'height' in element;\n}\nexports.isBounds = isBounds;\n/**\n * Combines the bounds of two objects into one, so that the new bounds\n * are the minimum bounds that covers both of the original bounds.\n * @param {Bounds} b0 - First bounds object\n * @param {Bounds} b1 - Second bounds object\n * @returns {Bounds} The combined bounds\n */\nfunction combine(b0, b1) {\n    if (!isValidDimension(b0))\n        return isValidDimension(b1) ? b1 : exports.EMPTY_BOUNDS;\n    if (!isValidDimension(b1))\n        return b0;\n    var minX = Math.min(b0.x, b1.x);\n    var minY = Math.min(b0.y, b1.y);\n    var maxX = Math.max(b0.x + (b0.width >= 0 ? b0.width : 0), b1.x + (b1.width >= 0 ? b1.width : 0));\n    var maxY = Math.max(b0.y + (b0.height >= 0 ? b0.height : 0), b1.y + (b1.height >= 0 ? b1.height : 0));\n    return {\n        x: minX, y: minY, width: maxX - minX, height: maxY - minY\n    };\n}\nexports.combine = combine;\n/**\n * Translates the given bounds.\n * @param {Bounds} b - Bounds object\n * @param {Point} p - Vector by which to translate the bounds\n * @returns {Bounds} The translated bounds\n */\nfunction translate(b, p) {\n    return {\n        x: b.x + p.x,\n        y: b.y + p.y,\n        width: b.width,\n        height: b.height\n    };\n}\nexports.translate = translate;\n/**\n * Returns the center point of the bounds of an object\n * @param {Bounds} b - Bounds object\n * @returns {Point} the center point\n */\nfunction center(b) {\n    return {\n        x: b.x + (b.width >= 0 ? 0.5 * b.width : 0),\n        y: b.y + (b.height >= 0 ? 0.5 * b.height : 0)\n    };\n}\nexports.center = center;\nfunction centerOfLine(s, e) {\n    var b = {\n        x: s.x > e.x ? e.x : s.x,\n        y: s.y > e.y ? e.y : s.y,\n        width: Math.abs(e.x - s.x),\n        height: Math.abs(e.y - s.y)\n    };\n    return center(b);\n}\nexports.centerOfLine = centerOfLine;\n/**\n * Checks whether the point p is included in the bounds b.\n */\nfunction includes(b, p) {\n    return p.x >= b.x && p.x <= b.x + b.width && p.y >= b.y && p.y <= b.y + b.height;\n}\nexports.includes = includes;\n/**\n * Enumeration of possible directions (left, right, up, down)\n * @deprecated do we use this? We should rather use a string type\n */\nvar Direction;\n(function (Direction) {\n    Direction[Direction[\"left\"] = 0] = \"left\";\n    Direction[Direction[\"right\"] = 1] = \"right\";\n    Direction[Direction[\"up\"] = 2] = \"up\";\n    Direction[Direction[\"down\"] = 3] = \"down\";\n})(Direction = exports.Direction || (exports.Direction = {}));\n/**\n * Returns the \"straight line\" distance between two points.\n * @param {Point} a - First point\n * @param {Point} b - Second point\n * @returns {number} The Eucledian distance\n */\nfunction euclideanDistance(a, b) {\n    var dx = b.x - a.x;\n    var dy = b.y - a.y;\n    return Math.sqrt(dx * dx + dy * dy);\n}\nexports.euclideanDistance = euclideanDistance;\n/**\n * Returns the distance between two points in a grid, using a\n * strictly vertical and/or horizontal path (versus straight line).\n * @param {Point} a - First point\n * @param {Point} b - Second point\n * @returns {number} The Manhattan distance\n */\nfunction manhattanDistance(a, b) {\n    return Math.abs(b.x - a.x) + Math.abs(b.y - a.y);\n}\nexports.manhattanDistance = manhattanDistance;\n/**\n * Returns the maximum of the horizontal and the vertical distance.\n * @param {Point} a - First point\n * @param {Point} b - Second point\n * @returns {number} The maximum distance\n */\nfunction maxDistance(a, b) {\n    return Math.max(Math.abs(b.x - a.x), Math.abs(b.y - a.y));\n}\nexports.maxDistance = maxDistance;\n/**\n * Computes the angle in radians of the given point to the x-axis of the coordinate system.\n * The result is in the range [-pi, pi].\n * @param {Point} p - A point in the Eucledian plane\n */\nfunction angleOfPoint(p) {\n    return Math.atan2(p.y, p.x);\n}\nexports.angleOfPoint = angleOfPoint;\n/**\n * Computes the angle in radians between the two given points (relative to the origin of the coordinate system).\n * The result is in the range [0, pi]. Returns NaN if the points are equal.\n * @param {Point} a - First point\n * @param {Point} b - Second point\n */\nfunction angleBetweenPoints(a, b) {\n    var lengthProduct = Math.sqrt((a.x * a.x + a.y * a.y) * (b.x * b.x + b.y * b.y));\n    if (isNaN(lengthProduct) || lengthProduct === 0)\n        return NaN;\n    var dotProduct = a.x * b.x + a.y * b.y;\n    return Math.acos(dotProduct / lengthProduct);\n}\nexports.angleBetweenPoints = angleBetweenPoints;\n/**\n * Computes a point that is the original `point` shifted towards `refPoint` by the given `distance`.\n * @param {Point} point - Point to shift\n * @param {Point} refPoint - Point to shift towards\n * @param {Point} distance - Distance to shift\n */\nfunction shiftTowards(point, refPoint, distance) {\n    var diff = subtract(refPoint, point);\n    var normalized = normalize(diff);\n    var shift = { x: normalized.x * distance, y: normalized.y * distance };\n    return add(point, shift);\n}\nexports.shiftTowards = shiftTowards;\n/**\n * Computes the normalized vector from the vector given in `point`; that is, computing its unit vector.\n * @param {Point} point - Point representing the vector to be normalized\n * @returns {Point} The normalized point\n */\nfunction normalize(point) {\n    var mag = magnitude(point);\n    if (mag === 0 || mag === 1) {\n        return exports.ORIGIN_POINT;\n    }\n    return {\n        x: point.x / mag,\n        y: point.y / mag\n    };\n}\nexports.normalize = normalize;\n/**\n * Computes the magnitude of the vector given in `point`.\n * @param {Point} point - Point representing the vector to compute the magnitude for\n * @returns {number} The magnitude or also known as length of the `point`\n */\nfunction magnitude(point) {\n    return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\nexports.magnitude = magnitude;\n/**\n * Converts from radians to degrees\n * @param {number} a - A value in radians\n * @returns {number} The converted value\n */\nfunction toDegrees(a) {\n    return a * 180 / Math.PI;\n}\nexports.toDegrees = toDegrees;\n/**\n * Converts from degrees to radians\n * @param {number} a - A value in degrees\n * @returns {number} The converted value\n */\nfunction toRadians(a) {\n    return a * Math.PI / 180;\n}\nexports.toRadians = toRadians;\n/**\n * Returns whether two numbers are almost equal, within a small margin (0.001)\n * @param {number} a - First number\n * @param {number} b - Second number\n * @returns {boolean} True if the two numbers are almost equal\n */\nfunction almostEquals(a, b) {\n    return Math.abs(a - b) < 1e-3;\n}\nexports.almostEquals = almostEquals;\n/**\n * Calculates a linear combination of p0 and p1 using lambda, i.e.\n *   (1-lambda) * p0 + lambda * p1\n * @param p0\n * @param p1\n * @param lambda\n */\nfunction linear(p0, p1, lambda) {\n    return {\n        x: (1 - lambda) * p0.x + lambda * p1.x,\n        y: (1 - lambda) * p0.y + lambda * p1.y\n    };\n}\nexports.linear = linear;\n/**\n * A diamond or rhombus is a quadrilateral whose four sides all have the same length.\n * It consinsts of four points, a `topPoint`, `rightPoint`, `bottomPoint`, and a `leftPoint`,\n * which are connected by four lines -- the `topRightSideLight`, `topLeftSideLine`, `bottomRightSideLine`,\n * and the `bottomLeftSideLine`.\n */\nvar Diamond = /** @class */ (function () {\n    function Diamond(bounds) {\n        this.bounds = bounds;\n    }\n    Object.defineProperty(Diamond.prototype, \"topPoint\", {\n        get: function () {\n            return {\n                x: this.bounds.x + this.bounds.width / 2,\n                y: this.bounds.y\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Diamond.prototype, \"rightPoint\", {\n        get: function () {\n            return {\n                x: this.bounds.x + this.bounds.width,\n                y: this.bounds.y + this.bounds.height / 2\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Diamond.prototype, \"bottomPoint\", {\n        get: function () {\n            return {\n                x: this.bounds.x + this.bounds.width / 2,\n                y: this.bounds.y + this.bounds.height\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Diamond.prototype, \"leftPoint\", {\n        get: function () {\n            return {\n                x: this.bounds.x,\n                y: this.bounds.y + this.bounds.height / 2\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Diamond.prototype, \"topRightSideLine\", {\n        get: function () {\n            return new PointToPointLine(this.topPoint, this.rightPoint);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Diamond.prototype, \"topLeftSideLine\", {\n        get: function () {\n            return new PointToPointLine(this.topPoint, this.leftPoint);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Diamond.prototype, \"bottomRightSideLine\", {\n        get: function () {\n            return new PointToPointLine(this.bottomPoint, this.rightPoint);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Diamond.prototype, \"bottomLeftSideLine\", {\n        get: function () {\n            return new PointToPointLine(this.bottomPoint, this.leftPoint);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Return the closest side of this diamond to the specified `refPoint`.\n     * @param {Point} refPoint a reference point\n     * @returns {Line} a line representing the closest side\n     */\n    Diamond.prototype.closestSideLine = function (refPoint) {\n        var c = center(this.bounds);\n        if (refPoint.x > c.x) {\n            if (refPoint.y > c.y) {\n                return this.bottomRightSideLine;\n            }\n            else {\n                return this.topRightSideLine;\n            }\n        }\n        else {\n            if (refPoint.y > c.y) {\n                return this.bottomLeftSideLine;\n            }\n            else {\n                return this.topLeftSideLine;\n            }\n        }\n    };\n    return Diamond;\n}());\nexports.Diamond = Diamond;\n/**\n * A line made up from two points.\n */\nvar PointToPointLine = /** @class */ (function () {\n    function PointToPointLine(p1, p2) {\n        this.p1 = p1;\n        this.p2 = p2;\n    }\n    Object.defineProperty(PointToPointLine.prototype, \"a\", {\n        get: function () {\n            return this.p1.y - this.p2.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PointToPointLine.prototype, \"b\", {\n        get: function () {\n            return this.p2.x - this.p1.x;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PointToPointLine.prototype, \"c\", {\n        get: function () {\n            return this.p2.x * this.p1.y - this.p1.x * this.p2.y;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PointToPointLine;\n}());\nexports.PointToPointLine = PointToPointLine;\n/**\n * Returns the intersection of two lines `l1` and `l2`\n * @param {Line} l1 - A line\n * @param {Line} l2 - Another line\n * @returns {Point} The intersection point of `l1` and `l2`\n */\nfunction intersection(l1, l2) {\n    return {\n        x: (l1.c * l2.b - l2.c * l1.b) / (l1.a * l2.b - l2.a * l1.b),\n        y: (l1.a * l2.c - l2.a * l1.c) / (l1.a * l2.b - l2.a * l1.b)\n    };\n}\nexports.intersection = intersection;\n//# sourceMappingURL=geometry.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isInjectable(constr) {\n    return Reflect.getMetadata('inversify:paramtypes', constr) !== undefined;\n}\nexports.isInjectable = isInjectable;\n//# sourceMappingURL=inversify.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A helper class that allows to easily create fluent iterables.\n */\nvar FluentIterableImpl = /** @class */ (function () {\n    function FluentIterableImpl(startFn, nextFn) {\n        this.startFn = startFn;\n        this.nextFn = nextFn;\n    }\n    FluentIterableImpl.prototype[Symbol.iterator] = function () {\n        var _a;\n        var _this = this;\n        var iterator = (_a = {\n                state: this.startFn(),\n                next: function () { return _this.nextFn(iterator.state); }\n            },\n            _a[Symbol.iterator] = function () { return iterator; },\n            _a);\n        return iterator;\n    };\n    FluentIterableImpl.prototype.filter = function (callback) {\n        return filterIterable(this, callback);\n    };\n    FluentIterableImpl.prototype.map = function (callback) {\n        return mapIterable(this, callback);\n    };\n    FluentIterableImpl.prototype.forEach = function (callback) {\n        var iterator = this[Symbol.iterator]();\n        var index = 0;\n        var result;\n        do {\n            result = iterator.next();\n            if (result.value !== undefined)\n                callback(result.value, index);\n            index++;\n        } while (!result.done);\n    };\n    FluentIterableImpl.prototype.indexOf = function (element) {\n        var iterator = this[Symbol.iterator]();\n        var index = 0;\n        var result;\n        do {\n            result = iterator.next();\n            if (result.value === element)\n                return index;\n            index++;\n        } while (!result.done);\n        return -1;\n    };\n    return FluentIterableImpl;\n}());\nexports.FluentIterableImpl = FluentIterableImpl;\n/**\n * Converts a FluentIterable into an array. If the input is an array, it is returned unchanged.\n */\nfunction toArray(input) {\n    if (input.constructor === Array) {\n        return input;\n    }\n    var result = [];\n    input.forEach(function (element) { return result.push(element); });\n    return result;\n}\nexports.toArray = toArray;\nexports.DONE_RESULT = Object.freeze({ done: true, value: undefined });\n/**\n * Create a fluent iterable that filters the content of the given iterable or array.\n */\nfunction filterIterable(input, callback) {\n    return new FluentIterableImpl(function () { return createIterator(input); }, function (iterator) {\n        var result;\n        do {\n            result = iterator.next();\n        } while (!result.done && !callback(result.value));\n        return result;\n    });\n}\nexports.filterIterable = filterIterable;\n/**\n * Create a fluent iterable that maps the content of the given iterable or array.\n */\nfunction mapIterable(input, callback) {\n    return new FluentIterableImpl(function () { return createIterator(input); }, function (iterator) {\n        var _a = iterator.next(), done = _a.done, value = _a.value;\n        if (done)\n            return exports.DONE_RESULT;\n        else\n            return { done: false, value: callback(value) };\n    });\n}\nexports.mapIterable = mapIterable;\n/**\n * Create an iterator for the given iterable or array.\n */\nfunction createIterator(collection) {\n    var method = collection[Symbol.iterator];\n    if (typeof method === 'function') {\n        return method.call(collection);\n    }\n    var length = collection.length;\n    if (typeof length === 'number' && length >= 0) {\n        return new ArrayIterator(collection);\n    }\n    return { next: function () { return exports.DONE_RESULT; } };\n}\n/**\n * Iterator implementation for arrays.\n */\nvar ArrayIterator = /** @class */ (function () {\n    function ArrayIterator(array) {\n        this.array = array;\n        this.index = 0;\n    }\n    ArrayIterator.prototype.next = function () {\n        if (this.index < this.array.length)\n            return { done: false, value: this.array[this.index++] };\n        else\n            return exports.DONE_RESULT;\n    };\n    ArrayIterator.prototype[Symbol.iterator] = function () {\n        return this;\n    };\n    return ArrayIterator;\n}());\n//# sourceMappingURL=iterable.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar browser_1 = require(\"./browser\");\n/**\n * Returns whether the keyboard event matches the keystroke described by the given\n * code and modifiers. The code must comply to the format of the `code` property\n * of KeyboardEvent, but in contrast to that property, the actual keyboard layout is\n * considered by this function if possible.\n */\nfunction matchesKeystroke(event, code) {\n    var modifiers = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        modifiers[_i - 2] = arguments[_i];\n    }\n    if (getActualCode(event) !== code)\n        return false;\n    if (browser_1.isMac()) {\n        if (event.ctrlKey !== (modifiers.findIndex(function (m) { return m === 'ctrl'; }) >= 0))\n            return false;\n        if (event.metaKey !== (modifiers.findIndex(function (m) { return m === 'meta' || m === 'ctrlCmd'; }) >= 0))\n            return false;\n    }\n    else {\n        if (event.ctrlKey !== (modifiers.findIndex(function (m) { return m === 'ctrl' || m === 'ctrlCmd'; }) >= 0))\n            return false;\n        if (event.metaKey !== (modifiers.findIndex(function (m) { return m === 'meta'; }) >= 0))\n            return false;\n    }\n    if (event.altKey !== (modifiers.findIndex(function (m) { return m === 'alt'; }) >= 0))\n        return false;\n    if (event.shiftKey !== (modifiers.findIndex(function (m) { return m === 'shift'; }) >= 0))\n        return false;\n    return true;\n}\nexports.matchesKeystroke = matchesKeystroke;\n/**\n * Determines a key code from the given event. This is necessary because the `code` property of\n * a KeyboardEvent does not consider keyboard layouts.\n */\nfunction getActualCode(event) {\n    if (event.keyCode) {\n        var result = STRING_CODE[event.keyCode];\n        if (result !== undefined)\n            return result;\n    }\n    return event.code;\n}\nexports.getActualCode = getActualCode;\nvar STRING_CODE = new Array(256);\n(function () {\n    function addKeyCode(stringCode, numericCode) {\n        if (STRING_CODE[numericCode] === undefined)\n            STRING_CODE[numericCode] = stringCode;\n    }\n    addKeyCode('Pause', 3);\n    addKeyCode('Backspace', 8);\n    addKeyCode('Tab', 9);\n    addKeyCode('Enter', 13);\n    addKeyCode('ShiftLeft', 16);\n    addKeyCode('ShiftRight', 16);\n    addKeyCode('ControlLeft', 17);\n    addKeyCode('ControlRight', 17);\n    addKeyCode('AltLeft', 18);\n    addKeyCode('AltRight', 18);\n    addKeyCode('CapsLock', 20);\n    addKeyCode('Escape', 27);\n    addKeyCode('Space', 32);\n    addKeyCode('PageUp', 33);\n    addKeyCode('PageDown', 34);\n    addKeyCode('End', 35);\n    addKeyCode('Home', 36);\n    addKeyCode('ArrowLeft', 37);\n    addKeyCode('ArrowUp', 38);\n    addKeyCode('ArrowRight', 39);\n    addKeyCode('ArrowDown', 40);\n    addKeyCode('Insert', 45);\n    addKeyCode('Delete', 46);\n    addKeyCode('Digit1', 49);\n    addKeyCode('Digit2', 50);\n    addKeyCode('Digit3', 51);\n    addKeyCode('Digit4', 52);\n    addKeyCode('Digit5', 53);\n    addKeyCode('Digit6', 54);\n    addKeyCode('Digit7', 55);\n    addKeyCode('Digit8', 56);\n    addKeyCode('Digit9', 57);\n    addKeyCode('Digit0', 48);\n    addKeyCode('KeyA', 65);\n    addKeyCode('KeyB', 66);\n    addKeyCode('KeyC', 67);\n    addKeyCode('KeyD', 68);\n    addKeyCode('KeyE', 69);\n    addKeyCode('KeyF', 70);\n    addKeyCode('KeyG', 71);\n    addKeyCode('KeyH', 72);\n    addKeyCode('KeyI', 73);\n    addKeyCode('KeyJ', 74);\n    addKeyCode('KeyK', 75);\n    addKeyCode('KeyL', 76);\n    addKeyCode('KeyM', 77);\n    addKeyCode('KeyN', 78);\n    addKeyCode('KeyO', 79);\n    addKeyCode('KeyP', 80);\n    addKeyCode('KeyQ', 81);\n    addKeyCode('KeyR', 82);\n    addKeyCode('KeyS', 83);\n    addKeyCode('KeyT', 84);\n    addKeyCode('KeyU', 85);\n    addKeyCode('KeyV', 86);\n    addKeyCode('KeyW', 87);\n    addKeyCode('KeyX', 88);\n    addKeyCode('KeyY', 89);\n    addKeyCode('KeyZ', 90);\n    addKeyCode('OSLeft', 91);\n    addKeyCode('MetaLeft', 91);\n    addKeyCode('OSRight', 92);\n    addKeyCode('MetaRight', 92);\n    addKeyCode('ContextMenu', 93);\n    addKeyCode('Numpad0', 96);\n    addKeyCode('Numpad1', 97);\n    addKeyCode('Numpad2', 98);\n    addKeyCode('Numpad3', 99);\n    addKeyCode('Numpad4', 100);\n    addKeyCode('Numpad5', 101);\n    addKeyCode('Numpad6', 102);\n    addKeyCode('Numpad7', 103);\n    addKeyCode('Numpad8', 104);\n    addKeyCode('Numpad9', 105);\n    addKeyCode('NumpadMultiply', 106);\n    addKeyCode('NumpadAdd', 107);\n    addKeyCode('NumpadSeparator', 108);\n    addKeyCode('NumpadSubtract', 109);\n    addKeyCode('NumpadDecimal', 110);\n    addKeyCode('NumpadDivide', 111);\n    addKeyCode('F1', 112);\n    addKeyCode('F2', 113);\n    addKeyCode('F3', 114);\n    addKeyCode('F4', 115);\n    addKeyCode('F5', 116);\n    addKeyCode('F6', 117);\n    addKeyCode('F7', 118);\n    addKeyCode('F8', 119);\n    addKeyCode('F9', 120);\n    addKeyCode('F10', 121);\n    addKeyCode('F11', 122);\n    addKeyCode('F12', 123);\n    addKeyCode('F13', 124);\n    addKeyCode('F14', 125);\n    addKeyCode('F15', 126);\n    addKeyCode('F16', 127);\n    addKeyCode('F17', 128);\n    addKeyCode('F18', 129);\n    addKeyCode('F19', 130);\n    addKeyCode('F20', 131);\n    addKeyCode('F21', 132);\n    addKeyCode('F22', 133);\n    addKeyCode('F23', 134);\n    addKeyCode('F24', 135);\n    addKeyCode('NumLock', 144);\n    addKeyCode('ScrollLock', 145);\n    addKeyCode('Semicolon', 186);\n    addKeyCode('Equal', 187);\n    addKeyCode('Comma', 188);\n    addKeyCode('Minus', 189);\n    addKeyCode('Period', 190);\n    addKeyCode('Slash', 191);\n    addKeyCode('Backquote', 192);\n    addKeyCode('IntlRo', 193);\n    addKeyCode('BracketLeft', 219);\n    addKeyCode('Backslash', 220);\n    addKeyCode('BracketRight', 221);\n    addKeyCode('Quote', 222);\n    addKeyCode('IntlYen', 255);\n})();\n//# sourceMappingURL=keyboard.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"../base/types\");\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"none\"] = 0] = \"none\";\n    LogLevel[LogLevel[\"error\"] = 1] = \"error\";\n    LogLevel[LogLevel[\"warn\"] = 2] = \"warn\";\n    LogLevel[LogLevel[\"info\"] = 3] = \"info\";\n    LogLevel[LogLevel[\"log\"] = 4] = \"log\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\nvar NullLogger = /** @class */ (function () {\n    function NullLogger() {\n        this.logLevel = LogLevel.none;\n    }\n    NullLogger.prototype.error = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n    };\n    NullLogger.prototype.warn = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n    };\n    NullLogger.prototype.info = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n    };\n    NullLogger.prototype.log = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n    };\n    NullLogger = __decorate([\n        inversify_1.injectable()\n    ], NullLogger);\n    return NullLogger;\n}());\nexports.NullLogger = NullLogger;\nvar ConsoleLogger = /** @class */ (function () {\n    function ConsoleLogger() {\n        this.logLevel = LogLevel.log;\n        this.viewOptions = { baseDiv: '' };\n    }\n    ConsoleLogger.prototype.error = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= LogLevel.error)\n            try {\n                console.error.apply(thisArg, this.consoleArguments(thisArg, message, params));\n            }\n            catch (error) { }\n    };\n    ConsoleLogger.prototype.warn = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= LogLevel.warn)\n            try {\n                console.warn.apply(thisArg, this.consoleArguments(thisArg, message, params));\n            }\n            catch (error) { }\n    };\n    ConsoleLogger.prototype.info = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= LogLevel.info)\n            try {\n                console.info.apply(thisArg, this.consoleArguments(thisArg, message, params));\n            }\n            catch (error) { }\n    };\n    ConsoleLogger.prototype.log = function (thisArg, message) {\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        if (this.logLevel >= LogLevel.log)\n            try {\n                console.log.apply(thisArg, this.consoleArguments(thisArg, message, params));\n            }\n            catch (error) { }\n    };\n    ConsoleLogger.prototype.consoleArguments = function (thisArg, message, params) {\n        var caller;\n        if (typeof thisArg === 'object')\n            caller = thisArg.constructor.name;\n        else\n            caller = thisArg;\n        var date = new Date();\n        return [date.toLocaleTimeString() + ' ' + this.viewOptions.baseDiv + ' ' + caller + ': ' + message].concat(params);\n    };\n    __decorate([\n        inversify_1.inject(types_1.TYPES.LogLevel),\n        __metadata(\"design:type\", Number)\n    ], ConsoleLogger.prototype, \"logLevel\", void 0);\n    __decorate([\n        inversify_1.inject(types_1.TYPES.ViewerOptions),\n        __metadata(\"design:type\", Object)\n    ], ConsoleLogger.prototype, \"viewOptions\", void 0);\n    ConsoleLogger = __decorate([\n        inversify_1.injectable()\n    ], ConsoleLogger);\n    return ConsoleLogger;\n}());\nexports.ConsoleLogger = ConsoleLogger;\n//# sourceMappingURL=logging.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar inversify_1 = require(\"inversify\");\nvar ProviderRegistry = /** @class */ (function () {\n    function ProviderRegistry() {\n        this.elements = new Map;\n    }\n    ProviderRegistry.prototype.register = function (key, cstr) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        if (this.hasKey(key))\n            throw new Error('Key is already registered: ' + key);\n        this.elements.set(key, cstr);\n    };\n    ProviderRegistry.prototype.deregister = function (key) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    };\n    ProviderRegistry.prototype.hasKey = function (key) {\n        return this.elements.has(key);\n    };\n    ProviderRegistry.prototype.get = function (key, arg) {\n        var existingCstr = this.elements.get(key);\n        if (existingCstr)\n            return new existingCstr(arg);\n        else\n            return this.missing(key, arg);\n    };\n    ProviderRegistry.prototype.missing = function (key, arg) {\n        throw new Error('Unknown registry key: ' + key);\n    };\n    ProviderRegistry = __decorate([\n        inversify_1.injectable()\n    ], ProviderRegistry);\n    return ProviderRegistry;\n}());\nexports.ProviderRegistry = ProviderRegistry;\nvar FactoryRegistry = /** @class */ (function () {\n    function FactoryRegistry() {\n        this.elements = new Map;\n    }\n    FactoryRegistry.prototype.register = function (key, factory) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        if (this.hasKey(key))\n            throw new Error('Key is already registered: ' + key);\n        this.elements.set(key, factory);\n    };\n    FactoryRegistry.prototype.deregister = function (key) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    };\n    FactoryRegistry.prototype.hasKey = function (key) {\n        return this.elements.has(key);\n    };\n    FactoryRegistry.prototype.get = function (key, arg) {\n        var existingFactory = this.elements.get(key);\n        if (existingFactory)\n            return existingFactory(arg);\n        else\n            return this.missing(key, arg);\n    };\n    FactoryRegistry.prototype.missing = function (key, arg) {\n        throw new Error('Unknown registry key: ' + key);\n    };\n    FactoryRegistry = __decorate([\n        inversify_1.injectable()\n    ], FactoryRegistry);\n    return FactoryRegistry;\n}());\nexports.FactoryRegistry = FactoryRegistry;\nvar InstanceRegistry = /** @class */ (function () {\n    function InstanceRegistry() {\n        this.elements = new Map;\n    }\n    InstanceRegistry.prototype.register = function (key, instance) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        if (this.hasKey(key))\n            throw new Error('Key is already registered: ' + key);\n        this.elements.set(key, instance);\n    };\n    InstanceRegistry.prototype.deregister = function (key) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    };\n    InstanceRegistry.prototype.hasKey = function (key) {\n        return this.elements.has(key);\n    };\n    InstanceRegistry.prototype.get = function (key) {\n        var existingInstance = this.elements.get(key);\n        if (existingInstance)\n            return existingInstance;\n        else\n            return this.missing(key);\n    };\n    InstanceRegistry.prototype.missing = function (key) {\n        throw new Error('Unknown registry key: ' + key);\n    };\n    InstanceRegistry = __decorate([\n        inversify_1.injectable()\n    ], InstanceRegistry);\n    return InstanceRegistry;\n}());\nexports.InstanceRegistry = InstanceRegistry;\nvar MultiInstanceRegistry = /** @class */ (function () {\n    function MultiInstanceRegistry() {\n        this.elements = new Map;\n    }\n    MultiInstanceRegistry.prototype.register = function (key, instance) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        var instances = this.elements.get(key);\n        if (instances !== undefined)\n            instances.push(instance);\n        else\n            this.elements.set(key, [instance]);\n    };\n    MultiInstanceRegistry.prototype.deregisterAll = function (key) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    };\n    MultiInstanceRegistry.prototype.get = function (key) {\n        var existingInstances = this.elements.get(key);\n        if (existingInstances !== undefined)\n            return existingInstances;\n        else\n            return [];\n    };\n    MultiInstanceRegistry = __decorate([\n        inversify_1.injectable()\n    ], MultiInstanceRegistry);\n    return MultiInstanceRegistry;\n}());\nexports.MultiInstanceRegistry = MultiInstanceRegistry;\n//# sourceMappingURL=registry.js.map","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"keygen\": true,\n  \"link\": true,\n  \"menuitem\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./command-palette.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./command-palette.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./command-palette.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./glsp-sprotty.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./glsp-sprotty.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./glsp-sprotty.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./tool-palette.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!./tool-palette.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./tool-palette.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nrequire(\"../../css/glsp-sprotty.css\");\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar types_1 = require(\"../types\");\nvar update_model_command_1 = require(\"./model/update-model-command\");\nvar tool_manager_action_handler_1 = require(\"./tool-manager/tool-manager-action-handler\");\nvar defaultGLSPModule = new inversify_1.ContainerModule(function (bind, unbind, isBound, rebind) {\n    // Tool manager initialization ------------------------------------\n    bind(lib_1.TYPES.IActionHandlerInitializer).to(tool_manager_action_handler_1.ToolManagerActionHandler);\n    bind(types_1.GLSP_TYPES.IToolFactory).toFactory((tool_manager_action_handler_1.createToolFactory()));\n    // Model update initialization ------------------------------------\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, update_model_command_1.FeedbackAwareUpdateModelCommand);\n});\nexports.default = defaultGLSPModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nexports.edgeEditConfig = Symbol.for(\"edgeEditConfiguration\");\nexports.nodeEditConfig = Symbol.for(\"nodeEditConfiguration\");\nfunction isConfigurableElement(element) {\n    return element.configType !== undefined && typeof (element.configType) === \"symbol\";\n}\nexports.isConfigurableElement = isConfigurableElement;\nfunction isConfigurableEdge(element) {\n    return element instanceof lib_1.SEdge && isConfigurableElement(element) && element.configType === exports.edgeEditConfig;\n}\nexports.isConfigurableEdge = isConfigurableEdge;\nfunction isConfigurableNode(element) {\n    return element instanceof lib_1.SNode && isConfigurableElement(element) && element.configType === exports.nodeEditConfig;\n}\nexports.isConfigurableNode = isConfigurableNode;\nfunction isEdgeEditConfig(editConfig) {\n    return editConfig.configType === exports.edgeEditConfig;\n}\nexports.isEdgeEditConfig = isEdgeEditConfig;\nfunction isNodeEditConfig(editConfig) {\n    return editConfig.configType === exports.nodeEditConfig;\n}\nexports.isNodeEditConfig = isNodeEditConfig;\nfunction movingAllowed(element) {\n    return isConfigurableNode(element) && element.repositionable;\n}\nexports.movingAllowed = movingAllowed;\nfunction containmentAllowed(element, containableElementTypeId) {\n    return isConfigurableNode(element) && element.isContainableElement(containableElementTypeId);\n}\nexports.containmentAllowed = containmentAllowed;\n//# sourceMappingURL=edit-config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar update_model_1 = require(\"sprotty/lib/features/update/update-model\");\nvar model_1 = require(\"../../features/tool-feedback/model\");\nvar types_1 = require(\"../../types\");\n/**\n * A special`UpdateModelCommand` that retrieves all registered `actions` from the `IFeedbackActionDispatcher` (if present) and applies their feedback\n * to the `newRoot` before performing the update\n */\nvar FeedbackAwareUpdateModelCommand = /** @class */ (function (_super) {\n    __extends(FeedbackAwareUpdateModelCommand, _super);\n    function FeedbackAwareUpdateModelCommand(action, logger, feedbackActionDispatcher, actionHandlerRegistryProvider, modelRootListeners) {\n        if (modelRootListeners === void 0) { modelRootListeners = []; }\n        var _this = _super.call(this, action) || this;\n        _this.logger = logger;\n        _this.feedbackActionDispatcher = feedbackActionDispatcher;\n        _this.actionHandlerRegistryProvider = actionHandlerRegistryProvider;\n        _this.modelRootListeners = modelRootListeners;\n        return _this;\n    }\n    FeedbackAwareUpdateModelCommand.prototype.performUpdate = function (oldRoot, newRoot, context) {\n        var _this = this;\n        if (this.feedbackActionDispatcher) {\n            // Create a temporary context wich defines the `newRoot` as `root`\n            // This way we do not corrupt the redo/undo behavior of the super class\n            var tempContext_1 = {\n                root: newRoot,\n                duration: context.duration,\n                logger: context.logger,\n                modelChanged: context.modelChanged,\n                modelFactory: context.modelFactory,\n                syncer: context.syncer\n            };\n            this.actionHandlerRegistryProvider().then(function (registry) {\n                var feedbackCommands = _this.getFeedbackCommands(registry);\n                feedbackCommands.forEach(function (command) { return command.execute(tempContext_1); });\n            });\n        }\n        this.modelRootListeners.forEach(function (listener) { return listener.modelRootChanged(newRoot); });\n        return _super.prototype.performUpdate.call(this, oldRoot, newRoot, context);\n    };\n    FeedbackAwareUpdateModelCommand.prototype.getFeedbackCommands = function (registry) {\n        var result = [];\n        this.feedbackActionDispatcher.getRegisteredFeedback().forEach(function (action) {\n            var handler = registry.get(action.kind).find(function (h) { return h instanceof lib_1.CommandActionHandler; });\n            if (handler instanceof lib_1.CommandActionHandler) {\n                result.push(handler.handle(action));\n            }\n        });\n        // sort commands descanding by priority\n        return result.sort(function (a, b) { return getPriority(b) - getPriority(a); });\n    };\n    FeedbackAwareUpdateModelCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __param(1, inversify_1.inject(lib_1.TYPES.ILogger)),\n        __param(2, inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher)), __param(2, inversify_1.optional()),\n        __param(3, inversify_1.inject(lib_1.TYPES.ActionHandlerRegistryProvider)),\n        __param(4, inversify_1.multiInject(types_1.GLSP_TYPES.SModelRootListener)), __param(4, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [update_model_1.UpdateModelAction, Object, Object, Function, Array])\n    ], FeedbackAwareUpdateModelCommand);\n    return FeedbackAwareUpdateModelCommand;\n}(update_model_1.UpdateModelCommand));\nexports.FeedbackAwareUpdateModelCommand = FeedbackAwareUpdateModelCommand;\nfunction getPriority(command) {\n    if (command instanceof model_1.FeedbackCommand) {\n        return command.priority;\n    }\n    return 0;\n}\n//# sourceMappingURL=update-model-command.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar set_operations_1 = require(\"../../features/operation/set-operations\");\nvar creation_tool_1 = require(\"../../features/tools/creation-tool\");\nvar delete_tool_1 = require(\"../../features/tools/delete-tool\");\nvar types_1 = require(\"../../types\");\nvar SelfInitializingActionHandler = /** @class */ (function () {\n    function SelfInitializingActionHandler() {\n    }\n    SelfInitializingActionHandler.prototype.initialize = function (registry) {\n        var _this = this;\n        this.handledActionKinds.forEach(function (kind) { return registry.register(kind, _this); });\n    };\n    SelfInitializingActionHandler = __decorate([\n        inversify_1.injectable()\n    ], SelfInitializingActionHandler);\n    return SelfInitializingActionHandler;\n}());\nexports.SelfInitializingActionHandler = SelfInitializingActionHandler;\nvar ToolManagerActionHandler = /** @class */ (function (_super) {\n    __extends(ToolManagerActionHandler, _super);\n    function ToolManagerActionHandler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handledActionKinds = [set_operations_1.SetOperationsAction.KIND];\n        return _this;\n    }\n    ToolManagerActionHandler.prototype.handle = function (action) {\n        if (set_operations_1.isSetOperationsAction(action)) {\n            this.configure(action);\n        }\n    };\n    ToolManagerActionHandler.prototype.configure = function (action) {\n        var _this = this;\n        var _a;\n        var configuredTools = action.operations.map(function (op) {\n            var tool = _this.toolFactory(op.operationKind);\n            if (isTypeAware(tool) && op.elementTypeId) {\n                tool.elementTypeId = op.elementTypeId;\n            }\n            return tool;\n        }).filter(function (tool) { return tool.id !== UNDEFINED_TOOL_ID; });\n        (_a = this.toolManager).registerTools.apply(_a, __spread(configuredTools));\n    };\n    __decorate([\n        inversify_1.inject(types_1.GLSP_TYPES.IToolFactory),\n        __metadata(\"design:type\", Function)\n    ], ToolManagerActionHandler.prototype, \"toolFactory\", void 0);\n    __decorate([\n        inversify_1.inject(lib_1.TYPES.IToolManager),\n        __metadata(\"design:type\", lib_1.ToolManager)\n    ], ToolManagerActionHandler.prototype, \"toolManager\", void 0);\n    ToolManagerActionHandler = __decorate([\n        inversify_1.injectable()\n    ], ToolManagerActionHandler);\n    return ToolManagerActionHandler;\n}(SelfInitializingActionHandler));\nexports.ToolManagerActionHandler = ToolManagerActionHandler;\nfunction isTypeAware(tool) {\n    return tool[\"elementTypeId\"] !== undefined && typeof tool[\"elementTypeId\"] === \"string\";\n}\nexports.isTypeAware = isTypeAware;\nvar UNDEFINED_TOOL_ID = \"undefined-tool\";\nfunction createToolFactory() {\n    return function (context) {\n        return function (operationKind) {\n            switch (operationKind) {\n                case set_operations_1.OperationKind.CREATE_NODE:\n                    return context.container.resolve(creation_tool_1.NodeCreationTool);\n                case set_operations_1.OperationKind.CREATE_CONNECTION:\n                    return context.container.resolve(creation_tool_1.EdgeCreationTool);\n                case set_operations_1.OperationKind.DELETE_ELEMENT:\n                    return context.container.resolve(delete_tool_1.MouseDeleteTool);\n                default:\n                    return {\n                        id: UNDEFINED_TOOL_ID,\n                        disable: function () { },\n                        enable: function () { }\n                    };\n            }\n        };\n    };\n}\nexports.createToolFactory = createToolFactory;\n//# sourceMappingURL=tool-manager-action-handler.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nvar edit_config_1 = require(\"../../base/edit-config/edit-config\");\nvar ResizeHandleLocation;\n(function (ResizeHandleLocation) {\n    ResizeHandleLocation[\"TopLeft\"] = \"top-left\";\n    ResizeHandleLocation[\"TopRight\"] = \"top-right\";\n    ResizeHandleLocation[\"BottomLeft\"] = \"bottom-left\";\n    ResizeHandleLocation[\"BottomRight\"] = \"bottom-right\";\n})(ResizeHandleLocation = exports.ResizeHandleLocation || (exports.ResizeHandleLocation = {}));\nfunction isResizeable(element) {\n    return edit_config_1.isConfigurableNode(element) && element.resizable && lib_1.isBoundsAware(element) && lib_1.isSelectable(element) && element instanceof lib_1.SParentElement;\n}\nexports.isResizeable = isResizeable;\nfunction isBoundsAwareMoveable(element) {\n    return lib_1.isMoveable(element) && lib_1.isBoundsAware(element);\n}\nexports.isBoundsAwareMoveable = isBoundsAwareMoveable;\nvar SResizeHandle = /** @class */ (function (_super) {\n    __extends(SResizeHandle, _super);\n    function SResizeHandle(location) {\n        var _this = _super.call(this) || this;\n        _this.type = SResizeHandle.TYPE;\n        _this.hoverFeedback = false;\n        _this.location = location;\n        return _this;\n    }\n    SResizeHandle.prototype.hasFeature = function (feature) {\n        return feature === lib_1.hoverFeedbackFeature;\n    };\n    SResizeHandle.TYPE = 'resize-handle';\n    return SResizeHandle;\n}(lib_1.SChildElement));\nexports.SResizeHandle = SResizeHandle;\nfunction addResizeHandles(element) {\n    removeResizeHandles(element);\n    element.add(new SResizeHandle(ResizeHandleLocation.TopLeft));\n    element.add(new SResizeHandle(ResizeHandleLocation.TopRight));\n    element.add(new SResizeHandle(ResizeHandleLocation.BottomLeft));\n    element.add(new SResizeHandle(ResizeHandleLocation.BottomRight));\n}\nexports.addResizeHandles = addResizeHandles;\nfunction removeResizeHandles(element) {\n    element.removeAll(function (child) { return child instanceof SResizeHandle; });\n}\nexports.removeResizeHandles = removeResizeHandles;\n//# sourceMappingURL=model.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RequestCommandPaletteActions = /** @class */ (function () {\n    function RequestCommandPaletteActions(selectedElementsIDs) {\n        if (selectedElementsIDs === void 0) { selectedElementsIDs = []; }\n        this.selectedElementsIDs = selectedElementsIDs;\n        this.kind = RequestCommandPaletteActions.KIND;\n    }\n    RequestCommandPaletteActions.KIND = \"requestCommandPaletteActions\";\n    return RequestCommandPaletteActions;\n}());\nexports.RequestCommandPaletteActions = RequestCommandPaletteActions;\nvar SetCommandPaletteActions = /** @class */ (function () {\n    function SetCommandPaletteActions(actions) {\n        this.actions = actions;\n        this.kind = SetCommandPaletteActions.KIND;\n    }\n    SetCommandPaletteActions.KIND = \"setCommandPaletteActions\";\n    return SetCommandPaletteActions;\n}());\nexports.SetCommandPaletteActions = SetCommandPaletteActions;\nfunction isSetCommandPaletteActionsAction(action) {\n    return action !== undefined && (action.kind === SetCommandPaletteActions.KIND)\n        && action.actions !== undefined;\n}\nexports.isSetCommandPaletteActionsAction = isSetCommandPaletteActionsAction;\n//# sourceMappingURL=action-definitions.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar iterable_1 = require(\"sprotty/lib/utils/iterable\");\nvar types_1 = require(\"../../types\");\nvar smodel_util_1 = require(\"../../utils/smodel-util\");\nvar support_1 = require(\"../request-response/support\");\nvar action_definitions_1 = require(\"./action-definitions\");\nvar NavigationCommandPaletteActionProvider = /** @class */ (function () {\n    function NavigationCommandPaletteActionProvider(logger) {\n        this.logger = logger;\n    }\n    NavigationCommandPaletteActionProvider.prototype.getActions = function (root) {\n        return Promise.resolve(iterable_1.toArray(root.index.all()\n            .filter(lib_1.isNameable)\n            .map(function (nameable) { return new lib_1.LabeledAction(\"Select \" + lib_1.name(nameable), [new lib_1.SelectAction([nameable.id]), new lib_1.CenterAction([nameable.id])]); })));\n    };\n    NavigationCommandPaletteActionProvider = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.ILogger)),\n        __metadata(\"design:paramtypes\", [Object])\n    ], NavigationCommandPaletteActionProvider);\n    return NavigationCommandPaletteActionProvider;\n}());\nexports.NavigationCommandPaletteActionProvider = NavigationCommandPaletteActionProvider;\nvar ServerCommandPaletteActionProvider = /** @class */ (function () {\n    function ServerCommandPaletteActionProvider(requestResponseSupport) {\n        this.requestResponseSupport = requestResponseSupport;\n    }\n    ServerCommandPaletteActionProvider.prototype.getActions = function (root) {\n        var selectedElementIDs = Array.from(root.index.all().filter(smodel_util_1.isSelected).map(function (e) { return e.id; }));\n        var requestAction = new action_definitions_1.RequestCommandPaletteActions(selectedElementIDs);\n        var responseHandler = this.getPaletteActionsFromResponse;\n        var promise = this.requestResponseSupport.dispatchRequest(requestAction, responseHandler);\n        return promise;\n    };\n    ServerCommandPaletteActionProvider.prototype.getPaletteActionsFromResponse = function (action) {\n        if (action_definitions_1.isSetCommandPaletteActionsAction(action)) {\n            return action.actions;\n        }\n        return [];\n    };\n    ServerCommandPaletteActionProvider = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.GLSP_TYPES.RequestResponseSupport)),\n        __metadata(\"design:paramtypes\", [support_1.RequestResponseSupport])\n    ], ServerCommandPaletteActionProvider);\n    return ServerCommandPaletteActionProvider;\n}());\nexports.ServerCommandPaletteActionProvider = ServerCommandPaletteActionProvider;\n//# sourceMappingURL=action-provider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nrequire(\"../../../css/command-palette.css\");\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar action_provider_1 = require(\"./action-provider\");\nvar glspCommandPaletteModule = new inversify_1.ContainerModule(function (bind, unbind, isBound, rebind) {\n    bind(lib_1.TYPES.ICommandPaletteActionProvider).to(action_provider_1.NavigationCommandPaletteActionProvider);\n    bind(action_provider_1.ServerCommandPaletteActionProvider).toSelf().inSingletonScope();\n    bind(lib_1.TYPES.ICommandPaletteActionProvider).to(action_provider_1.ServerCommandPaletteActionProvider);\n});\nexports.default = glspCommandPaletteModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar execute_command_1 = require(\"./execute-command\");\nvar executeCommandModule = new inversify_1.ContainerModule(function (bind) {\n    bind(lib_1.TYPES.MouseListener).to(execute_command_1.ExecuteCommandMouseListener);\n});\nexports.default = executeCommandModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nvar model_1 = require(\"./model\");\nvar ExecuteServerCommandAction = /** @class */ (function () {\n    function ExecuteServerCommandAction(commandId, options) {\n        this.commandId = commandId;\n        this.options = options;\n        this.kind = ExecuteServerCommandAction.KIND;\n    }\n    ExecuteServerCommandAction.KIND = \"executeServerCommand\";\n    return ExecuteServerCommandAction;\n}());\nexports.ExecuteServerCommandAction = ExecuteServerCommandAction;\nvar ExecuteCommandMouseListener = /** @class */ (function (_super) {\n    __extends(ExecuteCommandMouseListener, _super);\n    function ExecuteCommandMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ExecuteCommandMouseListener.prototype.doubleClick = function (target, event) {\n        var result = [];\n        var commandExecutorTarget = lib_1.findParentByFeature(target, model_1.isCommandExecutor);\n        if (commandExecutorTarget) {\n            result.push(new ExecuteServerCommandAction(commandExecutorTarget.commandId, { invokerId: commandExecutorTarget.id }));\n        }\n        return result;\n    };\n    return ExecuteCommandMouseListener;\n}(lib_1.MouseListener));\nexports.ExecuteCommandMouseListener = ExecuteCommandMouseListener;\n//# sourceMappingURL=execute-command.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.executeCommandFeature = Symbol('executeFeature');\nfunction isCommandExecutor(element) {\n    return element.hasFeature(exports.executeCommandFeature);\n}\nexports.isCommandExecutor = isCommandExecutor;\n//# sourceMappingURL=model.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RequestTypeHintsAction = /** @class */ (function () {\n    function RequestTypeHintsAction(diagramType) {\n        this.diagramType = diagramType;\n        this.kind = RequestTypeHintsAction.KIND;\n    }\n    RequestTypeHintsAction.KIND = \"requestTypeHints\";\n    return RequestTypeHintsAction;\n}());\nexports.RequestTypeHintsAction = RequestTypeHintsAction;\nvar SetTypeHintsAction = /** @class */ (function () {\n    function SetTypeHintsAction(nodeHints, edgeHints) {\n        this.nodeHints = nodeHints;\n        this.edgeHints = edgeHints;\n        this.kind = SetTypeHintsAction.KIND;\n    }\n    SetTypeHintsAction.KIND = \"setTypeHints\";\n    return SetTypeHintsAction;\n}());\nexports.SetTypeHintsAction = SetTypeHintsAction;\nfunction isSetTypeHintsAction(action) {\n    return action !== undefined && (action.kind === SetTypeHintsAction.KIND)\n        && action.nodeHints !== undefined && action.edgeHints !== undefined;\n}\nexports.isSetTypeHintsAction = isSetTypeHintsAction;\n//# sourceMappingURL=action-definition.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar types_1 = require(\"../../types\");\nvar type_hints_action_initializer_1 = require(\"./type-hints-action-initializer\");\nvar modelHintsModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    bind(type_hints_action_initializer_1.TypeHintsEditConfigProvider).toSelf().inSingletonScope();\n    bind(lib_1.TYPES.IActionHandlerInitializer).toService(type_hints_action_initializer_1.TypeHintsEditConfigProvider);\n    bind(types_1.GLSP_TYPES.IEditConfigProvider).toService(type_hints_action_initializer_1.TypeHintsEditConfigProvider);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, type_hints_action_initializer_1.ApplyEditConfigCommand);\n});\nexports.default = modelHintsModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar edit_config_1 = require(\"../../base/edit-config/edit-config\");\nvar tool_manager_action_handler_1 = require(\"../../base/tool-manager/tool-manager-action-handler\");\nvar types_1 = require(\"../../types\");\nvar array_utils_1 = require(\"../../utils/array-utils\");\nvar model_1 = require(\"../tool-feedback/model\");\nvar action_definition_1 = require(\"./action-definition\");\nvar ApplyEditConfigAction = /** @class */ (function () {\n    function ApplyEditConfigAction(editConfigs) {\n        this.editConfigs = editConfigs;\n        this.kind = ApplyEditConfigCommand.KIND;\n    }\n    ApplyEditConfigAction = __decorate([\n        inversify_1.injectable(),\n        __metadata(\"design:paramtypes\", [Map])\n    ], ApplyEditConfigAction);\n    return ApplyEditConfigAction;\n}());\nexports.ApplyEditConfigAction = ApplyEditConfigAction;\nvar ApplyEditConfigCommand = /** @class */ (function (_super) {\n    __extends(ApplyEditConfigCommand, _super);\n    function ApplyEditConfigCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.priority = 10;\n        return _this;\n    }\n    ApplyEditConfigCommand.prototype.execute = function (context) {\n        var _this = this;\n        context.root.index.all().forEach(function (element) {\n            var config = _this.action.editConfigs.get(element.type);\n            if (config) {\n                Object.assign(element, config);\n            }\n        });\n        return context.root;\n    };\n    ApplyEditConfigCommand.KIND = \"applyEditConfig\";\n    ApplyEditConfigCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ApplyEditConfigAction])\n    ], ApplyEditConfigCommand);\n    return ApplyEditConfigCommand;\n}(model_1.FeedbackCommand));\nexports.ApplyEditConfigCommand = ApplyEditConfigCommand;\nvar TypeHintsEditConfigProvider = /** @class */ (function (_super) {\n    __extends(TypeHintsEditConfigProvider, _super);\n    function TypeHintsEditConfigProvider() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.editConfigs = new Map;\n        _this.handledActionKinds = [action_definition_1.SetTypeHintsAction.KIND];\n        return _this;\n    }\n    TypeHintsEditConfigProvider.prototype.handle = function (action) {\n        var _this = this;\n        if (action_definition_1.isSetTypeHintsAction(action)) {\n            action.nodeHints.forEach(function (hint) { return _this.editConfigs.set(hint.elementTypeId, createNodeEditConfig(hint)); });\n            action.edgeHints.forEach(function (hint) { return _this.editConfigs.set(hint.elementTypeId, createEdgeEditConfig(hint)); });\n            this.feedbackActionDispatcher.registerFeedback(this, [new ApplyEditConfigAction(this.editConfigs)]);\n        }\n    };\n    TypeHintsEditConfigProvider.prototype.getEditConfig = function (input) {\n        return this.editConfigs.get(getElementTypeId(input));\n    };\n    TypeHintsEditConfigProvider.prototype.getAllEdgeEditConfigs = function () {\n        var configs = [];\n        this.editConfigs.forEach(function (value, key) {\n            if (edit_config_1.isEdgeEditConfig(value)) {\n                configs.push(value);\n            }\n        });\n        return configs;\n    };\n    TypeHintsEditConfigProvider.prototype.getAllNodeEditConfigs = function () {\n        var configs = [];\n        this.editConfigs.forEach(function (value, key) {\n            if (edit_config_1.isNodeEditConfig(value)) {\n                configs.push(value);\n            }\n        });\n        return configs;\n    };\n    __decorate([\n        inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], TypeHintsEditConfigProvider.prototype, \"feedbackActionDispatcher\", void 0);\n    TypeHintsEditConfigProvider = __decorate([\n        inversify_1.injectable()\n    ], TypeHintsEditConfigProvider);\n    return TypeHintsEditConfigProvider;\n}(tool_manager_action_handler_1.SelfInitializingActionHandler));\nexports.TypeHintsEditConfigProvider = TypeHintsEditConfigProvider;\nfunction createNodeEditConfig(hint) {\n    return {\n        elementTypeId: hint.elementTypeId,\n        deletable: hint.deletable,\n        repositionable: hint.repositionable,\n        resizable: hint.resizable,\n        configType: edit_config_1.nodeEditConfig,\n        isContainableElement: function (element) { return hint.containableElementTypeIds ? array_utils_1.contains(hint.containableElementTypeIds, getElementTypeId(element)) : false; },\n        isContainer: function () { return hint.containableElementTypeIds ? hint.containableElementTypeIds.length > 0 : false; }\n    };\n}\nexports.createNodeEditConfig = createNodeEditConfig;\nfunction createEdgeEditConfig(hint) {\n    return {\n        elementTypeId: hint.elementTypeId,\n        deletable: hint.deletable,\n        repositionable: hint.repositionable,\n        routable: hint.routable,\n        configType: edit_config_1.edgeEditConfig,\n        isAllowedSource: function (source) { return array_utils_1.contains(hint.sourceElementTypeIds, getElementTypeId(source)); },\n        isAllowedTarget: function (target) { return array_utils_1.contains(hint.targetElementTypeIds, getElementTypeId(target)); }\n    };\n}\nexports.createEdgeEditConfig = createEdgeEditConfig;\nfunction getElementTypeId(input) {\n    if (typeof input === 'string') {\n        return input;\n    }\n    else {\n        return input[\"type\"];\n    }\n}\n//# sourceMappingURL=type-hints-action-initializer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar sprotty_1 = require(\"sprotty\");\nvar types_1 = require(\"../../types\");\nvar mouse_tool_1 = require(\"./mouse-tool\");\nvar glspMouseToolModule = new inversify_1.ContainerModule(function (bind, unbind, isBound, rebind) {\n    bind(mouse_tool_1.RankingMouseTool).toSelf().inSingletonScope();\n    bind(types_1.GLSP_TYPES.MouseTool).toService(mouse_tool_1.RankingMouseTool);\n    rebind(sprotty_1.MouseTool).toService(mouse_tool_1.RankingMouseTool);\n});\nexports.default = glspMouseToolModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar sprotty_1 = require(\"sprotty\");\nvar model_1 = require(\"../rank/model\");\nvar RankingMouseTool = /** @class */ (function (_super) {\n    __extends(RankingMouseTool, _super);\n    function RankingMouseTool(mouseListeners) {\n        if (mouseListeners === void 0) { mouseListeners = []; }\n        var _this = _super.call(this, mouseListeners) || this;\n        _this.mouseListeners = mouseListeners;\n        _this.rankedMouseListeners = groupBy(mouseListeners, function (listener) { return model_1.getRank(listener); });\n        return _this;\n    }\n    RankingMouseTool.prototype.register = function (mouseListener) {\n        _super.prototype.register.call(this, mouseListener);\n        this.rankedMouseListeners = groupBy(this.mouseListeners, function (listener) { return model_1.getRank(listener); });\n    };\n    RankingMouseTool.prototype.deregister = function (mouseListener) {\n        _super.prototype.deregister.call(this, mouseListener);\n        this.rankedMouseListeners = groupBy(this.mouseListeners, function (listener) { return model_1.getRank(listener); });\n    };\n    RankingMouseTool.prototype.decorate = function (vnode, element) {\n        // we need to overwrite the existing event handlers registered by the original mouse tool\n        if (element instanceof sprotty_1.SModelRoot) {\n            overwriteOn(vnode, 'mouseover', this.mouseOver.bind(this), element);\n            overwriteOn(vnode, 'mouseout', this.mouseOut.bind(this), element);\n            overwriteOn(vnode, 'mouseenter', this.mouseEnter.bind(this), element);\n            overwriteOn(vnode, 'mouseleave', this.mouseLeave.bind(this), element);\n            overwriteOn(vnode, 'mousedown', this.mouseDown.bind(this), element);\n            overwriteOn(vnode, 'mouseup', this.mouseUp.bind(this), element);\n            overwriteOn(vnode, 'mousemove', this.mouseMove.bind(this), element);\n            overwriteOn(vnode, 'wheel', this.wheel.bind(this), element);\n            overwriteOn(vnode, 'contextmenu', function (target, event) {\n                event.preventDefault();\n            }, element);\n            overwriteOn(vnode, 'dblclick', this.doubleClick.bind(this), element);\n        }\n        vnode = this.mouseListeners.reduce(function (n, listener) { return listener.decorate(n, element); }, vnode);\n        return vnode;\n    };\n    RankingMouseTool.prototype.handleEvent = function (methodName, model, event) {\n        this.focusOnMouseEvent(methodName, model);\n        var element = this.getTargetElement(model, event);\n        if (!element) {\n            return;\n        }\n        this.notifyListenersByRank(element, methodName, model, event);\n    };\n    RankingMouseTool.prototype.notifyListenersByRank = function (element, methodName, model, event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_1, _a, _b, _c, rank, e_1_1;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _d.trys.push([0, 5, 6, 7]);\n                        _b = __values(this.rankedMouseListeners), _c = _b.next();\n                        _d.label = 1;\n                    case 1:\n                        if (!!_c.done) return [3 /*break*/, 4];\n                        rank = _c.value;\n                        return [4 /*yield*/, this.dispatchActions(rank[1], methodName, element, event)];\n                    case 2:\n                        _d.sent();\n                        _d.label = 3;\n                    case 3:\n                        _c = _b.next();\n                        return [3 /*break*/, 1];\n                    case 4: return [3 /*break*/, 7];\n                    case 5:\n                        e_1_1 = _d.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 7];\n                    case 6:\n                        try {\n                            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RankingMouseTool.prototype.dispatchActions = function (mouseListeners, methodName, element, event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var e_2, _a, actions, actions_1, actions_1_1, actionOrPromise, e_2_1;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        actions = mouseListeners\n                            .map(function (listener) { return listener[methodName].apply(listener, [element, event]); })\n                            .reduce(function (a, b) { return a.concat(b); });\n                        if (!(actions.length > 0)) return [3 /*break*/, 9];\n                        event.preventDefault();\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 7, 8, 9]);\n                        actions_1 = __values(actions), actions_1_1 = actions_1.next();\n                        _b.label = 2;\n                    case 2:\n                        if (!!actions_1_1.done) return [3 /*break*/, 6];\n                        actionOrPromise = actions_1_1.value;\n                        if (!sprotty_1.isAction(actionOrPromise)) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.actionDispatcher.dispatch(actionOrPromise)];\n                    case 3:\n                        _b.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        actionOrPromise.then(function (action) {\n                            _this.actionDispatcher.dispatch(action);\n                        });\n                        _b.label = 5;\n                    case 5:\n                        actions_1_1 = actions_1.next();\n                        return [3 /*break*/, 2];\n                    case 6: return [3 /*break*/, 9];\n                    case 7:\n                        e_2_1 = _b.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3 /*break*/, 9];\n                    case 8:\n                        try {\n                            if (actions_1_1 && !actions_1_1.done && (_a = actions_1.return)) _a.call(actions_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                        return [7 /*endfinally*/];\n                    case 9: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    RankingMouseTool = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(sprotty_1.TYPES.MouseListener)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], RankingMouseTool);\n    return RankingMouseTool;\n}(sprotty_1.MouseTool));\nexports.RankingMouseTool = RankingMouseTool;\nfunction groupBy(array, keyFunction) {\n    var unsortedMap = array.reduce(function (result, item) {\n        var key = keyFunction(item);\n        if (!result.has(key)) {\n            result.set(key, [item]);\n        }\n        else {\n            var entries = result.get(key);\n            if (entries) {\n                entries.push(item);\n            }\n        }\n        return result;\n    }, new Map());\n    return new Map(__spread(unsortedMap.entries()).sort());\n}\nfunction overwriteOn(vnode, event, listener, element) {\n    var val = getOn(vnode);\n    // ignore any previous val[event] registrations\n    val[event] = [listener, element];\n}\nfunction getOn(vnode) {\n    var data = getData(vnode);\n    if (!data.on)\n        data.on = {};\n    return data.on;\n}\nfunction getData(vnode) {\n    if (!vnode.data)\n        vnode.data = {};\n    return vnode.data;\n}\n//# sourceMappingURL=mouse-tool.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar set_operations_1 = require(\"./set-operations\");\nvar CreateNodeOperationAction = /** @class */ (function () {\n    function CreateNodeOperationAction(elementTypeId, location, containerId) {\n        this.elementTypeId = elementTypeId;\n        this.location = location;\n        this.containerId = containerId;\n        this.kind = set_operations_1.OperationKind.CREATE_NODE;\n    }\n    return CreateNodeOperationAction;\n}());\nexports.CreateNodeOperationAction = CreateNodeOperationAction;\nvar CreateConnectionOperationAction = /** @class */ (function () {\n    function CreateConnectionOperationAction(elementTypeId, sourceElementId, targetElementId) {\n        this.elementTypeId = elementTypeId;\n        this.sourceElementId = sourceElementId;\n        this.targetElementId = targetElementId;\n        this.kind = set_operations_1.OperationKind.CREATE_CONNECTION;\n    }\n    return CreateConnectionOperationAction;\n}());\nexports.CreateConnectionOperationAction = CreateConnectionOperationAction;\nvar DeleteElementOperationAction = /** @class */ (function () {\n    function DeleteElementOperationAction(elementIds) {\n        this.elementIds = elementIds;\n        this.kind = set_operations_1.OperationKind.DELETE_ELEMENT;\n    }\n    return DeleteElementOperationAction;\n}());\nexports.DeleteElementOperationAction = DeleteElementOperationAction;\nvar ChangeBoundsOperationAction = /** @class */ (function () {\n    function ChangeBoundsOperationAction(newBounds) {\n        this.newBounds = newBounds;\n        this.kind = set_operations_1.OperationKind.CHANGE_BOUNDS;\n    }\n    return ChangeBoundsOperationAction;\n}());\nexports.ChangeBoundsOperationAction = ChangeBoundsOperationAction;\nvar ChangeContainerOperation = /** @class */ (function () {\n    function ChangeContainerOperation(elementId, targetContainerId, location) {\n        this.elementId = elementId;\n        this.targetContainerId = targetContainerId;\n        this.location = location;\n        this.kind = set_operations_1.OperationKind.CHANGE_CONTAINER;\n    }\n    return ChangeContainerOperation;\n}());\nexports.ChangeContainerOperation = ChangeContainerOperation;\nvar GenericOperationAction = /** @class */ (function () {\n    function GenericOperationAction(id, elementId, location) {\n        this.id = id;\n        this.elementId = elementId;\n        this.location = location;\n        this.kind = set_operations_1.OperationKind.GENERIC;\n    }\n    return GenericOperationAction;\n}());\nexports.GenericOperationAction = GenericOperationAction;\n//# sourceMappingURL=operation-actions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar OperationKind;\n(function (OperationKind) {\n    OperationKind.CREATE_NODE = \"createNode\";\n    OperationKind.CREATE_CONNECTION = \"createConnection\";\n    OperationKind.RECONNECT_CONNECTION = \"reconnectConnection\";\n    OperationKind.REROUTE_CONNECTION = \"rerouteConnection\";\n    OperationKind.DELETE_ELEMENT = \"delete\";\n    OperationKind.CHANGE_BOUNDS = \"changeBoundsOperation\";\n    OperationKind.CHANGE_CONTAINER = \"changeContainer\";\n    OperationKind.GENERIC = \"generic\";\n})(OperationKind = exports.OperationKind || (exports.OperationKind = {}));\nexports.UNGROUPED = { id: \"ungrouped\", label: \"\" };\nfunction parentGroup(operation) {\n    return parent(operation.group);\n}\nexports.parentGroup = parentGroup;\nfunction parent(group) {\n    if (group) {\n        if (group.parentGroup) {\n            return parent(group.parentGroup);\n        }\n        else {\n            return group;\n        }\n    }\n    return exports.UNGROUPED;\n}\nvar RequestOperationsAction = /** @class */ (function () {\n    function RequestOperationsAction() {\n        this.kind = RequestOperationsAction.KIND;\n    }\n    RequestOperationsAction.KIND = 'requestOperations';\n    return RequestOperationsAction;\n}());\nexports.RequestOperationsAction = RequestOperationsAction;\nvar SetOperationsAction = /** @class */ (function () {\n    function SetOperationsAction(operations) {\n        this.operations = operations;\n        this.kind = SetOperationsAction.KIND;\n    }\n    SetOperationsAction.KIND = 'setOperations';\n    return SetOperationsAction;\n}());\nexports.SetOperationsAction = SetOperationsAction;\nfunction isSetOperationsAction(action) {\n    return action !== undefined && (action.kind === SetOperationsAction.KIND)\n        && action.operations !== undefined;\n}\nexports.isSetOperationsAction = isSetOperationsAction;\nfunction deriveOperationId(operationKind, elementTypeId) {\n    var elementTypeSuffix = elementTypeId ? '_' + elementTypeId : \"\";\n    return \"\" + operationKind + elementTypeSuffix;\n}\nexports.deriveOperationId = deriveOperationId;\n//# sourceMappingURL=set-operations.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_RANK = 0;\nfunction isRanked(arg) {\n    return arg !== undefined && arg.rank !== undefined && typeof (arg.rank) === 'number';\n}\nexports.isRanked = isRanked;\nfunction getRank(arg) {\n    return isRanked(arg) ? arg.rank : exports.DEFAULT_RANK;\n}\nexports.getRank = getRank;\n//# sourceMappingURL=model.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar set_operations_1 = require(\"../operation/set-operations\");\nvar ReconnectConnectionOperationAction = /** @class */ (function () {\n    function ReconnectConnectionOperationAction(connectionElementId, sourceElementId, targetElementId) {\n        this.connectionElementId = connectionElementId;\n        this.sourceElementId = sourceElementId;\n        this.targetElementId = targetElementId;\n        this.kind = set_operations_1.OperationKind.RECONNECT_CONNECTION;\n    }\n    return ReconnectConnectionOperationAction;\n}());\nexports.ReconnectConnectionOperationAction = ReconnectConnectionOperationAction;\nvar RerouteConnectionOperationAction = /** @class */ (function () {\n    function RerouteConnectionOperationAction(connectionElementId, routingPoints) {\n        this.connectionElementId = connectionElementId;\n        this.routingPoints = routingPoints;\n        this.kind = set_operations_1.OperationKind.REROUTE_CONNECTION;\n    }\n    return RerouteConnectionOperationAction;\n}());\nexports.RerouteConnectionOperationAction = RerouteConnectionOperationAction;\n//# sourceMappingURL=action-definitions.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nvar ROUTING_HANDLE_SOURCE_INDEX = -2;\nfunction isRoutable(element) {\n    return element instanceof lib_1.SRoutableElement && element.routingPoints !== undefined;\n}\nexports.isRoutable = isRoutable;\nfunction isReconnectHandle(element) {\n    return element !== undefined && element instanceof SReconnectHandle;\n}\nexports.isReconnectHandle = isReconnectHandle;\nfunction isRoutingHandle(element) {\n    return element !== undefined && element instanceof lib_1.SRoutingHandle;\n}\nexports.isRoutingHandle = isRoutingHandle;\nfunction addReconnectHandles(element) {\n    removeReconnectHandles(element);\n    createReconnectHandle(element, 'source', ROUTING_HANDLE_SOURCE_INDEX);\n    createReconnectHandle(element, 'target', element.routingPoints.length);\n}\nexports.addReconnectHandles = addReconnectHandles;\nfunction removeReconnectHandles(element) {\n    element.removeAll(function (child) { return child instanceof SReconnectHandle; });\n}\nexports.removeReconnectHandles = removeReconnectHandles;\nfunction isSourceRoutingHandle(edge, routingHandle) {\n    return routingHandle.pointIndex === ROUTING_HANDLE_SOURCE_INDEX;\n}\nexports.isSourceRoutingHandle = isSourceRoutingHandle;\nfunction isTargetRoutingHandle(edge, routingHandle) {\n    return routingHandle.pointIndex === edge.routingPoints.length;\n}\nexports.isTargetRoutingHandle = isTargetRoutingHandle;\nfunction createReconnectHandle(edge, kind, routingPointIndex) {\n    var handle = new SReconnectHandle();\n    handle.kind = kind;\n    handle.pointIndex = routingPointIndex;\n    handle.type = 'routing-point';\n    if (kind === 'target' && edge.id === lib_1.edgeInProgressID) {\n        handle.id = lib_1.edgeInProgressTargetHandleID;\n    }\n    edge.add(handle);\n    return handle;\n}\nexports.createReconnectHandle = createReconnectHandle;\nvar SReconnectHandle = /** @class */ (function (_super) {\n    __extends(SReconnectHandle, _super);\n    function SReconnectHandle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SReconnectHandle.prototype.hasFeature = function (feature) {\n        return feature !== lib_1.selectFeature && _super.prototype.hasFeature.call(this, feature);\n    };\n    return SReconnectHandle;\n}(lib_1.SRoutingHandle));\nexports.SReconnectHandle = SReconnectHandle;\n//# sourceMappingURL=model.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar IdentifiableRequestAction = /** @class */ (function () {\n    function IdentifiableRequestAction(id, action) {\n        this.id = id;\n        this.action = action;\n        this.kind = IdentifiableRequestAction.KIND;\n    }\n    IdentifiableRequestAction.KIND = \"identifiableRequestAction\";\n    return IdentifiableRequestAction;\n}());\nexports.IdentifiableRequestAction = IdentifiableRequestAction;\nvar IdentifiableResponseAction = /** @class */ (function () {\n    function IdentifiableResponseAction(id, action) {\n        this.id = id;\n        this.action = action;\n        this.kind = IdentifiableResponseAction.KIND;\n    }\n    IdentifiableResponseAction.KIND = \"identifiableResponseAction\";\n    return IdentifiableResponseAction;\n}());\nexports.IdentifiableResponseAction = IdentifiableResponseAction;\nfunction isIdentifiableRequestAction(action) {\n    return action !== undefined && (action.kind === IdentifiableRequestAction.KIND)\n        && action.id !== undefined\n        && action.action !== undefined;\n}\nexports.isIdentifiableRequestAction = isIdentifiableRequestAction;\nfunction isIdentifiableResponseAction(action) {\n    return action !== undefined && (action.kind === IdentifiableResponseAction.KIND)\n        && action.id !== undefined\n        && action.action !== undefined;\n}\nexports.isIdentifiableResponseAction = isIdentifiableResponseAction;\n//# sourceMappingURL=action-definitions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar sprotty_1 = require(\"sprotty\");\nvar types_1 = require(\"../../types\");\nvar support_1 = require(\"./support\");\nvar requestResponseModule = new inversify_1.ContainerModule(function (bind, unbind, isBound, rebind) {\n    bind(support_1.RequestResponseSupport).toSelf().inSingletonScope();\n    bind(types_1.GLSP_TYPES.RequestResponseSupport).toService(support_1.RequestResponseSupport);\n    bind(sprotty_1.TYPES.IActionHandlerInitializer).toService(support_1.RequestResponseSupport);\n});\nexports.default = requestResponseModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar uuid_1 = require(\"uuid\");\nvar action_definitions_1 = require(\"./action-definitions\");\nvar RequestResponseSupport = /** @class */ (function () {\n    function RequestResponseSupport() {\n        this.requestedResponses = new Map();\n    }\n    RequestResponseSupport.prototype.initialize = function (registry) {\n        registry.register(action_definitions_1.IdentifiableResponseAction.KIND, this);\n    };\n    RequestResponseSupport.prototype.handle = function (response) {\n        if (action_definitions_1.isIdentifiableResponseAction(response)) {\n            var responseId = response.id;\n            if (this.requestedResponses.has(responseId)) {\n                this.requestedResponses.set(responseId, response.action);\n            }\n            else {\n                this.logger.log(this, \"[RequestResponse] \" + responseId + \": Response without request, ignore.\");\n            }\n        }\n    };\n    RequestResponseSupport.prototype.dispatchRequest = function (request, responseHandler, //\n    intervalMs, timeoutMs, rejectOnTimeout) {\n        if (intervalMs === void 0) { intervalMs = 100; }\n        if (timeoutMs === void 0) { timeoutMs = 2000; }\n        if (rejectOnTimeout === void 0) { rejectOnTimeout = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var requestId, requestAction, timeout, responseInterval, requestPromise, timeoutPromise;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        requestId = uuid_1.v4();\n                        requestAction = new action_definitions_1.IdentifiableRequestAction(requestId, request);\n                        this.requestedResponses.set(requestAction.id, undefined);\n                        return [4 /*yield*/, this.actionDispatcher.dispatch(requestAction)];\n                    case 1:\n                        _a.sent();\n                        this.logger.log(this, \"[RequestResponse] \" + requestId + \": Request for \" + JSON.stringify(requestAction.action) + \" dispatched.\");\n                        requestPromise = new Promise(function (resolve, reject) {\n                            responseInterval = setInterval(function () {\n                                var responseAction = _this.requestedResponses.get(requestId);\n                                if (responseAction) {\n                                    _this.logger.log(_this, \"[RequestResponse] \" + requestId + \": Response for request received.\");\n                                    // cleanup\n                                    clearTimeout(timeout);\n                                    clearInterval(responseInterval);\n                                    _this.requestedResponses.delete(requestId);\n                                    // handle result\n                                    var result = responseHandler(responseAction);\n                                    return resolve(result);\n                                }\n                            }, intervalMs);\n                            return [];\n                        });\n                        timeoutPromise = new Promise(function (resolve, reject) {\n                            timeout = setTimeout(function () {\n                                _this.logger.warn(_this, \"[RequestResponse] \" + requestId + \": No response received after \" + timeoutMs + \"ms.\");\n                                // cleanup\n                                clearTimeout(timeout);\n                                clearInterval(responseInterval);\n                                _this.requestedResponses.delete(requestId);\n                                // handle timeout: reject or resolve with undefined\n                                if (rejectOnTimeout) {\n                                    return reject(\"No response for \" + requestId + \" (\" + requestAction.action + \") timed out after \" + timeoutMs + \"!\");\n                                }\n                                return resolve();\n                            }, timeoutMs);\n                            return [];\n                        });\n                        return [2 /*return*/, Promise.race([requestPromise, timeoutPromise])];\n                }\n            });\n        });\n    };\n    __decorate([\n        inversify_1.inject(lib_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], RequestResponseSupport.prototype, \"actionDispatcher\", void 0);\n    __decorate([\n        inversify_1.inject(lib_1.TYPES.ActionHandlerRegistryProvider),\n        __metadata(\"design:type\", lib_1.ActionHandlerRegistry)\n    ], RequestResponseSupport.prototype, \"registry\", void 0);\n    __decorate([\n        inversify_1.inject(lib_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], RequestResponseSupport.prototype, \"logger\", void 0);\n    RequestResponseSupport = __decorate([\n        inversify_1.injectable()\n    ], RequestResponseSupport);\n    return RequestResponseSupport;\n}());\nexports.RequestResponseSupport = RequestResponseSupport;\n//# sourceMappingURL=support.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar types_1 = require(\"sprotty/lib/base/types\");\nvar save_1 = require(\"./save\");\nvar saveModule = new inversify_1.ContainerModule(function (bind) {\n    bind(types_1.TYPES.KeyListener).to(save_1.SaveModelKeyboardListener);\n});\nexports.default = saveModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.saveFeature = Symbol.for('saveFeature');\nfunction isSaveable(element) {\n    return element.hasFeature(exports.saveFeature);\n}\nexports.isSaveable = isSaveable;\n//# sourceMappingURL=model.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nvar keyboard_1 = require(\"sprotty/lib/utils/keyboard\");\nvar SaveModelAction = /** @class */ (function () {\n    function SaveModelAction() {\n        this.kind = SaveModelAction.KIND;\n    }\n    SaveModelAction.KIND = \"saveModel\";\n    return SaveModelAction;\n}());\nexports.SaveModelAction = SaveModelAction;\nvar SaveModelKeyboardListener = /** @class */ (function (_super) {\n    __extends(SaveModelKeyboardListener, _super);\n    function SaveModelKeyboardListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SaveModelKeyboardListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'KeyS', 'ctrlCmd')) {\n            return [new SaveModelAction()];\n        }\n        return [];\n    };\n    return SaveModelKeyboardListener;\n}(lib_1.KeyListener));\nexports.SaveModelKeyboardListener = SaveModelKeyboardListener;\n//# sourceMappingURL=save.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar sprotty_1 = require(\"sprotty\");\nvar types_1 = require(\"../../types\");\nvar selection_service_1 = require(\"./selection-service\");\nvar SelectFeedbackAction = /** @class */ (function () {\n    function SelectFeedbackAction(selectedElementsIDs, deselectedElementsIDs) {\n        if (selectedElementsIDs === void 0) { selectedElementsIDs = []; }\n        if (deselectedElementsIDs === void 0) { deselectedElementsIDs = []; }\n        this.selectedElementsIDs = selectedElementsIDs;\n        this.deselectedElementsIDs = deselectedElementsIDs;\n        this.kind = SelectFeedbackCommand.KIND;\n    }\n    return SelectFeedbackAction;\n}());\nexports.SelectFeedbackAction = SelectFeedbackAction;\nvar SelectAllFeedbackAction = /** @class */ (function () {\n    /**\n     * If `select` is true, all elements are selected, othewise they are deselected.\n     */\n    function SelectAllFeedbackAction(select) {\n        if (select === void 0) { select = true; }\n        this.select = select;\n        this.kind = SelectAllFeedbackCommand.KIND;\n    }\n    return SelectAllFeedbackAction;\n}());\nexports.SelectAllFeedbackAction = SelectAllFeedbackAction;\nvar SelectFeedbackCommand = /** @class */ (function (_super) {\n    __extends(SelectFeedbackCommand, _super);\n    function SelectFeedbackCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.sprottySelectCommand = new sprotty_1.SelectCommand(action);\n        return _this;\n    }\n    SelectFeedbackCommand.prototype.execute = function (context) {\n        return this.sprottySelectCommand.execute(context);\n    };\n    SelectFeedbackCommand.prototype.undo = function (context) {\n        return this.sprottySelectCommand.undo(context);\n    };\n    SelectFeedbackCommand.prototype.redo = function (context) {\n        return this.sprottySelectCommand.redo(context);\n    };\n    SelectFeedbackCommand.KIND = 'elementSelectedFeedback';\n    SelectFeedbackCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(sprotty_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SelectFeedbackAction])\n    ], SelectFeedbackCommand);\n    return SelectFeedbackCommand;\n}(sprotty_1.Command));\nexports.SelectFeedbackCommand = SelectFeedbackCommand;\nvar SelectAllFeedbackCommand = /** @class */ (function (_super) {\n    __extends(SelectAllFeedbackCommand, _super);\n    function SelectAllFeedbackCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.sprottySelectAllCommand = new sprotty_1.SelectAllCommand(action);\n        return _this;\n    }\n    SelectAllFeedbackCommand.prototype.execute = function (context) {\n        return this.sprottySelectAllCommand.execute(context);\n    };\n    SelectAllFeedbackCommand.prototype.undo = function (context) {\n        return this.sprottySelectAllCommand.undo(context);\n    };\n    SelectAllFeedbackCommand.prototype.redo = function (context) {\n        return this.sprottySelectAllCommand.redo(context);\n    };\n    SelectAllFeedbackCommand.KIND = 'allSelectedFeedback';\n    SelectAllFeedbackCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(sprotty_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SelectAllFeedbackAction])\n    ], SelectAllFeedbackCommand);\n    return SelectAllFeedbackCommand;\n}(sprotty_1.Command));\nexports.SelectAllFeedbackCommand = SelectAllFeedbackCommand;\nvar SelectCommand = /** @class */ (function (_super) {\n    __extends(SelectCommand, _super);\n    function SelectCommand(action, selectionService) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.selectionService = selectionService;\n        _this.selected = [];\n        _this.deselected = [];\n        return _this;\n    }\n    SelectCommand.prototype.execute = function (context) {\n        var _this = this;\n        var model = context.root;\n        this.action.selectedElementsIDs.forEach(function (id) {\n            var element = model.index.getById(id);\n            if (element instanceof sprotty_1.SChildElement && sprotty_1.isSelectable(element)) {\n                _this.selected.push(element);\n            }\n        });\n        this.action.deselectedElementsIDs.forEach(function (id) {\n            var element = model.index.getById(id);\n            if (element instanceof sprotty_1.SChildElement && sprotty_1.isSelectable(element)) {\n                _this.deselected.push(element);\n            }\n        });\n        return this.redo(context);\n    };\n    SelectCommand.prototype.undo = function (context) {\n        var select = this.deselected.map(function (element) { return element.id; });\n        var deselect = this.selected.map(function (element) { return element.id; });\n        this.selectionService.updateSelection(context.root, select, deselect);\n        return context.root;\n    };\n    SelectCommand.prototype.redo = function (context) {\n        var select = this.selected.map(function (element) { return element.id; });\n        var deselect = this.deselected.map(function (element) { return element.id; });\n        this.selectionService.updateSelection(context.root, select, deselect);\n        return context.root;\n    };\n    SelectCommand.KIND = sprotty_1.SelectCommand.KIND;\n    SelectCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(sprotty_1.TYPES.Action)), __param(1, inversify_1.inject(types_1.GLSP_TYPES.SelectionService)),\n        __metadata(\"design:paramtypes\", [sprotty_1.SelectAction, selection_service_1.SelectionService])\n    ], SelectCommand);\n    return SelectCommand;\n}(sprotty_1.Command));\nexports.SelectCommand = SelectCommand;\nvar SelectAllCommand = /** @class */ (function (_super) {\n    __extends(SelectAllCommand, _super);\n    function SelectAllCommand(action, selectionService) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.selectionService = selectionService;\n        _this.previousSelection = new Map();\n        return _this;\n    }\n    SelectAllCommand.prototype.execute = function (context) {\n        return this.redo(context);\n    };\n    SelectAllCommand.prototype.undo = function (context) {\n        var e_1, _a;\n        var index = context.root.index;\n        try {\n            for (var _b = __values(this.previousSelection), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var previousState = _c.value;\n                var element = index.getById(previousState[0]);\n                if (element !== undefined && sprotty_1.isSelectable(element)) {\n                    element.selected = previousState[1];\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return context.root;\n    };\n    SelectAllCommand.prototype.redo = function (context) {\n        var selectables = [];\n        this.selectAll(context.root, this.action.select, selectables);\n        if (this.action.select) {\n            this.selectionService.updateSelection(context.root, selectables, []);\n        }\n        else {\n            this.selectionService.updateSelection(context.root, [], selectables);\n        }\n        return context.root;\n    };\n    SelectAllCommand.prototype.selectAll = function (element, newState, selected) {\n        var e_2, _a;\n        if (sprotty_1.isSelectable(element)) {\n            this.previousSelection.set(element.id, element.selected);\n            selected.push(element.id);\n        }\n        try {\n            for (var _b = __values(element.children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                this.selectAll(child, newState, selected);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    SelectAllCommand.KIND = sprotty_1.SelectAllCommand.KIND;\n    SelectAllCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(sprotty_1.TYPES.Action)), __param(1, inversify_1.inject(types_1.GLSP_TYPES.SelectionService)),\n        __metadata(\"design:paramtypes\", [sprotty_1.SelectAllAction, selection_service_1.SelectionService])\n    ], SelectAllCommand);\n    return SelectAllCommand;\n}(sprotty_1.Command));\nexports.SelectAllCommand = SelectAllCommand;\n//# sourceMappingURL=action-definitions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar sprotty_1 = require(\"sprotty\");\nvar types_1 = require(\"../../types\");\nvar action_definitions_1 = require(\"./action-definitions\");\nvar select_mouse_listener_1 = require(\"./select-mouse-listener\");\nvar selection_service_1 = require(\"./selection-service\");\nvar glspSelectModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    bind(selection_service_1.SelectionService).toSelf().inSingletonScope();\n    bind(types_1.GLSP_TYPES.SelectionService).toService(selection_service_1.SelectionService);\n    sprotty_1.configureCommand({ bind: bind, isBound: isBound }, action_definitions_1.SelectCommand);\n    sprotty_1.configureCommand({ bind: bind, isBound: isBound }, action_definitions_1.SelectAllCommand);\n    sprotty_1.configureCommand({ bind: bind, isBound: isBound }, action_definitions_1.SelectFeedbackCommand);\n    sprotty_1.configureCommand({ bind: bind, isBound: isBound }, action_definitions_1.SelectAllFeedbackCommand);\n    bind(sprotty_1.TYPES.KeyListener).to(sprotty_1.SelectKeyboardListener);\n    bind(sprotty_1.TYPES.MouseListener).to(select_mouse_listener_1.RankedSelectMouseListener);\n    bind(types_1.GLSP_TYPES.SModelRootListener).toService(selection_service_1.SelectionService);\n});\nexports.default = glspSelectModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar sprotty_1 = require(\"sprotty\");\nvar model_1 = require(\"../rank/model\");\n/**\n * Ranked select mouse listener that is executed before default mouse listeners when using the RankedMouseTool.\n * This ensures that default mouse listeners are working on a model that has selection changes already applied.\n */\nvar RankedSelectMouseListener = /** @class */ (function (_super) {\n    __extends(RankedSelectMouseListener, _super);\n    function RankedSelectMouseListener() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rank = model_1.DEFAULT_RANK - 1; /* we want to be executed before all default mouse listeners */\n        return _this;\n    }\n    return RankedSelectMouseListener;\n}(sprotty_1.SelectMouseListener));\nexports.RankedSelectMouseListener = RankedSelectMouseListener;\n//# sourceMappingURL=select-mouse-listener.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar sprotty_1 = require(\"sprotty\");\nvar types_1 = require(\"../../types\");\nvar array_utils_1 = require(\"../../utils/array-utils\");\nvar action_definitions_1 = require(\"./action-definitions\");\nvar SelectionService = /** @class */ (function () {\n    function SelectionService(selectionListeners) {\n        if (selectionListeners === void 0) { selectionListeners = []; }\n        this.selectionListeners = selectionListeners;\n        this.selectedElementIDs = new Set();\n    }\n    SelectionService.prototype.register = function (selectionListener) {\n        array_utils_1.distinctAdd(this.selectionListeners, selectionListener);\n    };\n    SelectionService.prototype.deregister = function (selectionListener) {\n        array_utils_1.remove(this.selectionListeners, selectionListener);\n    };\n    SelectionService.prototype.modelRootChanged = function (root) {\n        this.updateSelection(root, [], []);\n    };\n    SelectionService.prototype.updateSelection = function (root, select, deselect) {\n        var e_1, _a, e_2, _b, e_3, _c;\n        if (root === undefined && select.length === 0 && deselect.length === 0) {\n            return;\n        }\n        // update root\n        this.root = root;\n        // update selected element IDs and collect deselected elements\n        var deselected = __spread(this.selectedElementIDs).filter(function (selected) { return deselect.indexOf(selected) !== -1; });\n        try {\n            for (var deselected_1 = __values(deselected), deselected_1_1 = deselected_1.next(); !deselected_1_1.done; deselected_1_1 = deselected_1.next()) {\n                var id = deselected_1_1.value;\n                this.selectedElementIDs.delete(id);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (deselected_1_1 && !deselected_1_1.done && (_a = deselected_1.return)) _a.call(deselected_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        try {\n            for (var select_1 = __values(select), select_1_1 = select_1.next(); !select_1_1.done; select_1_1 = select_1.next()) {\n                var id = select_1_1.value;\n                this.selectedElementIDs.add(id);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (select_1_1 && !select_1_1.done && (_b = select_1.return)) _b.call(select_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        try {\n            // see if selected elements still exist in the updated root\n            for (var _d = __values(this.selectedElementIDs), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var id = _e.value;\n                var element = root.index.getById(id);\n                if (element === undefined) {\n                    this.selectedElementIDs.delete(id);\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_c = _d.return)) _c.call(_d);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        // aggregate to feedback action handling all elements as only the last feedback is restored\n        this.dispatchFeedback([new action_definitions_1.SelectFeedbackAction(__spread(this.selectedElementIDs), deselected)]);\n        // notify listeners after the feedback action\n        this.notifyListeners(this.root, this.selectedElementIDs);\n    };\n    SelectionService.prototype.dispatchFeedback = function (actions) {\n        this.feedbackDispatcher.registerFeedback(this, actions);\n    };\n    SelectionService.prototype.notifyListeners = function (root, selectedElementIDs) {\n        this.selectionListeners.forEach(function (listener) { return listener.selectionChanged(root, Array.from(selectedElementIDs)); });\n    };\n    /**\n     * QUERY METHODS\n     */\n    SelectionService.prototype.getSelectedElementIDs = function () {\n        return this.selectedElementIDs;\n    };\n    SelectionService.prototype.hasSelectedElements = function () {\n        return this.selectedElementIDs.size > 0;\n    };\n    SelectionService.prototype.isSingleSelection = function () {\n        return this.selectedElementIDs.size === 1;\n    };\n    SelectionService.prototype.isMultiSelection = function () {\n        return this.selectedElementIDs.size > 1;\n    };\n    __decorate([\n        inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], SelectionService.prototype, \"feedbackDispatcher\", void 0);\n    __decorate([\n        inversify_1.inject(sprotty_1.TYPES.ILogger),\n        __metadata(\"design:type\", Object)\n    ], SelectionService.prototype, \"logger\", void 0);\n    SelectionService = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.multiInject(types_1.GLSP_TYPES.SelectionListener)), __param(0, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [Array])\n    ], SelectionService);\n    return SelectionService;\n}());\nexports.SelectionService = SelectionService;\n//# sourceMappingURL=selection-service.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar smodel_util_1 = require(\"../../utils/smodel-util\");\nvar model_1 = require(\"../change-bounds/model\");\nvar model_2 = require(\"./model\");\nvar ShowChangeBoundsToolResizeFeedbackAction = /** @class */ (function () {\n    function ShowChangeBoundsToolResizeFeedbackAction(elementId) {\n        this.elementId = elementId;\n        this.kind = ShowChangeBoundsToolResizeFeedbackCommand.KIND;\n    }\n    return ShowChangeBoundsToolResizeFeedbackAction;\n}());\nexports.ShowChangeBoundsToolResizeFeedbackAction = ShowChangeBoundsToolResizeFeedbackAction;\nvar HideChangeBoundsToolResizeFeedbackAction = /** @class */ (function () {\n    function HideChangeBoundsToolResizeFeedbackAction() {\n        this.kind = HideChangeBoundsToolResizeFeedbackCommand.KIND;\n    }\n    return HideChangeBoundsToolResizeFeedbackAction;\n}());\nexports.HideChangeBoundsToolResizeFeedbackAction = HideChangeBoundsToolResizeFeedbackAction;\nvar ShowChangeBoundsToolResizeFeedbackCommand = /** @class */ (function (_super) {\n    __extends(ShowChangeBoundsToolResizeFeedbackCommand, _super);\n    function ShowChangeBoundsToolResizeFeedbackCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    ShowChangeBoundsToolResizeFeedbackCommand.prototype.execute = function (context) {\n        var index = context.root.index;\n        index.all().filter(model_1.isResizeable).forEach(model_1.removeResizeHandles);\n        if (smodel_util_1.isNotUndefined(this.action.elementId)) {\n            var resizeElement = index.getById(this.action.elementId);\n            if (smodel_util_1.isNotUndefined(resizeElement) && model_1.isResizeable(resizeElement)) {\n                model_1.addResizeHandles(resizeElement);\n            }\n        }\n        return context.root;\n    };\n    ShowChangeBoundsToolResizeFeedbackCommand.KIND = 'showChangeBoundsToolResizeFeedback';\n    ShowChangeBoundsToolResizeFeedbackCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ShowChangeBoundsToolResizeFeedbackAction])\n    ], ShowChangeBoundsToolResizeFeedbackCommand);\n    return ShowChangeBoundsToolResizeFeedbackCommand;\n}(model_2.FeedbackCommand));\nexports.ShowChangeBoundsToolResizeFeedbackCommand = ShowChangeBoundsToolResizeFeedbackCommand;\nvar HideChangeBoundsToolResizeFeedbackCommand = /** @class */ (function (_super) {\n    __extends(HideChangeBoundsToolResizeFeedbackCommand, _super);\n    function HideChangeBoundsToolResizeFeedbackCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    HideChangeBoundsToolResizeFeedbackCommand.prototype.execute = function (context) {\n        var index = context.root.index;\n        index.all().filter(model_1.isResizeable).forEach(model_1.removeResizeHandles);\n        return context.root;\n    };\n    HideChangeBoundsToolResizeFeedbackCommand.KIND = 'hideChangeBoundsToolResizeFeedback';\n    HideChangeBoundsToolResizeFeedbackCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [HideChangeBoundsToolResizeFeedbackAction])\n    ], HideChangeBoundsToolResizeFeedbackCommand);\n    return HideChangeBoundsToolResizeFeedbackCommand;\n}(model_2.FeedbackCommand));\nexports.HideChangeBoundsToolResizeFeedbackCommand = HideChangeBoundsToolResizeFeedbackCommand;\n/**\n * This mouse listener provides visual feedback for moving by sending client-side\n * `MoveAction`s while elements are selected and dragged. This will also update\n * their bounds, which is important, as it is not only required for rendering\n * the visual feedback but also the basis for sending the change to the server\n * (see also `tools/MoveTool`).\n */\nvar FeedbackMoveMouseListener = /** @class */ (function (_super) {\n    __extends(FeedbackMoveMouseListener, _super);\n    function FeedbackMoveMouseListener() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.hasDragged = false;\n        return _this;\n    }\n    FeedbackMoveMouseListener.prototype.mouseDown = function (target, event) {\n        if (event.button === 0) {\n            var moveable = lib_1.findParentByFeature(target, lib_1.isMoveable);\n            if (moveable !== undefined) {\n                this.lastDragPosition = { x: event.pageX, y: event.pageY };\n            }\n            else {\n                this.lastDragPosition = undefined;\n            }\n            this.hasDragged = false;\n        }\n        return [];\n    };\n    FeedbackMoveMouseListener.prototype.mouseMove = function (target, event) {\n        var result = [];\n        if (event.buttons === 0)\n            this.mouseUp(target, event);\n        else if (this.lastDragPosition) {\n            var viewport = lib_1.findParentByFeature(target, lib_1.isViewport);\n            this.hasDragged = true;\n            var zoom = viewport ? viewport.zoom : 1;\n            var dx_1 = (event.pageX - this.lastDragPosition.x) / zoom;\n            var dy_1 = (event.pageY - this.lastDragPosition.y) / zoom;\n            var nodeMoves_1 = [];\n            target.root.index.all()\n                .filter(function (element) { return lib_1.isSelectable(element) && element.selected; })\n                .forEach(function (element) {\n                if (lib_1.isMoveable(element)) {\n                    nodeMoves_1.push({\n                        elementId: element.id,\n                        fromPosition: {\n                            x: element.position.x,\n                            y: element.position.y\n                        },\n                        toPosition: {\n                            x: element.position.x + dx_1,\n                            y: element.position.y + dy_1\n                        }\n                    });\n                }\n            });\n            this.lastDragPosition = { x: event.pageX, y: event.pageY };\n            if (nodeMoves_1.length > 0)\n                result.push(new lib_1.MoveAction(nodeMoves_1, false));\n        }\n        return result;\n    };\n    FeedbackMoveMouseListener.prototype.mouseEnter = function (target, event) {\n        if (target instanceof lib_1.SModelRoot && event.buttons === 0)\n            this.mouseUp(target, event);\n        return [];\n    };\n    FeedbackMoveMouseListener.prototype.mouseUp = function (target, event) {\n        this.hasDragged = false;\n        this.lastDragPosition = undefined;\n        return [];\n    };\n    FeedbackMoveMouseListener.prototype.decorate = function (vnode, element) {\n        return vnode;\n    };\n    return FeedbackMoveMouseListener;\n}(lib_1.MouseListener));\nexports.FeedbackMoveMouseListener = FeedbackMoveMouseListener;\n//# sourceMappingURL=change-bounds-tool-feedback.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar viewpoint_util_1 = require(\"../../utils/viewpoint-util\");\nvar model_1 = require(\"../reconnect/model\");\nvar model_2 = require(\"./model\");\nvar DrawFeedbackEdgeAction = /** @class */ (function () {\n    function DrawFeedbackEdgeAction(elementTypeId, sourceId) {\n        this.elementTypeId = elementTypeId;\n        this.sourceId = sourceId;\n        this.kind = DrawFeedbackEdgeCommand.KIND;\n    }\n    return DrawFeedbackEdgeAction;\n}());\nexports.DrawFeedbackEdgeAction = DrawFeedbackEdgeAction;\nvar DrawFeedbackEdgeCommand = /** @class */ (function (_super) {\n    __extends(DrawFeedbackEdgeCommand, _super);\n    function DrawFeedbackEdgeCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    DrawFeedbackEdgeCommand.prototype.execute = function (context) {\n        drawFeedbackEdge(context, this.action.sourceId, this.action.elementTypeId);\n        return context.root;\n    };\n    DrawFeedbackEdgeCommand.KIND = 'drawFeedbackEdge';\n    DrawFeedbackEdgeCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [DrawFeedbackEdgeAction])\n    ], DrawFeedbackEdgeCommand);\n    return DrawFeedbackEdgeCommand;\n}(model_2.FeedbackCommand));\nexports.DrawFeedbackEdgeCommand = DrawFeedbackEdgeCommand;\nvar RemoveFeedbackEdgeAction = /** @class */ (function () {\n    function RemoveFeedbackEdgeAction() {\n        this.kind = RemoveFeedbackEdgeCommand.KIND;\n    }\n    return RemoveFeedbackEdgeAction;\n}());\nexports.RemoveFeedbackEdgeAction = RemoveFeedbackEdgeAction;\nvar RemoveFeedbackEdgeCommand = /** @class */ (function (_super) {\n    __extends(RemoveFeedbackEdgeCommand, _super);\n    function RemoveFeedbackEdgeCommand() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RemoveFeedbackEdgeCommand.prototype.execute = function (context) {\n        removeFeedbackEdge(context.root);\n        return context.root;\n    };\n    RemoveFeedbackEdgeCommand.KIND = 'removeFeedbackEdgeCommand';\n    RemoveFeedbackEdgeCommand = __decorate([\n        inversify_1.injectable()\n    ], RemoveFeedbackEdgeCommand);\n    return RemoveFeedbackEdgeCommand;\n}(model_2.FeedbackCommand));\nexports.RemoveFeedbackEdgeCommand = RemoveFeedbackEdgeCommand;\nvar FeedbackEdgeEnd = /** @class */ (function (_super) {\n    __extends(FeedbackEdgeEnd, _super);\n    function FeedbackEdgeEnd(sourceId, elementTypeId, feedbackEdge) {\n        if (feedbackEdge === void 0) { feedbackEdge = undefined; }\n        var _this = _super.call(this) || this;\n        _this.sourceId = sourceId;\n        _this.elementTypeId = elementTypeId;\n        _this.feedbackEdge = feedbackEdge;\n        _this.type = FeedbackEdgeEnd.TYPE;\n        return _this;\n    }\n    FeedbackEdgeEnd.TYPE = 'feedback-edge-end';\n    return FeedbackEdgeEnd;\n}(lib_1.SDanglingAnchor));\nexports.FeedbackEdgeEnd = FeedbackEdgeEnd;\nvar FeedbackEdgeEndMovingMouseListener = /** @class */ (function (_super) {\n    __extends(FeedbackEdgeEndMovingMouseListener, _super);\n    function FeedbackEdgeEndMovingMouseListener(anchorRegistry) {\n        var _this = _super.call(this) || this;\n        _this.anchorRegistry = anchorRegistry;\n        return _this;\n    }\n    FeedbackEdgeEndMovingMouseListener.prototype.mouseMove = function (target, event) {\n        var root = target.root;\n        var edgeEnd = root.index.getById(feedbackEdgeEndId(root));\n        if (!(edgeEnd instanceof FeedbackEdgeEnd) || !edgeEnd.feedbackEdge) {\n            return [];\n        }\n        var edge = edgeEnd.feedbackEdge;\n        var position = viewpoint_util_1.getAbsolutePosition(edgeEnd, event);\n        var endAtMousePosition = lib_1.findChildrenAtPosition(target.root, position)\n            .find(function (e) { return lib_1.isConnectable(e) && e.canConnect(edge, 'target'); });\n        if (endAtMousePosition instanceof lib_1.SConnectableElement && edge.source && lib_1.isBoundsAware(edge.source)) {\n            var anchorComputer = this.anchorRegistry.get(lib_1.PolylineEdgeRouter.KIND, endAtMousePosition.anchorKind);\n            var anchor = anchorComputer.getAnchor(endAtMousePosition, lib_1.center(edge.source.bounds));\n            if (lib_1.euclideanDistance(anchor, edgeEnd.position) > 1) {\n                return [new lib_1.MoveAction([{ elementId: edgeEnd.id, toPosition: anchor }], false)];\n            }\n        }\n        else {\n            return [new lib_1.MoveAction([{ elementId: edgeEnd.id, toPosition: position }], false)];\n        }\n        return [];\n    };\n    return FeedbackEdgeEndMovingMouseListener;\n}(lib_1.MouseListener));\nexports.FeedbackEdgeEndMovingMouseListener = FeedbackEdgeEndMovingMouseListener;\nfunction feedbackEdgeId(root) {\n    return root.id + '_feedback_edge';\n}\nexports.feedbackEdgeId = feedbackEdgeId;\nfunction feedbackEdgeEndId(root) {\n    return root.id + '_feedback_anchor';\n}\nexports.feedbackEdgeEndId = feedbackEdgeEndId;\nfunction drawFeedbackEdge(context, sourceId, elementTypeId) {\n    var root = context.root;\n    var sourceChild = root.index.getById(sourceId);\n    if (!sourceChild) {\n        return;\n    }\n    var source = lib_1.findParentByFeature(sourceChild, lib_1.isConnectable);\n    if (!source || !lib_1.isBoundsAware(source)) {\n        return;\n    }\n    var edgeEnd = new FeedbackEdgeEnd(source.id, elementTypeId);\n    edgeEnd.id = feedbackEdgeEndId(root);\n    edgeEnd.position = { x: source.bounds.x, y: source.bounds.y };\n    var feedbackEdgeSchema = {\n        type: 'edge',\n        id: feedbackEdgeId(root),\n        sourceId: source.id,\n        targetId: edgeEnd.id,\n        opacity: 0.3\n    };\n    var feedbackEdge = context.modelFactory.createElement(feedbackEdgeSchema);\n    if (model_1.isRoutable(feedbackEdge)) {\n        edgeEnd.feedbackEdge = feedbackEdge;\n        root.add(edgeEnd);\n        root.add(feedbackEdge);\n    }\n}\nfunction removeFeedbackEdge(root) {\n    var feedbackEdge = root.index.getById(feedbackEdgeId(root));\n    var feedbackEdgeEnd = root.index.getById(feedbackEdgeEndId(root));\n    if (feedbackEdge instanceof lib_1.SChildElement)\n        root.remove(feedbackEdge);\n    if (feedbackEdgeEnd instanceof lib_1.SChildElement)\n        root.remove(feedbackEdgeEnd);\n}\n//# sourceMappingURL=creation-tool-feedback.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar smodel_util_1 = require(\"../../utils/smodel-util\");\nvar model_1 = require(\"./model\");\nvar CursorCSS;\n(function (CursorCSS) {\n    CursorCSS[\"NODE_CREATION\"] = \"node-creation-mode\";\n    CursorCSS[\"EDGE_CREATION_SOURCE\"] = \"edge-creation-select-source-mode\";\n    CursorCSS[\"EDGE_CREATION_TARGET\"] = \"edge-creation-select-target-mode\";\n    CursorCSS[\"EDGE_RECONNECT\"] = \"edge-reconnect-select-target-mode\";\n    CursorCSS[\"OPERATION_NOT_ALLOWED\"] = \"edge-modification-not-allowed-mode\";\n    CursorCSS[\"ELEMENT_DELETION\"] = \"element-deletion-mode\";\n})(CursorCSS = exports.CursorCSS || (exports.CursorCSS = {}));\nvar ApplyCursorCSSFeedbackAction = /** @class */ (function () {\n    function ApplyCursorCSSFeedbackAction(cssClass) {\n        this.cssClass = cssClass;\n        this.kind = ApplyCursorCSSFeedbackActionCommand.KIND;\n    }\n    return ApplyCursorCSSFeedbackAction;\n}());\nexports.ApplyCursorCSSFeedbackAction = ApplyCursorCSSFeedbackAction;\nvar ApplyCursorCSSFeedbackActionCommand = /** @class */ (function (_super) {\n    __extends(ApplyCursorCSSFeedbackActionCommand, _super);\n    function ApplyCursorCSSFeedbackActionCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    ApplyCursorCSSFeedbackActionCommand.prototype.execute = function (context) {\n        smodel_util_1.removeCssClasses(context.root, Object.values(CursorCSS));\n        if (this.action.cssClass) {\n            smodel_util_1.addCssClasses(context.root, [this.action.cssClass]);\n        }\n        return context.root;\n    };\n    ApplyCursorCSSFeedbackActionCommand.KIND = 'applyCursorCssFeedback';\n    ApplyCursorCSSFeedbackActionCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ApplyCursorCSSFeedbackAction])\n    ], ApplyCursorCSSFeedbackActionCommand);\n    return ApplyCursorCSSFeedbackActionCommand;\n}(model_1.FeedbackCommand));\nexports.ApplyCursorCSSFeedbackActionCommand = ApplyCursorCSSFeedbackActionCommand;\n//# sourceMappingURL=cursor-feedback.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar types_1 = require(\"../../types\");\nvar model_1 = require(\"../change-bounds/model\");\nvar change_bounds_tool_feedback_1 = require(\"./change-bounds-tool-feedback\");\nvar creation_tool_feedback_1 = require(\"./creation-tool-feedback\");\nvar cursor_feedback_1 = require(\"./cursor-feedback\");\nvar edge_edit_tool_feedback_1 = require(\"./edge-edit-tool-feedback\");\nvar feedback_action_dispatcher_1 = require(\"./feedback-action-dispatcher\");\nvar view_1 = require(\"./view\");\nvar toolFeedbackModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    bind(types_1.GLSP_TYPES.IFeedbackActionDispatcher).to(feedback_action_dispatcher_1.FeedbackActionDispatcher).inSingletonScope();\n    // create node and edge tool feedback\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, cursor_feedback_1.ApplyCursorCSSFeedbackActionCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, creation_tool_feedback_1.DrawFeedbackEdgeCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, creation_tool_feedback_1.RemoveFeedbackEdgeCommand);\n    lib_1.configureView({ bind: bind, isBound: isBound }, creation_tool_feedback_1.FeedbackEdgeEnd.TYPE, view_1.FeedbackEdgeEndView);\n    // move tool feedback: we use sprotties MoveCommand as client-side visual feedback\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, lib_1.MoveCommand);\n    // resize tool feedback\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, change_bounds_tool_feedback_1.ShowChangeBoundsToolResizeFeedbackCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, change_bounds_tool_feedback_1.HideChangeBoundsToolResizeFeedbackCommand);\n    lib_1.configureView({ bind: bind, isBound: isBound }, model_1.SResizeHandle.TYPE, view_1.SResizeHandleView);\n    // reconnect edge tool feedback\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, edge_edit_tool_feedback_1.ShowEdgeReconnectHandlesFeedbackCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, edge_edit_tool_feedback_1.HideEdgeReconnectHandlesFeedbackCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, edge_edit_tool_feedback_1.DrawFeedbackEdgeSourceCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, edge_edit_tool_feedback_1.SwitchRoutingModeCommand);\n    bind(lib_1.TYPES.IVNodeDecorator).to(lib_1.LocationDecorator);\n    bind(lib_1.TYPES.HiddenVNodeDecorator).to(lib_1.LocationDecorator);\n});\nexports.default = toolFeedbackModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar smodel_util_1 = require(\"../../utils/smodel-util\");\nvar viewpoint_util_1 = require(\"../../utils/viewpoint-util\");\nvar model_1 = require(\"../reconnect/model\");\nvar creation_tool_feedback_1 = require(\"./creation-tool-feedback\");\nvar model_2 = require(\"./model\");\n/**\n * RECONNECT HANDLES FEEDBACK\n */\nvar ShowEdgeReconnectHandlesFeedbackAction = /** @class */ (function () {\n    function ShowEdgeReconnectHandlesFeedbackAction(elementId) {\n        this.elementId = elementId;\n        this.kind = ShowEdgeReconnectHandlesFeedbackCommand.KIND;\n    }\n    return ShowEdgeReconnectHandlesFeedbackAction;\n}());\nexports.ShowEdgeReconnectHandlesFeedbackAction = ShowEdgeReconnectHandlesFeedbackAction;\nvar HideEdgeReconnectHandlesFeedbackAction = /** @class */ (function () {\n    function HideEdgeReconnectHandlesFeedbackAction() {\n        this.kind = HideEdgeReconnectHandlesFeedbackCommand.KIND;\n    }\n    return HideEdgeReconnectHandlesFeedbackAction;\n}());\nexports.HideEdgeReconnectHandlesFeedbackAction = HideEdgeReconnectHandlesFeedbackAction;\nvar ShowEdgeReconnectHandlesFeedbackCommand = /** @class */ (function (_super) {\n    __extends(ShowEdgeReconnectHandlesFeedbackCommand, _super);\n    function ShowEdgeReconnectHandlesFeedbackCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    ShowEdgeReconnectHandlesFeedbackCommand.prototype.execute = function (context) {\n        var index = context.root.index;\n        index.all().filter(model_1.isRoutable).forEach(model_1.removeReconnectHandles);\n        if (smodel_util_1.isNotUndefined(this.action.elementId)) {\n            var routableElement = index.getById(this.action.elementId);\n            if (smodel_util_1.isNotUndefined(routableElement) && model_1.isRoutable(routableElement)) {\n                model_1.addReconnectHandles(routableElement);\n            }\n        }\n        return context.root;\n    };\n    ShowEdgeReconnectHandlesFeedbackCommand.KIND = 'showReconnectHandlesFeedback';\n    ShowEdgeReconnectHandlesFeedbackCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ShowEdgeReconnectHandlesFeedbackAction])\n    ], ShowEdgeReconnectHandlesFeedbackCommand);\n    return ShowEdgeReconnectHandlesFeedbackCommand;\n}(model_2.FeedbackCommand));\nexports.ShowEdgeReconnectHandlesFeedbackCommand = ShowEdgeReconnectHandlesFeedbackCommand;\nvar HideEdgeReconnectHandlesFeedbackCommand = /** @class */ (function (_super) {\n    __extends(HideEdgeReconnectHandlesFeedbackCommand, _super);\n    function HideEdgeReconnectHandlesFeedbackCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    HideEdgeReconnectHandlesFeedbackCommand.prototype.execute = function (context) {\n        var index = context.root.index;\n        index.all().filter(model_1.isRoutable).forEach(model_1.removeReconnectHandles);\n        return context.root;\n    };\n    HideEdgeReconnectHandlesFeedbackCommand.KIND = 'hideReconnectHandlesFeedback';\n    HideEdgeReconnectHandlesFeedbackCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [HideEdgeReconnectHandlesFeedbackAction])\n    ], HideEdgeReconnectHandlesFeedbackCommand);\n    return HideEdgeReconnectHandlesFeedbackCommand;\n}(model_2.FeedbackCommand));\nexports.HideEdgeReconnectHandlesFeedbackCommand = HideEdgeReconnectHandlesFeedbackCommand;\n/**\n * ROUTING FEEDBACK\n */\nvar SwitchRoutingModeAction = /** @class */ (function (_super) {\n    __extends(SwitchRoutingModeAction, _super);\n    function SwitchRoutingModeAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.kind = SwitchRoutingModeCommand.KIND;\n        return _this;\n    }\n    return SwitchRoutingModeAction;\n}(lib_1.SwitchEditModeAction));\nexports.SwitchRoutingModeAction = SwitchRoutingModeAction;\nvar SwitchRoutingModeCommand = /** @class */ (function (_super) {\n    __extends(SwitchRoutingModeCommand, _super);\n    function SwitchRoutingModeCommand(action) {\n        return _super.call(this, action) || this;\n    }\n    SwitchRoutingModeCommand.KIND = \"switchRoutingMode\";\n    SwitchRoutingModeCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SwitchRoutingModeAction])\n    ], SwitchRoutingModeCommand);\n    return SwitchRoutingModeCommand;\n}(lib_1.SwitchEditModeCommand));\nexports.SwitchRoutingModeCommand = SwitchRoutingModeCommand;\n/**\n * SOURCE AND TARGET EDGE FEEDBACK\n */\nvar DrawFeedbackEdgeSourceAction = /** @class */ (function () {\n    function DrawFeedbackEdgeSourceAction(elementTypeId, targetId) {\n        this.elementTypeId = elementTypeId;\n        this.targetId = targetId;\n        this.kind = DrawFeedbackEdgeSourceCommand.KIND;\n    }\n    return DrawFeedbackEdgeSourceAction;\n}());\nexports.DrawFeedbackEdgeSourceAction = DrawFeedbackEdgeSourceAction;\nvar DrawFeedbackEdgeSourceCommand = /** @class */ (function (_super) {\n    __extends(DrawFeedbackEdgeSourceCommand, _super);\n    function DrawFeedbackEdgeSourceCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    DrawFeedbackEdgeSourceCommand.prototype.execute = function (context) {\n        drawFeedbackEdgeSource(context, this.action.targetId, this.action.elementTypeId);\n        return context.root;\n    };\n    DrawFeedbackEdgeSourceCommand.KIND = 'drawFeedbackEdgeSource';\n    DrawFeedbackEdgeSourceCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [DrawFeedbackEdgeSourceAction])\n    ], DrawFeedbackEdgeSourceCommand);\n    return DrawFeedbackEdgeSourceCommand;\n}(model_2.FeedbackCommand));\nexports.DrawFeedbackEdgeSourceCommand = DrawFeedbackEdgeSourceCommand;\n/**\n * SOURCE AND TARGET MOUSE MOVE LISTENER\n */\nvar FeedbackEdgeTargetMovingMouseListener = /** @class */ (function (_super) {\n    __extends(FeedbackEdgeTargetMovingMouseListener, _super);\n    function FeedbackEdgeTargetMovingMouseListener(anchorRegistry) {\n        var _this = _super.call(this, anchorRegistry) || this;\n        _this.anchorRegistry = anchorRegistry;\n        return _this;\n    }\n    return FeedbackEdgeTargetMovingMouseListener;\n}(creation_tool_feedback_1.FeedbackEdgeEndMovingMouseListener));\nexports.FeedbackEdgeTargetMovingMouseListener = FeedbackEdgeTargetMovingMouseListener;\nvar FeedbackEdgeSourceMovingMouseListener = /** @class */ (function (_super) {\n    __extends(FeedbackEdgeSourceMovingMouseListener, _super);\n    function FeedbackEdgeSourceMovingMouseListener(anchorRegistry) {\n        var _this = _super.call(this) || this;\n        _this.anchorRegistry = anchorRegistry;\n        return _this;\n    }\n    FeedbackEdgeSourceMovingMouseListener.prototype.mouseMove = function (target, event) {\n        var root = target.root;\n        var edgeEnd = root.index.getById(creation_tool_feedback_1.feedbackEdgeEndId(root));\n        if (!(edgeEnd instanceof creation_tool_feedback_1.FeedbackEdgeEnd) || !edgeEnd.feedbackEdge) {\n            return [];\n        }\n        var edge = edgeEnd.feedbackEdge;\n        var position = viewpoint_util_1.getAbsolutePosition(edgeEnd, event);\n        var endAtMousePosition = lib_1.findChildrenAtPosition(target.root, position)\n            .find(function (e) { return lib_1.isConnectable(e) && e.canConnect(edge, 'source'); });\n        if (endAtMousePosition instanceof lib_1.SConnectableElement && edge.target && lib_1.isBoundsAware(edge.target)) {\n            var anchorComputer = this.anchorRegistry.get(lib_1.PolylineEdgeRouter.KIND, endAtMousePosition.anchorKind);\n            var anchor = anchorComputer.getAnchor(endAtMousePosition, lib_1.center(edge.target.bounds));\n            if (lib_1.euclideanDistance(anchor, edgeEnd.position) > 1) {\n                return [new lib_1.MoveAction([{ elementId: edgeEnd.id, toPosition: anchor }], false)];\n            }\n        }\n        else {\n            return [new lib_1.MoveAction([{ elementId: edgeEnd.id, toPosition: position }], false)];\n        }\n        return [];\n    };\n    return FeedbackEdgeSourceMovingMouseListener;\n}(lib_1.MouseListener));\nexports.FeedbackEdgeSourceMovingMouseListener = FeedbackEdgeSourceMovingMouseListener;\nvar FeedbackEdgeRouteMovingMouseListener = /** @class */ (function (_super) {\n    __extends(FeedbackEdgeRouteMovingMouseListener, _super);\n    function FeedbackEdgeRouteMovingMouseListener(edgeRouterRegistry) {\n        var _this = _super.call(this) || this;\n        _this.edgeRouterRegistry = edgeRouterRegistry;\n        _this.hasDragged = false;\n        return _this;\n    }\n    FeedbackEdgeRouteMovingMouseListener.prototype.mouseDown = function (target, event) {\n        var result = [];\n        if (event.button === 0) {\n            var routingHandle = lib_1.findParentByFeature(target, model_1.isRoutingHandle);\n            if (routingHandle !== undefined) {\n                result.push(new SwitchRoutingModeAction([target.id], []));\n                this.lastDragPosition = { x: event.pageX, y: event.pageY };\n            }\n            else {\n                this.lastDragPosition = undefined;\n            }\n            this.hasDragged = false;\n        }\n        return result;\n    };\n    FeedbackEdgeRouteMovingMouseListener.prototype.mouseMove = function (target, event) {\n        var _this = this;\n        var result = [];\n        if (event.buttons === 0)\n            this.mouseUp(target, event);\n        else if (this.lastDragPosition) {\n            var viewport = lib_1.findParentByFeature(target, lib_1.isViewport);\n            this.hasDragged = true;\n            var zoom = viewport ? viewport.zoom : 1;\n            var dx_1 = (event.pageX - this.lastDragPosition.x) / zoom;\n            var dy_1 = (event.pageY - this.lastDragPosition.y) / zoom;\n            var handleMoves_1 = [];\n            target.root.index.all()\n                .filter(function (element) { return smodel_util_1.isSelected(element); })\n                .forEach(function (element) {\n                if (model_1.isRoutingHandle(element)) {\n                    var point = _this.getHandlePosition(element);\n                    if (point !== undefined) {\n                        handleMoves_1.push({\n                            elementId: element.id,\n                            fromPosition: point,\n                            toPosition: {\n                                x: point.x + dx_1,\n                                y: point.y + dy_1\n                            }\n                        });\n                    }\n                }\n            });\n            this.lastDragPosition = { x: event.pageX, y: event.pageY };\n            if (handleMoves_1.length > 0)\n                result.push(new lib_1.MoveAction(handleMoves_1, false));\n        }\n        return result;\n    };\n    FeedbackEdgeRouteMovingMouseListener.prototype.getHandlePosition = function (handle) {\n        if (this.edgeRouterRegistry) {\n            var parent_1 = handle.parent;\n            if (!model_1.isRoutable(parent_1))\n                return undefined;\n            var router = this.edgeRouterRegistry.get(parent_1.routerKind);\n            var route = router.route(parent_1);\n            return router.getHandlePosition(parent_1, route, handle);\n        }\n        return undefined;\n    };\n    FeedbackEdgeRouteMovingMouseListener.prototype.mouseEnter = function (target, event) {\n        if (target instanceof lib_1.SModelRoot && event.buttons === 0)\n            this.mouseUp(target, event);\n        return [];\n    };\n    FeedbackEdgeRouteMovingMouseListener.prototype.mouseUp = function (target, event) {\n        this.hasDragged = false;\n        this.lastDragPosition = undefined;\n        return [];\n    };\n    FeedbackEdgeRouteMovingMouseListener.prototype.decorate = function (vnode, element) {\n        return vnode;\n    };\n    return FeedbackEdgeRouteMovingMouseListener;\n}(lib_1.MouseListener));\nexports.FeedbackEdgeRouteMovingMouseListener = FeedbackEdgeRouteMovingMouseListener;\n/**\n * UTILITY FUNCTIONS\n */\nfunction drawFeedbackEdgeSource(context, targetId, elementTypeId) {\n    var root = context.root;\n    var targetChild = root.index.getById(targetId);\n    if (!targetChild) {\n        return;\n    }\n    var target = lib_1.findParentByFeature(targetChild, lib_1.isConnectable);\n    if (!target || !lib_1.isBoundsAware(target)) {\n        return;\n    }\n    var edgeEnd = new creation_tool_feedback_1.FeedbackEdgeEnd(target.id, elementTypeId);\n    edgeEnd.id = creation_tool_feedback_1.feedbackEdgeEndId(root);\n    edgeEnd.position = { x: target.bounds.x, y: target.bounds.y };\n    var feedbackEdgeSchema = {\n        type: 'edge',\n        id: creation_tool_feedback_1.feedbackEdgeId(root),\n        sourceId: edgeEnd.id,\n        targetId: target.id,\n        opacity: 0.3\n    };\n    var feedbackEdge = context.modelFactory.createElement(feedbackEdgeSchema);\n    if (model_1.isRoutable(feedbackEdge)) {\n        edgeEnd.feedbackEdge = feedbackEdge;\n        root.add(edgeEnd);\n        root.add(feedbackEdge);\n    }\n}\n//# sourceMappingURL=edge-edit-tool-feedback.js.map","\"use strict\";\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lib_1 = require(\"sprotty/lib\");\nvar inversify_1 = require(\"inversify\");\nvar inversify_2 = require(\"inversify\");\nvar FeedbackActionDispatcher = /** @class */ (function () {\n    function FeedbackActionDispatcher(actionDispatcher, logger) {\n        this.actionDispatcher = actionDispatcher;\n        this.logger = logger;\n        this.feedbackEmitters = new Map;\n    }\n    FeedbackActionDispatcher.prototype.registerFeedback = function (feedbackEmitter, actions) {\n        this.feedbackEmitters.set(feedbackEmitter, actions);\n        this.dispatch(actions, feedbackEmitter);\n    };\n    FeedbackActionDispatcher.prototype.deregisterFeedback = function (feedbackEmitter, actions) {\n        this.feedbackEmitters.delete(feedbackEmitter);\n        this.dispatch(actions, feedbackEmitter);\n    };\n    FeedbackActionDispatcher.prototype.dispatch = function (actions, feedbackEmitter) {\n        var _this = this;\n        this.actionDispatcher()\n            .then(function (dispatcher) { return dispatcher.dispatchAll(actions); })\n            .then(function () { return _this.logger.info(_this, \"Dispatched feedback actions for \" + feedbackEmitter); })\n            .catch(function (reason) { return _this.logger.error(_this, 'Failed to dispatch feedback actions', reason); });\n    };\n    FeedbackActionDispatcher.prototype.getRegisteredFeedback = function () {\n        var result = [];\n        this.feedbackEmitters.forEach(function (value, key) { return result.push.apply(result, __spread(value)); });\n        return result;\n    };\n    FeedbackActionDispatcher.prototype.getRegisteredFeedbackEmitters = function (action) {\n        var result = [];\n        this.feedbackEmitters.forEach(function (value, key) {\n            if (value.find(function (a) { return a === action; })) {\n                result.push(key);\n            }\n        });\n        return result;\n    };\n    FeedbackActionDispatcher = __decorate([\n        inversify_2.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.IActionDispatcherProvider)),\n        __param(1, inversify_1.inject(lib_1.TYPES.ILogger)),\n        __metadata(\"design:paramtypes\", [Function, Object])\n    ], FeedbackActionDispatcher);\n    return FeedbackActionDispatcher;\n}());\nexports.FeedbackActionDispatcher = FeedbackActionDispatcher;\n//# sourceMappingURL=feedback-action-dispatcher.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nvar FeedbackCommand = /** @class */ (function (_super) {\n    __extends(FeedbackCommand, _super);\n    function FeedbackCommand() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // used by the `FeedbackAwareUpdateModelCommand`\n        _this.priority = 0;\n        return _this;\n    }\n    FeedbackCommand.prototype.undo = function (context) {\n        return context.root;\n    };\n    FeedbackCommand.prototype.redo = function (context) {\n        return context.root;\n    };\n    return FeedbackCommand;\n}(lib_1.Command));\nexports.FeedbackCommand = FeedbackCommand;\n//# sourceMappingURL=model.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx svg */\nvar inversify_1 = require(\"inversify\");\nvar snabbdom_jsx_1 = require(\"snabbdom-jsx\");\nvar lib_1 = require(\"sprotty/lib\");\nvar model_1 = require(\"../change-bounds/model\");\n/**\n* This view is used for the invisible end of the feedback edge.\n* A feedback edge is shown as a visual feedback when creating edges.\n*/\nvar FeedbackEdgeEndView = /** @class */ (function () {\n    function FeedbackEdgeEndView() {\n    }\n    FeedbackEdgeEndView.prototype.render = function (model, context) {\n        var position = model.position || lib_1.ORIGIN_POINT;\n        return snabbdom_jsx_1.svg(\"g\", { x: position.x, y: position.y });\n    };\n    FeedbackEdgeEndView = __decorate([\n        inversify_1.injectable()\n    ], FeedbackEdgeEndView);\n    return FeedbackEdgeEndView;\n}());\nexports.FeedbackEdgeEndView = FeedbackEdgeEndView;\nvar SResizeHandleView = /** @class */ (function () {\n    function SResizeHandleView() {\n    }\n    SResizeHandleView.prototype.render = function (handle, context) {\n        var position = this.getPosition(handle);\n        if (position !== undefined) {\n            var node = snabbdom_jsx_1.svg(\"circle\", { \"class-sprotty-resize-handle\": true, \"class-mouseover\": handle.hoverFeedback, cx: position.x, cy: position.y }); // Radius must be specified via CSS\n            lib_1.setAttr(node, 'data-kind', handle.location);\n            return node;\n        }\n        // Fallback: Create an empty group\n        return snabbdom_jsx_1.svg(\"g\", null);\n    };\n    SResizeHandleView.prototype.getPosition = function (handle) {\n        var parent = handle.parent;\n        if (model_1.isResizeable(parent)) {\n            if (handle.location === model_1.ResizeHandleLocation.TopLeft) {\n                return { x: 0, y: 0 };\n            }\n            else if (handle.location === model_1.ResizeHandleLocation.TopRight) {\n                return { x: parent.bounds.width, y: 0 };\n            }\n            else if (handle.location === model_1.ResizeHandleLocation.BottomLeft) {\n                return { x: 0, y: parent.bounds.height };\n            }\n            else if (handle.location === model_1.ResizeHandleLocation.BottomRight) {\n                return { x: parent.bounds.width, y: parent.bounds.height };\n            }\n        }\n        return undefined;\n    };\n    SResizeHandleView = __decorate([\n        inversify_1.injectable()\n    ], SResizeHandleView);\n    return SResizeHandleView;\n}());\nexports.SResizeHandleView = SResizeHandleView;\n//# sourceMappingURL=view.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nrequire(\"../../../css/tool-palette.css\");\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar tool_palette_1 = require(\"./tool-palette\");\nvar toolPaletteModule = new inversify_1.ContainerModule(function (bind) {\n    bind(tool_palette_1.ToolPalette).toSelf().inSingletonScope();\n    bind(lib_1.TYPES.IUIExtension).toService(tool_palette_1.ToolPalette);\n    bind(lib_1.TYPES.IActionHandlerInitializer).to(tool_palette_1.ToolPaletteActionHandler);\n});\nexports.default = toolPaletteModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar tool_manager_action_handler_1 = require(\"../../base/tool-manager/tool-manager-action-handler\");\nvar set_operations_1 = require(\"../operation/set-operations\");\nvar creation_tool_1 = require(\"../tools/creation-tool\");\nvar delete_tool_1 = require(\"../tools/delete-tool\");\nvar validate_1 = require(\"../validation/validate\");\nvar CLICKED_CSS_CLASS = \"clicked\";\nvar ToolPalette = /** @class */ (function (_super) {\n    __extends(ToolPalette, _super);\n    function ToolPalette() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.id = ToolPalette_1.ID;\n        _this.containerClass = \"tool-palette\";\n        return _this;\n    }\n    ToolPalette_1 = ToolPalette;\n    ToolPalette.prototype.initialize = function () {\n        if (!this.operations) {\n            return false;\n        }\n        return _super.prototype.initialize.call(this);\n    };\n    ToolPalette.prototype.initializeContents = function (containerElement) {\n        this.createHeader();\n        this.createBody();\n    };\n    ToolPalette.prototype.createBody = function () {\n        var _this = this;\n        var bodyDiv = document.createElement(\"div\");\n        bodyDiv.classList.add(\"palette-body\");\n        // Greate operation groups\n        var groups = new Map();\n        this.operations.map(set_operations_1.parentGroup).forEach(function (group) {\n            if (!groups.has(group.id)) {\n                groups.set(group.id, createToolGroup(group.label, group.id));\n            }\n        });\n        // Fill groups\n        this.operations.forEach(function (op) {\n            var button = _this.createToolButton(op);\n            var group = set_operations_1.parentGroup(op);\n            var htmlGroup = groups.get(group.id);\n            if (htmlGroup) {\n                htmlGroup.appendChild(button);\n            }\n        });\n        // Add groups to container\n        Array.from(groups.values()).forEach(function (group) { return bodyDiv.appendChild(group); });\n        this.containerElement.appendChild(bodyDiv);\n    };\n    ToolPalette.prototype.createHeader = function () {\n        var _this = this;\n        var headerCompartment = document.createElement(\"div\");\n        headerCompartment.classList.add(\"palette-header\");\n        // Title header\n        var header = document.createElement(\"div\");\n        header.classList.add(\"header-icon\");\n        header.appendChild(createIcon([\"fa\", \"fa-palette\"]));\n        header.insertAdjacentText(\"beforeend\", \"Palette\");\n        headerCompartment.append(header);\n        // Header Tools Compartment\n        var headerTools = document.createElement(\"div\");\n        headerTools.classList.add(\"header-tools\");\n        // Create button for DefaultTools\n        this.defaultToolsButton = createIcon([\"fas\", \"fa-mouse-pointer\", \"fa-xs\", \"clicked\"]);\n        this.defaultToolsButton.id = \"btn_default_tools\";\n        this.defaultToolsButton.onclick = this.onClickToolButton(this.defaultToolsButton);\n        headerTools.appendChild(this.defaultToolsButton);\n        this.lastActivebutton = this.defaultToolsButton;\n        // Create button for MouseDeleteTool\n        var deleteToolButton = createIcon([\"fas\", \"fa-eraser\", \"fa-xs\"]);\n        deleteToolButton.onclick = this.onClickToolButton(deleteToolButton, delete_tool_1.MouseDeleteTool.ID);\n        headerTools.appendChild(deleteToolButton);\n        // Create button for ValidationTool\n        var validateActionButton = createIcon([\"fas\", \"fa-check-square\", \"fa-xs\"]);\n        validateActionButton.onclick = function (ev) {\n            var modelIds = [\"sprotty\"];\n            _this.actionDispatcher.dispatch(new validate_1.RequestMarkersAction(modelIds));\n        };\n        headerTools.appendChild(validateActionButton);\n        headerCompartment.appendChild(headerTools);\n        this.containerElement.appendChild(headerCompartment);\n    };\n    ToolPalette.prototype.createToolButton = function (operation) {\n        var button = document.createElement(\"div\");\n        button.classList.add(\"tool-button\");\n        button.innerHTML = operation.label;\n        button.onclick = this.onClickToolButton(button, creation_tool_1.deriveToolId(operation.operationKind, operation.elementTypeId));\n        return button;\n    };\n    ToolPalette.prototype.onClickToolButton = function (button, toolId) {\n        var _this = this;\n        return function (ev) {\n            var action = toolId ? new lib_1.EnableToolsAction([toolId]) : new lib_1.EnableDefaultToolsAction();\n            _this.actionDispatcher.dispatch(action);\n            _this.changeActiveButton(button);\n            _this.restoreFocus();\n        };\n    };\n    ToolPalette.prototype.setOperations = function (operations) {\n        this.operations = operations;\n    };\n    ToolPalette.prototype.changeActiveButton = function (button) {\n        if (this.lastActivebutton) {\n            this.lastActivebutton.classList.remove(CLICKED_CSS_CLASS);\n        }\n        if (button) {\n            button.classList.add(CLICKED_CSS_CLASS);\n            this.lastActivebutton = button;\n        }\n        else {\n            this.defaultToolsButton.classList.add(CLICKED_CSS_CLASS);\n            this.lastActivebutton = this.defaultToolsButton;\n        }\n    };\n    var ToolPalette_1;\n    ToolPalette.ID = \"glsp_tool_palette\";\n    __decorate([\n        inversify_1.inject(lib_1.TYPES.IActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], ToolPalette.prototype, \"actionDispatcher\", void 0);\n    ToolPalette = ToolPalette_1 = __decorate([\n        inversify_1.injectable()\n    ], ToolPalette);\n    return ToolPalette;\n}(lib_1.AbstractUIExtension));\nexports.ToolPalette = ToolPalette;\nfunction createIcon(cssClasses) {\n    var _a;\n    var icon = document.createElement(\"i\");\n    (_a = icon.classList).add.apply(_a, __spread(cssClasses));\n    return icon;\n}\nfunction createToolGroup(label, groupId) {\n    var group = document.createElement(\"div\");\n    group.classList.add(\"tool-group\");\n    group.id = groupId;\n    var header = document.createElement(\"div\");\n    header.classList.add(\"group-header\");\n    header.appendChild(createIcon([\"fas\", \"fa-hammer\"]));\n    header.insertAdjacentText('beforeend', label);\n    header.ondblclick = function (ev) {\n        var css = \"collapsed\";\n        changeCSSClass(group, css);\n        Array.from(group.children).forEach(function (item) { return changeCSSClass(item, css); });\n        window.getSelection().removeAllRanges();\n    };\n    group.appendChild(header);\n    return group;\n}\nfunction changeCSSClass(element, css) {\n    element.classList.contains(css) ? element.classList.remove(css) :\n        element.classList.add(css);\n}\nvar ToolPaletteActionHandler = /** @class */ (function (_super) {\n    __extends(ToolPaletteActionHandler, _super);\n    function ToolPaletteActionHandler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handledActionKinds = [set_operations_1.SetOperationsAction.KIND, lib_1.EnableDefaultToolsAction.KIND];\n        return _this;\n    }\n    ToolPaletteActionHandler.prototype.handle = function (action) {\n        if (set_operations_1.isSetOperationsAction(action)) {\n            this.toolPalette.setOperations(action.operations);\n            return new lib_1.SetUIExtensionVisibilityAction(ToolPalette.ID, true);\n        }\n        else if (action instanceof lib_1.EnableDefaultToolsAction) {\n            this.toolPalette.changeActiveButton();\n        }\n    };\n    __decorate([\n        inversify_1.inject(ToolPalette),\n        __metadata(\"design:type\", ToolPalette)\n    ], ToolPaletteActionHandler.prototype, \"toolPalette\", void 0);\n    ToolPaletteActionHandler = __decorate([\n        inversify_1.injectable()\n    ], ToolPaletteActionHandler);\n    return ToolPaletteActionHandler;\n}(tool_manager_action_handler_1.SelfInitializingActionHandler));\nexports.ToolPaletteActionHandler = ToolPaletteActionHandler;\n//# sourceMappingURL=tool-palette.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar types_1 = require(\"../../types\");\nvar smodel_util_1 = require(\"../../utils/smodel-util\");\nvar model_1 = require(\"../change-bounds/model\");\nvar operation_actions_1 = require(\"../operation/operation-actions\");\nvar model_2 = require(\"../reconnect/model\");\nvar selection_service_1 = require(\"../select/selection-service\");\nvar change_bounds_tool_feedback_1 = require(\"../tool-feedback/change-bounds-tool-feedback\");\n/**\n * The change bounds tool has the license to move multiple elements or resize a single element by implementing the ChangeBounds operation.\n * In contrast to Sprotty's implementation this tool only sends a `ChangeBoundsOperationAction` when an operation has finished and does not\n * provide client-side live updates to improve performance.\n *\n * | Operation | Client Update    | Server Update\n * +-----------+------------------+----------------------------\n * | Move      | MoveAction       | ChangeBoundsOperationAction\n * | Resize    | SetBoundsAction  | ChangeBoundsOperationAction\n *\n * To provide a visual client updates during move we install the `FeedbackMoveMouseListener` and to provide visual client updates during resize\n * and send the server updates we install the `ChangeBoundsListener`.\n */\nvar ChangeBoundsTool = /** @class */ (function () {\n    function ChangeBoundsTool(selectionService, mouseTool, keyTool, feedbackDispatcher) {\n        this.selectionService = selectionService;\n        this.mouseTool = mouseTool;\n        this.keyTool = keyTool;\n        this.feedbackDispatcher = feedbackDispatcher;\n        this.id = ChangeBoundsTool_1.ID;\n    }\n    ChangeBoundsTool_1 = ChangeBoundsTool;\n    ChangeBoundsTool.prototype.enable = function () {\n        // install feedback move mouse listener for client-side move updates\n        this.feedbackMoveMouseListener = new change_bounds_tool_feedback_1.FeedbackMoveMouseListener();\n        this.mouseTool.register(this.feedbackMoveMouseListener);\n        // instlal change bounds listener for client-side resize updates and server-side updates\n        this.changeBoundsListener = new ChangeBoundsListener(this);\n        this.mouseTool.register(this.changeBoundsListener);\n        this.selectionService.register(this.changeBoundsListener);\n        this.feedbackDispatcher.registerFeedback(this, [new change_bounds_tool_feedback_1.ShowChangeBoundsToolResizeFeedbackAction]);\n    };\n    ChangeBoundsTool.prototype.disable = function () {\n        this.mouseTool.deregister(this.changeBoundsListener);\n        this.selectionService.deregister(this.changeBoundsListener);\n        this.mouseTool.deregister(this.feedbackMoveMouseListener);\n        this.feedbackDispatcher.deregisterFeedback(this, [new change_bounds_tool_feedback_1.HideChangeBoundsToolResizeFeedbackAction]);\n    };\n    ChangeBoundsTool.prototype.dispatchFeedback = function (actions) {\n        this.feedbackDispatcher.registerFeedback(this, actions);\n    };\n    var ChangeBoundsTool_1;\n    ChangeBoundsTool.ID = \"glsp.change-bounds-tool\";\n    ChangeBoundsTool = ChangeBoundsTool_1 = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.GLSP_TYPES.SelectionService)),\n        __param(1, inversify_1.inject(types_1.GLSP_TYPES.MouseTool)),\n        __param(2, inversify_1.inject(lib_1.KeyTool)),\n        __param(3, inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher)),\n        __metadata(\"design:paramtypes\", [selection_service_1.SelectionService, Object, lib_1.KeyTool, Object])\n    ], ChangeBoundsTool);\n    return ChangeBoundsTool;\n}());\nexports.ChangeBoundsTool = ChangeBoundsTool;\nvar ChangeBoundsListener = /** @class */ (function (_super) {\n    __extends(ChangeBoundsListener, _super);\n    function ChangeBoundsListener(tool) {\n        var _this = _super.call(this) || this;\n        _this.tool = tool;\n        // members for calculating the correct position change\n        _this.lastDragPosition = undefined;\n        _this.positionDelta = { x: 0, y: 0 };\n        // members for resize mode\n        _this.activeResizeElementId = undefined;\n        _this.activeResizeHandle = undefined;\n        return _this;\n    }\n    ChangeBoundsListener.prototype.mouseDown = function (target, event) {\n        _super.prototype.mouseDown.call(this, target, event);\n        var actions = [];\n        if (event.button === 0) {\n            // check if we have a resize handle (only single-selection)\n            if (this.activeResizeElementId && target instanceof model_1.SResizeHandle) {\n                this.activeResizeHandle = target;\n            }\n            else {\n                this.setActiveResizeElement(target);\n            }\n            if (this.activeResizeElementId) {\n                this.initPosition(event);\n            }\n            else {\n                this.reset();\n            }\n        }\n        return actions;\n    };\n    ChangeBoundsListener.prototype.mouseMove = function (target, event) {\n        if (this.updatePosition(target, event)) {\n            // rely on the FeedbackMoveMouseListener to update the element bounds of selected elements\n            // consider resize handles ourselves\n            return this.handleElementResize();\n        }\n        return [];\n    };\n    ChangeBoundsListener.prototype.mouseUp = function (target, event) {\n        _super.prototype.mouseUp.call(this, target, event);\n        if (!this.hasPositionDelta()) {\n            this.resetPosition();\n            return [];\n        }\n        // no further bound changing, simply send the latest data to the server using a single change bounds action for all relevant elements\n        var actions = [];\n        if (this.activeResizeHandle) {\n            // An action. Resize, not move.\n            var resizeElement = lib_1.findParentByFeature(this.activeResizeHandle, model_1.isResizeable);\n            if (this.isActiveResizeElement(resizeElement)) {\n                createChangeBoundsAction(resizeElement).forEach(function (action) { return actions.push(action); });\n            }\n        }\n        else {\n            // Bounds... Change Bounds.\n            var newBounds_1 = [];\n            smodel_util_1.forEachElement(target, isNonRoutableSelectedBoundsAware, function (element) {\n                return createElementAndBounds(element).forEach(function (bounds) { return newBounds_1.push(bounds); });\n            });\n            if (newBounds_1.length > 0) {\n                actions.push(new operation_actions_1.ChangeBoundsOperationAction(newBounds_1));\n            }\n        }\n        this.resetPosition();\n        return actions;\n    };\n    ChangeBoundsListener.prototype.selectionChanged = function (root, selectedElements) {\n        var e_1, _a;\n        if (this.activeResizeElementId) {\n            if (selectedElements.indexOf(this.activeResizeElementId) > -1) {\n                // our active element is still selected, nothing to do\n                return;\n            }\n            try {\n                // try to find some other selected element and mark that active\n                for (var _b = __values(selectedElements.reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var elementId = _c.value;\n                    var element = root.index.getById(elementId);\n                    if (element && this.setActiveResizeElement(element)) {\n                        return;\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            this.reset();\n        }\n    };\n    ChangeBoundsListener.prototype.setActiveResizeElement = function (target) {\n        // check if we have a selected, moveable element (multi-selection allowed)\n        var moveableElement = lib_1.findParentByFeature(target, model_1.isBoundsAwareMoveable);\n        if (smodel_util_1.isSelected(moveableElement)) {\n            // only allow one element to have the element resize handles\n            this.activeResizeElementId = moveableElement.id;\n            this.tool.dispatchFeedback([new change_bounds_tool_feedback_1.ShowChangeBoundsToolResizeFeedbackAction(this.activeResizeElementId)]);\n            return true;\n        }\n        return false;\n    };\n    ChangeBoundsListener.prototype.isActiveResizeElement = function (element) {\n        return element !== undefined && element.id === this.activeResizeElementId;\n    };\n    ChangeBoundsListener.prototype.initPosition = function (event) {\n        this.lastDragPosition = { x: event.pageX, y: event.pageY };\n    };\n    ChangeBoundsListener.prototype.updatePosition = function (target, event) {\n        if (this.lastDragPosition) {\n            var viewport = lib_1.findParentByFeature(target, lib_1.isViewport);\n            var zoom = viewport ? viewport.zoom : 1;\n            var dx = (event.pageX - this.lastDragPosition.x) / zoom;\n            var dy = (event.pageY - this.lastDragPosition.y) / zoom;\n            this.positionDelta = { x: dx, y: dy };\n            this.lastDragPosition = { x: event.pageX, y: event.pageY };\n            return true;\n        }\n        return false;\n    };\n    ChangeBoundsListener.prototype.reset = function () {\n        this.tool.dispatchFeedback([new change_bounds_tool_feedback_1.HideChangeBoundsToolResizeFeedbackAction()]);\n        this.resetPosition();\n    };\n    ChangeBoundsListener.prototype.resetPosition = function () {\n        this.activeResizeHandle = undefined;\n        this.lastDragPosition = undefined;\n        this.positionDelta = { x: 0, y: 0 };\n    };\n    ChangeBoundsListener.prototype.hasPositionDelta = function () {\n        return this.positionDelta.x !== 0 || this.positionDelta.y !== 0;\n    };\n    ChangeBoundsListener.prototype.handleElementResize = function () {\n        if (!this.activeResizeHandle) {\n            return [];\n        }\n        var actions = [];\n        var resizeElement = lib_1.findParentByFeature(this.activeResizeHandle, model_1.isResizeable);\n        if (this.isActiveResizeElement(resizeElement)) {\n            switch (this.activeResizeHandle.location) {\n                case model_1.ResizeHandleLocation.TopLeft:\n                    createSetBoundsAction(resizeElement, resizeElement.bounds.x + this.positionDelta.x, resizeElement.bounds.y + this.positionDelta.y, resizeElement.bounds.width - this.positionDelta.x, resizeElement.bounds.height - this.positionDelta.y)\n                        .forEach(function (action) { return actions.push(action); });\n                    break;\n                case model_1.ResizeHandleLocation.TopRight:\n                    createSetBoundsAction(resizeElement, resizeElement.bounds.x, resizeElement.bounds.y + this.positionDelta.y, resizeElement.bounds.width + this.positionDelta.x, resizeElement.bounds.height - this.positionDelta.y)\n                        .forEach(function (action) { return actions.push(action); });\n                    break;\n                case model_1.ResizeHandleLocation.BottomLeft:\n                    createSetBoundsAction(resizeElement, resizeElement.bounds.x + this.positionDelta.x, resizeElement.bounds.y, resizeElement.bounds.width - this.positionDelta.x, resizeElement.bounds.height + this.positionDelta.y)\n                        .forEach(function (action) { return actions.push(action); });\n                    break;\n                case model_1.ResizeHandleLocation.BottomRight:\n                    createSetBoundsAction(resizeElement, resizeElement.bounds.x, resizeElement.bounds.y, resizeElement.bounds.width + this.positionDelta.x, resizeElement.bounds.height + this.positionDelta.y)\n                        .forEach(function (action) { return actions.push(action); });\n                    break;\n            }\n        }\n        return actions;\n    };\n    return ChangeBoundsListener;\n}(lib_1.MouseListener));\nfunction createChangeBoundsAction(element) {\n    if (isValidBoundChange(element, element.bounds)) {\n        return [new operation_actions_1.ChangeBoundsOperationAction([{ elementId: element.id, newBounds: element.bounds }])];\n    }\n    return [];\n}\nfunction createElementAndBounds(element) {\n    if (isValidBoundChange(element, element.bounds)) {\n        return [{ elementId: element.id, newBounds: element.bounds }];\n    }\n    return [];\n}\nfunction createSetBoundsAction(element, x, y, width, height) {\n    var bounds = { x: x, y: y, width: width, height: height };\n    if (isValidBoundChange(element, bounds)) {\n        return [new lib_1.SetBoundsAction([{ elementId: element.id, newBounds: bounds }])];\n    }\n    return [];\n}\nfunction isValidBoundChange(element, bounds) {\n    return bounds.width >= minWidth(element) && bounds.height >= minHeight(element);\n}\nfunction minWidth(element) {\n    // currently there are no element-specific constraints\n    return 1;\n}\nfunction minHeight(element) {\n    // currently there are no element-specific constraints\n    return 1;\n}\nfunction isNonRoutableSelectedBoundsAware(element) {\n    return lib_1.isBoundsAware(element) && smodel_util_1.isSelected(element) && !model_2.isRoutable(element);\n}\n//# sourceMappingURL=change-bounds-tool.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar edit_config_1 = require(\"../../base/edit-config/edit-config\");\nvar types_1 = require(\"../../types\");\nvar viewpoint_util_1 = require(\"../../utils/viewpoint-util\");\nvar operation_actions_1 = require(\"../operation/operation-actions\");\nvar set_operations_1 = require(\"../operation/set-operations\");\nvar creation_tool_feedback_1 = require(\"../tool-feedback/creation-tool-feedback\");\nvar cursor_feedback_1 = require(\"../tool-feedback/cursor-feedback\");\nvar drag_aware_mouse_listener_1 = require(\"./drag-aware-mouse-listener\");\nexports.TOOL_ID_PREFIX = \"tool\";\nfunction deriveToolId(operationKind, elementTypeId) {\n    return exports.TOOL_ID_PREFIX + \"_\" + set_operations_1.deriveOperationId(operationKind, elementTypeId);\n}\nexports.deriveToolId = deriveToolId;\nvar NodeCreationTool = /** @class */ (function () {\n    function NodeCreationTool(mouseTool, feedbackDispatcher) {\n        this.mouseTool = mouseTool;\n        this.feedbackDispatcher = feedbackDispatcher;\n        this.elementTypeId = \"unknown\";\n    }\n    Object.defineProperty(NodeCreationTool.prototype, \"id\", {\n        get: function () {\n            return deriveToolId(set_operations_1.OperationKind.CREATE_NODE, this.elementTypeId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    NodeCreationTool.prototype.enable = function () {\n        this.creationToolMouseListener = new NodeCreationToolMouseListener(this.elementTypeId, this);\n        this.mouseTool.register(this.creationToolMouseListener);\n        this.feedbackDispatcher.registerFeedback(this, [new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.NODE_CREATION)]);\n    };\n    NodeCreationTool.prototype.disable = function () {\n        this.mouseTool.deregister(this.creationToolMouseListener);\n        this.feedbackDispatcher.deregisterFeedback(this, [new cursor_feedback_1.ApplyCursorCSSFeedbackAction()]);\n    };\n    NodeCreationTool.prototype.dispatchFeedback = function (actions) {\n        this.feedbackDispatcher.registerFeedback(this, actions);\n    };\n    NodeCreationTool = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.GLSP_TYPES.MouseTool)),\n        __param(1, inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher)),\n        __metadata(\"design:paramtypes\", [Object, Object])\n    ], NodeCreationTool);\n    return NodeCreationTool;\n}());\nexports.NodeCreationTool = NodeCreationTool;\nvar NodeCreationToolMouseListener = /** @class */ (function (_super) {\n    __extends(NodeCreationToolMouseListener, _super);\n    function NodeCreationToolMouseListener(elementTypeId, tool) {\n        var _this = _super.call(this) || this;\n        _this.elementTypeId = elementTypeId;\n        _this.tool = tool;\n        return _this;\n    }\n    NodeCreationToolMouseListener.prototype.creationAllowed = function (target) {\n        return this.container || target instanceof lib_1.SModelRoot;\n    };\n    NodeCreationToolMouseListener.prototype.nonDraggingMouseUp = function (target, event) {\n        var result = [];\n        if (this.creationAllowed(target)) {\n            var containerId = this.container ? this.container.id : undefined;\n            var location_1 = viewpoint_util_1.getAbsolutePosition(target, event);\n            result.push(new operation_actions_1.CreateNodeOperationAction(this.elementTypeId, location_1, containerId));\n            if (!lib_1.isCtrlOrCmd(event)) {\n                result.push(new lib_1.EnableDefaultToolsAction());\n            }\n        }\n        return result;\n    };\n    NodeCreationToolMouseListener.prototype.mouseOver = function (target, event) {\n        var _this = this;\n        var currentContainer = lib_1.findParent(target, function (e) { return edit_config_1.containmentAllowed(e, _this.elementTypeId); });\n        if (!this.container || currentContainer !== this.container) {\n            this.container = currentContainer;\n            var feedback = this.creationAllowed(target)\n                ? new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.NODE_CREATION) :\n                new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.OPERATION_NOT_ALLOWED);\n            this.tool.dispatchFeedback([feedback]);\n        }\n        return [];\n    };\n    NodeCreationToolMouseListener = __decorate([\n        inversify_1.injectable(),\n        __metadata(\"design:paramtypes\", [String, NodeCreationTool])\n    ], NodeCreationToolMouseListener);\n    return NodeCreationToolMouseListener;\n}(drag_aware_mouse_listener_1.DragAwareMouseListener));\nexports.NodeCreationToolMouseListener = NodeCreationToolMouseListener;\n/**\n * Tool to create connections in a Diagram, by selecting a source and target node.\n */\nvar EdgeCreationTool = /** @class */ (function () {\n    function EdgeCreationTool(mouseTool, feedbackDispatcher, anchorRegistry, editConfigProvider) {\n        this.mouseTool = mouseTool;\n        this.feedbackDispatcher = feedbackDispatcher;\n        this.anchorRegistry = anchorRegistry;\n        this.editConfigProvider = editConfigProvider;\n        this.elementTypeId = \"unknown\";\n    }\n    Object.defineProperty(EdgeCreationTool.prototype, \"id\", {\n        get: function () {\n            return deriveToolId(set_operations_1.OperationKind.CREATE_CONNECTION, this.elementTypeId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EdgeCreationTool.prototype.enable = function () {\n        this.creationToolMouseListener = new EdgeCreationToolMouseListener(this.elementTypeId, this);\n        this.mouseTool.register(this.creationToolMouseListener);\n        this.feedbackEndMovingMouseListener = new creation_tool_feedback_1.FeedbackEdgeEndMovingMouseListener(this.anchorRegistry);\n        this.mouseTool.register(this.feedbackEndMovingMouseListener);\n        this.dispatchFeedback([new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.OPERATION_NOT_ALLOWED)]);\n    };\n    EdgeCreationTool.prototype.disable = function () {\n        this.mouseTool.deregister(this.creationToolMouseListener);\n        this.mouseTool.deregister(this.feedbackEndMovingMouseListener);\n        this.feedbackDispatcher.deregisterFeedback(this, [new creation_tool_feedback_1.RemoveFeedbackEdgeAction(), new cursor_feedback_1.ApplyCursorCSSFeedbackAction()]);\n    };\n    EdgeCreationTool.prototype.dispatchFeedback = function (actions) {\n        this.feedbackDispatcher.registerFeedback(this, actions);\n    };\n    EdgeCreationTool = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.GLSP_TYPES.MouseTool)),\n        __param(1, inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher)),\n        __param(2, inversify_1.inject(lib_1.AnchorComputerRegistry)),\n        __param(3, inversify_1.inject(types_1.GLSP_TYPES.IEditConfigProvider)),\n        __metadata(\"design:paramtypes\", [Object, Object, lib_1.AnchorComputerRegistry, Object])\n    ], EdgeCreationTool);\n    return EdgeCreationTool;\n}());\nexports.EdgeCreationTool = EdgeCreationTool;\nvar EdgeCreationToolMouseListener = /** @class */ (function (_super) {\n    __extends(EdgeCreationToolMouseListener, _super);\n    function EdgeCreationToolMouseListener(elementTypeId, tool) {\n        var _this = _super.call(this) || this;\n        _this.elementTypeId = elementTypeId;\n        _this.tool = tool;\n        _this.allowedTarget = false;\n        var config = tool.editConfigProvider.getEditConfig(_this.elementTypeId);\n        if (config && config.configType === edit_config_1.edgeEditConfig) {\n            _this.edgeEditConfig = config;\n        }\n        return _this;\n    }\n    EdgeCreationToolMouseListener.prototype.reinitialize = function () {\n        this.source = undefined;\n        this.target = undefined;\n        this.tool.dispatchFeedback([new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.OPERATION_NOT_ALLOWED)]);\n    };\n    EdgeCreationToolMouseListener.prototype.nonDraggingMouseUp = function (element, event) {\n        var result = [];\n        if (event.button === 0) {\n            if (this.source === undefined) {\n                if (this.currentTarget && this.allowedTarget) {\n                    this.source = this.currentTarget.id;\n                    this.tool.dispatchFeedback([new creation_tool_feedback_1.DrawFeedbackEdgeAction(this.elementTypeId, this.source)]);\n                }\n            }\n            else {\n                if (this.currentTarget && this.allowedTarget) {\n                    this.target = this.currentTarget.id;\n                }\n            }\n            if (this.source !== undefined && this.target !== undefined) {\n                result.push(new operation_actions_1.CreateConnectionOperationAction(this.elementTypeId, this.source, this.target));\n                if (!lib_1.isCtrlOrCmd(event)) {\n                    result.push(new lib_1.EnableDefaultToolsAction());\n                }\n                else {\n                    this.reinitialize();\n                }\n            }\n        }\n        else if (event.button === 2) {\n            result.push(new lib_1.EnableDefaultToolsAction());\n        }\n        return result;\n    };\n    EdgeCreationToolMouseListener.prototype.mouseOver = function (target, event) {\n        var newCurrentTarget = lib_1.findParentByFeature(target, lib_1.isConnectable);\n        if (newCurrentTarget !== this.currentTarget) {\n            this.currentTarget = newCurrentTarget;\n            if (this.currentTarget) {\n                this.allowedTarget = this.edgeEditConfig ? this.edgeEditConfig.isAllowedTarget(this.currentTarget) : false;\n                if (this.allowedTarget) {\n                    var action = this.source === undefined ? new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.EDGE_CREATION_SOURCE) :\n                        new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.EDGE_CREATION_TARGET);\n                    return [action];\n                }\n            }\n            return [new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.OPERATION_NOT_ALLOWED)];\n        }\n        return [];\n    };\n    EdgeCreationToolMouseListener = __decorate([\n        inversify_1.injectable(),\n        __metadata(\"design:paramtypes\", [String, EdgeCreationTool])\n    ], EdgeCreationToolMouseListener);\n    return EdgeCreationToolMouseListener;\n}(drag_aware_mouse_listener_1.DragAwareMouseListener));\nexports.EdgeCreationToolMouseListener = EdgeCreationToolMouseListener;\n//# sourceMappingURL=creation-tool.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lib_1 = require(\"sprotty/lib\");\nvar change_bounds_tool_1 = require(\"./change-bounds-tool\");\nvar delete_tool_1 = require(\"./delete-tool\");\nvar edge_edit_tool_1 = require(\"./edge-edit-tool\");\nfunction registerDefaultTools(container) {\n    var toolManager = container.get(lib_1.TYPES.IToolManager);\n    toolManager.registerDefaultTools(container.resolve(change_bounds_tool_1.ChangeBoundsTool), container.resolve(edge_edit_tool_1.EdgeEditTool), container.resolve(delete_tool_1.DelKeyDeleteTool));\n    toolManager.registerTools(container.resolve(delete_tool_1.MouseDeleteTool));\n    toolManager.enableDefaultTools();\n}\nexports.registerDefaultTools = registerDefaultTools;\n//# sourceMappingURL=default-tools.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar keyboard_1 = require(\"sprotty/lib/utils/keyboard\");\nvar types_1 = require(\"../../types\");\nvar operation_actions_1 = require(\"../operation/operation-actions\");\nvar cursor_feedback_1 = require(\"../tool-feedback/cursor-feedback\");\n/**\n * Deletes selected elements when hitting the `Del` key.\n */\nvar DelKeyDeleteTool = /** @class */ (function () {\n    function DelKeyDeleteTool(keytool) {\n        this.keytool = keytool;\n        this.id = DelKeyDeleteTool_1.ID;\n        this.deleteKeyListener = new DeleteKeyListener();\n    }\n    DelKeyDeleteTool_1 = DelKeyDeleteTool;\n    DelKeyDeleteTool.prototype.enable = function () {\n        this.keytool.register(this.deleteKeyListener);\n    };\n    DelKeyDeleteTool.prototype.disable = function () {\n        this.keytool.deregister(this.deleteKeyListener);\n    };\n    var DelKeyDeleteTool_1;\n    DelKeyDeleteTool.ID = \"glsp.delete-keyboard\";\n    DelKeyDeleteTool = DelKeyDeleteTool_1 = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.KeyTool)),\n        __metadata(\"design:paramtypes\", [lib_1.KeyTool])\n    ], DelKeyDeleteTool);\n    return DelKeyDeleteTool;\n}());\nexports.DelKeyDeleteTool = DelKeyDeleteTool;\nvar DeleteKeyListener = /** @class */ (function (_super) {\n    __extends(DeleteKeyListener, _super);\n    function DeleteKeyListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DeleteKeyListener.prototype.keyDown = function (element, event) {\n        if (keyboard_1.matchesKeystroke(event, 'Delete')) {\n            var deleteElementIds = Array.from(element.root.index.all().filter(function (e) { return lib_1.isSelectable(e) && e.selected; })\n                .filter(function (e) { return e.id !== e.root.id; }).map(function (e) { return e.id; }));\n            return [new operation_actions_1.DeleteElementOperationAction(deleteElementIds)];\n        }\n        return [];\n    };\n    DeleteKeyListener = __decorate([\n        inversify_1.injectable()\n    ], DeleteKeyListener);\n    return DeleteKeyListener;\n}(lib_1.KeyListener));\nexports.DeleteKeyListener = DeleteKeyListener;\n/**\n * Deletes selected elements when clicking on them.\n */\nvar MouseDeleteTool = /** @class */ (function () {\n    function MouseDeleteTool(mouseTool, feedbackDispatcher) {\n        this.mouseTool = mouseTool;\n        this.feedbackDispatcher = feedbackDispatcher;\n        this.id = MouseDeleteTool_1.ID;\n        this.deleteToolMouseListener = new DeleteToolMouseListener();\n    }\n    MouseDeleteTool_1 = MouseDeleteTool;\n    MouseDeleteTool.prototype.enable = function () {\n        this.mouseTool.register(this.deleteToolMouseListener);\n        this.feedbackDispatcher.registerFeedback(this, [new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.ELEMENT_DELETION)]);\n    };\n    MouseDeleteTool.prototype.disable = function () {\n        this.mouseTool.deregister(this.deleteToolMouseListener);\n        this.feedbackDispatcher.registerFeedback(this, [new cursor_feedback_1.ApplyCursorCSSFeedbackAction()]);\n    };\n    var MouseDeleteTool_1;\n    MouseDeleteTool.ID = \"glsp.delete-mouse\";\n    MouseDeleteTool = MouseDeleteTool_1 = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.GLSP_TYPES.MouseTool)),\n        __param(1, inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher)),\n        __metadata(\"design:paramtypes\", [Object, Object])\n    ], MouseDeleteTool);\n    return MouseDeleteTool;\n}());\nexports.MouseDeleteTool = MouseDeleteTool;\nvar DeleteToolMouseListener = /** @class */ (function (_super) {\n    __extends(DeleteToolMouseListener, _super);\n    function DeleteToolMouseListener() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DeleteToolMouseListener.prototype.mouseUp = function (target, event) {\n        if (target instanceof lib_1.SModelRoot) {\n            return [];\n        }\n        var result = [];\n        result.push(new operation_actions_1.DeleteElementOperationAction([target.id]));\n        if (!lib_1.isCtrlOrCmd(event)) {\n            result.push(new lib_1.EnableDefaultToolsAction());\n        }\n        return result;\n    };\n    DeleteToolMouseListener = __decorate([\n        inversify_1.injectable()\n    ], DeleteToolMouseListener);\n    return DeleteToolMouseListener;\n}(lib_1.MouseListener));\nexports.DeleteToolMouseListener = DeleteToolMouseListener;\n//# sourceMappingURL=delete-tool.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\n/**\n * A mouse listener that is aware of prior mouse dragging.\n *\n * Therefore, this listener distinguishes between mouse up events after dragging and\n * mouse up events without prior dragging. Subclasses may override the methods\n * `draggingMouseUp` and/or `nonDraggingMouseUp` to react to only these specific kinds\n * of mouse up events.\n */\nvar DragAwareMouseListener = /** @class */ (function (_super) {\n    __extends(DragAwareMouseListener, _super);\n    function DragAwareMouseListener() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isMouseDown = false;\n        _this.isMouseDrag = false;\n        return _this;\n    }\n    DragAwareMouseListener.prototype.mouseDown = function (target, event) {\n        this.isMouseDown = true;\n        return [];\n    };\n    DragAwareMouseListener.prototype.mouseMove = function (target, event) {\n        if (this.isMouseDown) {\n            this.isMouseDrag = true;\n        }\n        return [];\n    };\n    DragAwareMouseListener.prototype.mouseUp = function (element, event) {\n        this.isMouseDown = false;\n        if (this.isMouseDrag) {\n            this.isMouseDrag = false;\n            return this.draggingMouseUp(element, event);\n        }\n        return this.nonDraggingMouseUp(element, event);\n    };\n    DragAwareMouseListener.prototype.nonDraggingMouseUp = function (element, event) {\n        return [];\n    };\n    DragAwareMouseListener.prototype.draggingMouseUp = function (element, event) {\n        return [];\n    };\n    return DragAwareMouseListener;\n}(lib_1.MouseListener));\nexports.DragAwareMouseListener = DragAwareMouseListener;\n//# sourceMappingURL=drag-aware-mouse-listener.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar edit_config_1 = require(\"../../base/edit-config/edit-config\");\nvar types_1 = require(\"../../types\");\nvar smodel_util_1 = require(\"../../utils/smodel-util\");\nvar action_definitions_1 = require(\"../reconnect/action-definitions\");\nvar model_1 = require(\"../reconnect/model\");\nvar selection_service_1 = require(\"../select/selection-service\");\nvar creation_tool_feedback_1 = require(\"../tool-feedback/creation-tool-feedback\");\nvar cursor_feedback_1 = require(\"../tool-feedback/cursor-feedback\");\nvar edge_edit_tool_feedback_1 = require(\"../tool-feedback/edge-edit-tool-feedback\");\nvar EdgeEditTool = /** @class */ (function () {\n    function EdgeEditTool(selectionService, mouseTool, feedbackDispatcher, anchorRegistry, edgeRouterRegistry) {\n        this.selectionService = selectionService;\n        this.mouseTool = mouseTool;\n        this.feedbackDispatcher = feedbackDispatcher;\n        this.anchorRegistry = anchorRegistry;\n        this.edgeRouterRegistry = edgeRouterRegistry;\n        this.id = EdgeEditTool_1.ID;\n    }\n    EdgeEditTool_1 = EdgeEditTool;\n    EdgeEditTool.prototype.enable = function () {\n        this.reconnectEdgeListener = new ReconnectEdgeListener(this);\n        this.mouseTool.register(this.reconnectEdgeListener);\n        this.selectionService.register(this.reconnectEdgeListener);\n        // install feedback move mouse listener for client-side move updates\n        this.feedbackEdgeSourceMovingListener = new edge_edit_tool_feedback_1.FeedbackEdgeSourceMovingMouseListener(this.anchorRegistry);\n        this.feedbackEdgeTargetMovingListener = new edge_edit_tool_feedback_1.FeedbackEdgeTargetMovingMouseListener(this.anchorRegistry);\n        this.feedbackMovingListener = new edge_edit_tool_feedback_1.FeedbackEdgeRouteMovingMouseListener(this.edgeRouterRegistry);\n        this.mouseTool.register(this.feedbackEdgeSourceMovingListener);\n        this.mouseTool.register(this.feedbackEdgeTargetMovingListener);\n        this.mouseTool.register(this.feedbackMovingListener);\n    };\n    EdgeEditTool.prototype.disable = function () {\n        this.reconnectEdgeListener.reset();\n        this.selectionService.deregister(this.reconnectEdgeListener);\n        this.mouseTool.deregister(this.feedbackEdgeSourceMovingListener);\n        this.mouseTool.deregister(this.feedbackEdgeTargetMovingListener);\n        this.mouseTool.deregister(this.feedbackMovingListener);\n        this.mouseTool.deregister(this.reconnectEdgeListener);\n    };\n    EdgeEditTool.prototype.dispatchFeedback = function (actions) {\n        this.feedbackDispatcher.registerFeedback(this, actions);\n    };\n    var EdgeEditTool_1;\n    EdgeEditTool.ID = \"glsp.edge-edit-tool\";\n    EdgeEditTool = EdgeEditTool_1 = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(types_1.GLSP_TYPES.SelectionService)),\n        __param(1, inversify_1.inject(types_1.GLSP_TYPES.MouseTool)),\n        __param(2, inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher)),\n        __param(3, inversify_1.inject(lib_1.AnchorComputerRegistry)),\n        __param(4, inversify_1.inject(lib_1.EdgeRouterRegistry)), __param(4, inversify_1.optional()),\n        __metadata(\"design:paramtypes\", [selection_service_1.SelectionService, Object, Object, lib_1.AnchorComputerRegistry,\n            lib_1.EdgeRouterRegistry])\n    ], EdgeEditTool);\n    return EdgeEditTool;\n}());\nexports.EdgeEditTool = EdgeEditTool;\nvar ReconnectEdgeListener = /** @class */ (function (_super) {\n    __extends(ReconnectEdgeListener, _super);\n    function ReconnectEdgeListener(tool) {\n        var _this = _super.call(this) || this;\n        _this.tool = tool;\n        return _this;\n    }\n    ReconnectEdgeListener.prototype.isValidEdge = function (edge) {\n        return edge !== undefined && edge.id !== creation_tool_feedback_1.feedbackEdgeId(edge.root) && smodel_util_1.isSelected(edge);\n    };\n    ReconnectEdgeListener.prototype.setEdgeSelected = function (edge) {\n        if (this.edge && this.edge.id !== edge.id) {\n            // reset from a previously selected edge\n            this.reset();\n        }\n        this.edge = edge;\n        // note: order is important here as we want the reconnect handles to cover the routing handles\n        this.tool.dispatchFeedback([new edge_edit_tool_feedback_1.SwitchRoutingModeAction([this.edge.id], []), new edge_edit_tool_feedback_1.ShowEdgeReconnectHandlesFeedbackAction(this.edge.id)]);\n    };\n    ReconnectEdgeListener.prototype.isEdgeSelected = function () {\n        return this.edge !== undefined && smodel_util_1.isSelected(this.edge);\n    };\n    ReconnectEdgeListener.prototype.setReconnectHandleSelected = function (edge, reconnectHandle) {\n        if (this.edge && this.edge.target && this.edge.source) {\n            if (model_1.isSourceRoutingHandle(edge, reconnectHandle)) {\n                this.tool.dispatchFeedback([new edge_edit_tool_feedback_1.HideEdgeReconnectHandlesFeedbackAction(),\n                    new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.EDGE_RECONNECT),\n                    new edge_edit_tool_feedback_1.DrawFeedbackEdgeSourceAction(this.edge.type, this.edge.targetId)]);\n                this.reconnectMode = \"NEW_SOURCE\";\n            }\n            else if (model_1.isTargetRoutingHandle(edge, reconnectHandle)) {\n                this.tool.dispatchFeedback([new edge_edit_tool_feedback_1.HideEdgeReconnectHandlesFeedbackAction(),\n                    new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.EDGE_CREATION_TARGET),\n                    new creation_tool_feedback_1.DrawFeedbackEdgeAction(this.edge.type, this.edge.sourceId)]);\n                this.reconnectMode = \"NEW_TARGET\";\n            }\n        }\n    };\n    ReconnectEdgeListener.prototype.isReconnecting = function () {\n        return this.reconnectMode !== undefined;\n    };\n    ReconnectEdgeListener.prototype.isReconnectingNewSource = function () {\n        return this.reconnectMode === \"NEW_SOURCE\";\n    };\n    ReconnectEdgeListener.prototype.setRoutingHandleSelected = function (edge, routingHandle) {\n        if (this.edge && this.edge.target && this.edge.source) {\n            this.routingHandle = routingHandle;\n        }\n    };\n    ReconnectEdgeListener.prototype.requiresReconnect = function (sourceId, targetId) {\n        return this.edge !== undefined && (this.edge.sourceId !== sourceId || this.edge.targetId !== targetId);\n    };\n    ReconnectEdgeListener.prototype.setNewConnectable = function (connectable) {\n        this.newConnectable = connectable;\n    };\n    ReconnectEdgeListener.prototype.isReadyToReconnect = function () {\n        return this.edge && this.isReconnecting() && this.newConnectable !== undefined;\n    };\n    ReconnectEdgeListener.prototype.isReadyToReroute = function () {\n        return this.routingHandle !== undefined;\n    };\n    ReconnectEdgeListener.prototype.mouseDown = function (target, event) {\n        var result = [];\n        this.isMouseDown = true;\n        if (event.button === 0) {\n            var reconnectHandle = lib_1.findParentByFeature(target, model_1.isReconnectHandle);\n            var routingHandle = !reconnectHandle ? lib_1.findParentByFeature(target, model_1.isRoutingHandle) : undefined;\n            var edge = lib_1.findParentByFeature(target, model_1.isRoutable);\n            if (this.isEdgeSelected() && edge && reconnectHandle) {\n                // PHASE 2 Reconnect: Select reconnect handle on selected edge\n                this.setReconnectHandleSelected(edge, reconnectHandle);\n            }\n            else if (this.isEdgeSelected() && edge && routingHandle) {\n                // PHASE 2 Reroute: Select routing handle on selected edge\n                this.setRoutingHandleSelected(edge, routingHandle);\n            }\n            else if (this.isValidEdge(edge)) {\n                // PHASE 1: Select edge\n                this.setEdgeSelected(edge);\n            }\n        }\n        else if (event.button === 2) {\n            this.reset();\n        }\n        return result;\n    };\n    ReconnectEdgeListener.prototype.mouseMove = function (target, event) {\n        if (this.isMouseDown) {\n            // reset any selected connectables when we are dragging, maybe the user is just panning\n            this.setNewConnectable(undefined);\n        }\n        return [];\n    };\n    ReconnectEdgeListener.prototype.mouseUp = function (target, event) {\n        this.isMouseDown = false;\n        if (!this.isReadyToReconnect() && !this.isReadyToReroute()) {\n            return [];\n        }\n        var result = [];\n        if (this.edge && this.newConnectable) {\n            var sourceId = this.isReconnectingNewSource() ? this.newConnectable.id : this.edge.sourceId;\n            var targetId = this.isReconnectingNewSource() ? this.edge.targetId : this.newConnectable.id;\n            if (this.requiresReconnect(sourceId, targetId)) {\n                result.push(new action_definitions_1.ReconnectConnectionOperationAction(this.edge.id, sourceId, targetId));\n            }\n            this.reset();\n        }\n        else if (this.edge && this.routingHandle) {\n            // we need to re-retrieve the edge as it might have changed due to a server udpate since we do not reset the state between reroute actions\n            var latestEdge = target.index.getById(this.edge.id);\n            if (latestEdge && model_1.isRoutable(latestEdge)) {\n                result.push(new action_definitions_1.RerouteConnectionOperationAction(latestEdge.id, latestEdge.routingPoints));\n                this.routingHandle = undefined;\n            }\n        }\n        return result;\n    };\n    ReconnectEdgeListener.prototype.mouseOver = function (target, event) {\n        if (this.edge && this.isReconnecting()) {\n            var currentTarget = lib_1.findParentByFeature(target, lib_1.isConnectable);\n            if (!this.newConnectable || currentTarget !== this.newConnectable) {\n                this.setNewConnectable(currentTarget);\n                if (currentTarget && edit_config_1.isConfigurableEdge(this.edge)) {\n                    if ((this.reconnectMode === 'NEW_SOURCE' && this.edge.isAllowedSource(currentTarget.type)) ||\n                        (this.reconnectMode === 'NEW_TARGET' && this.edge.isAllowedTarget(currentTarget.type))) {\n                        this.tool.dispatchFeedback([new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.EDGE_RECONNECT)]);\n                        return [];\n                    }\n                }\n                this.tool.dispatchFeedback([new cursor_feedback_1.ApplyCursorCSSFeedbackAction(cursor_feedback_1.CursorCSS.OPERATION_NOT_ALLOWED)]);\n            }\n        }\n        return [];\n    };\n    ReconnectEdgeListener.prototype.selectionChanged = function (root, selectedElements) {\n        var e_1, _a;\n        if (this.edge) {\n            if (selectedElements.indexOf(this.edge.id) > -1) {\n                // our active edge is still selected, nothing to do\n                return;\n            }\n            if (this.isReconnecting()) {\n                // we are reconnecting, so we may have clicked on a potential target\n                return;\n            }\n            try {\n                // try to find some other selected element and mark that active\n                for (var _b = __values(selectedElements.reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var elementId = _c.value;\n                    var element = root.index.getById(elementId);\n                    if (element) {\n                        var edge = lib_1.findParentByFeature(element, model_1.isRoutable);\n                        if (this.isValidEdge(edge)) {\n                            // PHASE 1: Select edge\n                            this.setEdgeSelected(edge);\n                            return;\n                        }\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            this.reset();\n        }\n    };\n    ReconnectEdgeListener.prototype.reset = function () {\n        this.resetFeedback();\n        this.resetData();\n    };\n    ReconnectEdgeListener.prototype.resetData = function () {\n        this.isMouseDown = false;\n        this.edge = undefined;\n        this.reconnectMode = undefined;\n        this.newConnectable = undefined;\n        this.routingHandle = undefined;\n    };\n    ReconnectEdgeListener.prototype.resetFeedback = function () {\n        var result = [];\n        if (this.edge) {\n            result.push(new edge_edit_tool_feedback_1.SwitchRoutingModeAction([], [this.edge.id]));\n        }\n        result.push.apply(result, __spread([new edge_edit_tool_feedback_1.HideEdgeReconnectHandlesFeedbackAction(),\n            new cursor_feedback_1.ApplyCursorCSSFeedbackAction(), new creation_tool_feedback_1.RemoveFeedbackEdgeAction()]));\n        this.tool.dispatchFeedback(result);\n    };\n    return ReconnectEdgeListener;\n}(lib_1.MouseListener));\n//# sourceMappingURL=edge-edit-tool.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar validate_1 = require(\"./validate\");\nvar validationModule = new inversify_1.ContainerModule(function (bind, _unbind, isBound) {\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, validate_1.SetMarkersCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, validate_1.ApplyMarkersCommand);\n    lib_1.configureCommand({ bind: bind, isBound: isBound }, validate_1.ClearMarkersCommand);\n    bind(validate_1.ValidationFeedbackEmitter).toSelf().inSingletonScope();\n});\nexports.default = validationModule;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar lib_1 = require(\"sprotty/lib\");\nvar types_1 = require(\"../../types\");\nvar marker_1 = require(\"../../utils/marker\");\nvar model_1 = require(\"../tool-feedback/model\");\n/**\n* Action to retrieve markers for a model\n*/\nvar RequestMarkersAction = /** @class */ (function () {\n    function RequestMarkersAction(elementsIDs) {\n        if (elementsIDs === void 0) { elementsIDs = []; }\n        this.elementsIDs = elementsIDs;\n        this.kind = RequestMarkersAction.KIND;\n    }\n    RequestMarkersAction.KIND = 'requestMarkers';\n    return RequestMarkersAction;\n}());\nexports.RequestMarkersAction = RequestMarkersAction;\n/**\n * Feedback emitter sending actions for visualizing model validation feedback and\n * re-establishing this feedback visualization after the model has been updated.\n */\nvar ValidationFeedbackEmitter = /** @class */ (function () {\n    function ValidationFeedbackEmitter() {\n    }\n    /**\n     * Register the action that should be emitted for visualizing validation feedback.\n     * @param action the action that should be emitted when the model is updated and that will visualize the model validation feedback.\n     */\n    ValidationFeedbackEmitter.prototype.registerValidationFeedbackAction = function (action) {\n        // De-register old action responsible for applying markers and re-applying them when the model is updated\n        this.feedbackActionDispatcher.deregisterFeedback(this, []);\n        // Clear existing markers\n        if (this.registeredAction !== undefined) {\n            var clearMarkersAction_1 = new ClearMarkersAction(this.registeredAction.markers);\n            this.actionDispatcher().then(function (dispatcher) { return dispatcher.dispatch(clearMarkersAction_1); });\n        }\n        // Register new action responsible for applying markers and re-applying them when the model is updated\n        this.feedbackActionDispatcher.registerFeedback(this, [action]);\n        this.registeredAction = action;\n    };\n    __decorate([\n        inversify_1.inject(types_1.GLSP_TYPES.IFeedbackActionDispatcher),\n        __metadata(\"design:type\", Object)\n    ], ValidationFeedbackEmitter.prototype, \"feedbackActionDispatcher\", void 0);\n    __decorate([\n        inversify_1.inject(lib_1.TYPES.IActionDispatcherProvider),\n        __metadata(\"design:type\", Function)\n    ], ValidationFeedbackEmitter.prototype, \"actionDispatcher\", void 0);\n    ValidationFeedbackEmitter = __decorate([\n        inversify_1.injectable(),\n        __metadata(\"design:paramtypes\", [])\n    ], ValidationFeedbackEmitter);\n    return ValidationFeedbackEmitter;\n}());\nexports.ValidationFeedbackEmitter = ValidationFeedbackEmitter;\n/**\n * Action to set markers for a model\n */\nvar SetMarkersAction = /** @class */ (function () {\n    function SetMarkersAction(markers) {\n        this.markers = markers;\n        this.kind = SetMarkersCommand.KIND;\n    }\n    return SetMarkersAction;\n}());\nexports.SetMarkersAction = SetMarkersAction;\n/**\n * Command for handling `SetMarkersAction`\n */\nvar SetMarkersCommand = /** @class */ (function (_super) {\n    __extends(SetMarkersCommand, _super);\n    function SetMarkersCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    SetMarkersCommand.prototype.execute = function (context) {\n        var markers = this.action.markers;\n        var applyMarkersAction = new ApplyMarkersAction(markers);\n        this.validationFeedbackEmitter.registerValidationFeedbackAction(applyMarkersAction);\n        return context.root;\n    };\n    SetMarkersCommand.prototype.undo = function (context) {\n        return context.root;\n    };\n    SetMarkersCommand.prototype.redo = function (context) {\n        return this.execute(context);\n    };\n    SetMarkersCommand.KIND = 'setMarkers';\n    __decorate([\n        inversify_1.inject(ValidationFeedbackEmitter),\n        __metadata(\"design:type\", ValidationFeedbackEmitter)\n    ], SetMarkersCommand.prototype, \"validationFeedbackEmitter\", void 0);\n    SetMarkersCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [SetMarkersAction])\n    ], SetMarkersCommand);\n    return SetMarkersCommand;\n}(lib_1.Command));\nexports.SetMarkersCommand = SetMarkersCommand;\n/**\n * Action for applying makers to a model\n */\nvar ApplyMarkersAction = /** @class */ (function () {\n    function ApplyMarkersAction(markers) {\n        this.markers = markers;\n        this.kind = ApplyMarkersCommand.KIND;\n    }\n    ApplyMarkersAction = __decorate([\n        inversify_1.injectable(),\n        __metadata(\"design:paramtypes\", [Array])\n    ], ApplyMarkersAction);\n    return ApplyMarkersAction;\n}());\nexports.ApplyMarkersAction = ApplyMarkersAction;\n/**\n * Command for handling `ApplyMarkersAction`\n */\nvar ApplyMarkersCommand = /** @class */ (function (_super) {\n    __extends(ApplyMarkersCommand, _super);\n    function ApplyMarkersCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        _this.priority = 0;\n        return _this;\n    }\n    ApplyMarkersCommand.prototype.execute = function (context) {\n        var e_1, _a;\n        var markers = this.action.markers;\n        try {\n            for (var markers_1 = __values(markers), markers_1_1 = markers_1.next(); !markers_1_1.done; markers_1_1 = markers_1.next()) {\n                var marker = markers_1_1.value;\n                var modelElement = context.root.index.getById(marker.elementId);\n                if (modelElement instanceof lib_1.SParentElement) {\n                    var issueMarker = getOrCreateSIssueMarker(modelElement);\n                    var issue = createSIssue(marker);\n                    issueMarker.issues.push(issue);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (markers_1_1 && !markers_1_1.done && (_a = markers_1.return)) _a.call(markers_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return context.root;\n    };\n    ApplyMarkersCommand.prototype.undo = function (context) {\n        return context.root;\n    };\n    ApplyMarkersCommand.prototype.redo = function (context) {\n        return this.execute(context);\n    };\n    ApplyMarkersCommand.KIND = \"applyMarkers\";\n    ApplyMarkersCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ApplyMarkersAction])\n    ], ApplyMarkersCommand);\n    return ApplyMarkersCommand;\n}(model_1.FeedbackCommand));\nexports.ApplyMarkersCommand = ApplyMarkersCommand;\n/**\n * Retrieves the `SIssueMarker` contained by the provided model element as\n * direct child or a newly instantiated `SIssueMarker` if no child\n * `SIssueMarker` exists.\n * @param modelElement for which the `SIssueMarker` should be retrieved or created.\n * @returns the child `SIssueMarker` or a new `SIssueMarker` if no such child exists.\n */\nfunction getOrCreateSIssueMarker(modelElement) {\n    var issueMarker;\n    issueMarker = getSIssueMarker(modelElement);\n    if (issueMarker === undefined) {\n        issueMarker = new lib_1.SIssueMarker();\n        issueMarker.type = \"marker\";\n        issueMarker.issues = new Array();\n        modelElement.add(issueMarker);\n    }\n    return issueMarker;\n}\n/**\n * Retrieves the `SIssueMarker` contained by the provided model element as\n * direct child or `undefined` if such an `SIssueMarker` does not exist.\n * @param modelElement for which the `SIssueMarker` should be retrieved.\n * @returns the child `SIssueMarker` or `undefined` if no such child exists.\n */\nfunction getSIssueMarker(modelElement) {\n    var e_2, _a;\n    var issueMarker;\n    try {\n        for (var _b = __values(modelElement.children), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var child = _c.value;\n            if (child instanceof lib_1.SIssueMarker) {\n                issueMarker = child;\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return issueMarker;\n}\n/**\n * Creates an `SIssue` with `severity` and `message` set according to\n * the `kind` and `description` of the provided `Marker`.\n * @param marker `Marker` for that an `SIssue` should be created.\n * @returns the created `SIssue`.\n */\nfunction createSIssue(marker) {\n    var issue = new lib_1.SIssue();\n    issue.message = marker.description;\n    switch (marker.kind) {\n        case marker_1.MarkerKind.ERROR: {\n            issue.severity = 'error';\n            break;\n        }\n        case marker_1.MarkerKind.INFO: {\n            issue.severity = 'info';\n            break;\n        }\n        case marker_1.MarkerKind.WARNING: {\n            issue.severity = 'warning';\n            break;\n        }\n    }\n    return issue;\n}\n/**\n * Action for clearing makers of a model\n */\nvar ClearMarkersAction = /** @class */ (function () {\n    function ClearMarkersAction(markers) {\n        this.markers = markers;\n        this.kind = ClearMarkersCommand.KIND;\n    }\n    ClearMarkersAction = __decorate([\n        inversify_1.injectable(),\n        __metadata(\"design:paramtypes\", [Array])\n    ], ClearMarkersAction);\n    return ClearMarkersAction;\n}());\nexports.ClearMarkersAction = ClearMarkersAction;\n/**\n * Command for handling `ClearMarkersAction`\n */\nvar ClearMarkersCommand = /** @class */ (function (_super) {\n    __extends(ClearMarkersCommand, _super);\n    function ClearMarkersCommand(action) {\n        var _this = _super.call(this) || this;\n        _this.action = action;\n        return _this;\n    }\n    ClearMarkersCommand.prototype.execute = function (context) {\n        var e_3, _a;\n        var markers = this.action.markers;\n        try {\n            for (var markers_2 = __values(markers), markers_2_1 = markers_2.next(); !markers_2_1.done; markers_2_1 = markers_2.next()) {\n                var marker = markers_2_1.value;\n                var modelElement = context.root.index.getById(marker.elementId);\n                if (modelElement instanceof lib_1.SParentElement) {\n                    var issueMarker = getSIssueMarker(modelElement);\n                    if (issueMarker !== undefined) {\n                        for (var index = 0; index < issueMarker.issues.length; ++index) {\n                            var issue = issueMarker.issues[index];\n                            if (issue.message === marker.description) {\n                                issueMarker.issues.splice(index--, 1);\n                            }\n                        }\n                        if (issueMarker.issues.length === 0) {\n                            modelElement.remove(issueMarker);\n                        }\n                    }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (markers_2_1 && !markers_2_1.done && (_a = markers_2.return)) _a.call(markers_2);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return context.root;\n    };\n    ClearMarkersCommand.prototype.undo = function (context) {\n        return context.root;\n    };\n    ClearMarkersCommand.prototype.redo = function (context) {\n        return this.execute(context);\n    };\n    ClearMarkersCommand.KIND = \"clearMarkers\";\n    ClearMarkersCommand = __decorate([\n        inversify_1.injectable(),\n        __param(0, inversify_1.inject(lib_1.TYPES.Action)),\n        __metadata(\"design:paramtypes\", [ClearMarkersAction])\n    ], ClearMarkersCommand);\n    return ClearMarkersCommand;\n}(lib_1.Command));\nexports.ClearMarkersCommand = ClearMarkersCommand;\n//# sourceMappingURL=validate.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar di_config_1 = require(\"./base/di.config\");\nexports.defaultGLSPModule = di_config_1.default;\nvar di_config_2 = require(\"./features/command-palette/di.config\");\nexports.glspCommandPaletteModule = di_config_2.default;\nvar di_config_3 = require(\"./features/execute/di.config\");\nexports.executeModule = di_config_3.default;\nvar di_config_4 = require(\"./features/hints/di.config\");\nexports.modelHintsModule = di_config_4.default;\nvar di_config_5 = require(\"./features/mouse-tool/di.config\");\nexports.glspMouseToolModule = di_config_5.default;\nvar di_config_6 = require(\"./features/request-response/di.config\");\nexports.requestResponseModule = di_config_6.default;\nvar di_config_7 = require(\"./features/save/di.config\");\nexports.saveModule = di_config_7.default;\nvar di_config_8 = require(\"./features/select/di.config\");\nexports.glspSelectModule = di_config_8.default;\nvar di_config_9 = require(\"./features/tool-feedback/di.config\");\nexports.toolFeedbackModule = di_config_9.default;\nvar di_config_10 = require(\"./features/tool-palette/di.config\");\nexports.paletteModule = di_config_10.default;\nvar di_config_11 = require(\"./features/validation/di.config\");\nexports.validationModule = di_config_11.default;\n__export(require(\"sprotty/lib\"));\n__export(require(\"./base/edit-config/edit-config\"));\n__export(require(\"./model-source/websocket-diagram-server\"));\n__export(require(\"./base/model/update-model-command\"));\n__export(require(\"./base/tool-manager/tool-manager-action-handler\"));\n__export(require(\"./features/change-bounds/model\"));\n__export(require(\"./features/command-palette/action-definitions\"));\n__export(require(\"./features/command-palette/action-provider\"));\n__export(require(\"./features/execute/execute-command\"));\n__export(require(\"./features/execute/model\"));\n__export(require(\"./features/hints/action-definition\"));\n__export(require(\"./features/hints/type-hints-action-initializer\"));\n__export(require(\"./features/mouse-tool/di.config\"));\n__export(require(\"./features/operation/operation-actions\"));\n__export(require(\"./features/operation/set-operations\"));\n__export(require(\"./features/request-response/action-definitions\"));\n__export(require(\"./features/request-response/support\"));\n__export(require(\"./features/save/model\"));\n__export(require(\"./features/save/save\"));\n__export(require(\"./features/select/di.config\"));\n__export(require(\"./features/tool-feedback/creation-tool-feedback\"));\n__export(require(\"./features/tool-feedback/model\"));\n__export(require(\"./features/tool-palette/tool-palette\"));\n__export(require(\"./features/tools/change-bounds-tool\"));\n__export(require(\"./features/tools/creation-tool\"));\n__export(require(\"./features/tools/default-tools\"));\n__export(require(\"./features/tools/delete-tool\"));\n__export(require(\"./features/validation/validate\"));\n__export(require(\"./lib/model\"));\n__export(require(\"./types\"));\n__export(require(\"./utils/array-utils\"));\n__export(require(\"./utils/marker\"));\n__export(require(\"./utils/smodel-util\"));\n__export(require(\"./utils/viewpoint-util\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nvar model_1 = require(\"../features/save/model\");\nvar GLSPGraph = /** @class */ (function (_super) {\n    __extends(GLSPGraph, _super);\n    function GLSPGraph() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GLSPGraph.prototype.hasFeature = function (feature) {\n        return feature === model_1.saveFeature || _super.prototype.hasFeature.call(this, feature);\n    };\n    return GLSPGraph;\n}(lib_1.SGraph));\nexports.GLSPGraph = GLSPGraph;\n//# sourceMappingURL=model.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar inversify_1 = require(\"inversify\");\nvar sprotty_1 = require(\"sprotty\");\nvar action_definitions_1 = require(\"../features/command-palette/action-definitions\");\nvar execute_command_1 = require(\"../features/execute/execute-command\");\nvar action_definition_1 = require(\"../features/hints/action-definition\");\nvar set_operations_1 = require(\"../features/operation/set-operations\");\nvar action_definitions_2 = require(\"../features/request-response/action-definitions\");\nvar save_1 = require(\"../features/save/save\");\nvar validate_1 = require(\"../features/validation/validate\");\nvar GLSPWebsocketDiagramServer = /** @class */ (function (_super) {\n    __extends(GLSPWebsocketDiagramServer, _super);\n    function GLSPWebsocketDiagramServer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GLSPWebsocketDiagramServer.prototype.initialize = function (registry) {\n        registerDefaultGLSPServerActions(registry, this);\n        this.clientId = this.viewerOptions.baseDiv;\n    };\n    GLSPWebsocketDiagramServer.prototype.handle = function (action) {\n        if (action instanceof sprotty_1.RequestModelAction && action.options !== undefined)\n            this._sourceUri = action.options.sourceUri;\n        return _super.prototype.handle.call(this, action);\n    };\n    GLSPWebsocketDiagramServer.prototype.getSourceURI = function () {\n        return this._sourceUri;\n    };\n    GLSPWebsocketDiagramServer = __decorate([\n        inversify_1.injectable()\n    ], GLSPWebsocketDiagramServer);\n    return GLSPWebsocketDiagramServer;\n}(sprotty_1.WebSocketDiagramServer));\nexports.GLSPWebsocketDiagramServer = GLSPWebsocketDiagramServer;\nfunction registerDefaultGLSPServerActions(registry, diagramServer) {\n    registry.register(set_operations_1.RequestOperationsAction.KIND, diagramServer);\n    registry.register(save_1.SaveModelAction.KIND, diagramServer);\n    registry.register(set_operations_1.OperationKind.CREATE_CONNECTION, diagramServer);\n    registry.register(set_operations_1.OperationKind.RECONNECT_CONNECTION, diagramServer);\n    registry.register(set_operations_1.OperationKind.REROUTE_CONNECTION, diagramServer);\n    registry.register(set_operations_1.OperationKind.CREATE_NODE, diagramServer);\n    registry.register(set_operations_1.OperationKind.CHANGE_BOUNDS, diagramServer);\n    registry.register(set_operations_1.OperationKind.DELETE_ELEMENT, diagramServer);\n    registry.register(execute_command_1.ExecuteServerCommandAction.KIND, diagramServer);\n    registry.register(action_definition_1.RequestTypeHintsAction.KIND, diagramServer);\n    registry.register(sprotty_1.ComputedBoundsAction.KIND, diagramServer);\n    registry.register(sprotty_1.RequestBoundsCommand.KIND, diagramServer);\n    registry.register(sprotty_1.RequestPopupModelAction.KIND, diagramServer);\n    registry.register(sprotty_1.CollapseExpandAction.KIND, diagramServer);\n    registry.register(sprotty_1.CollapseExpandAllAction.KIND, diagramServer);\n    registry.register(sprotty_1.OpenAction.KIND, diagramServer);\n    registry.register(sprotty_1.ServerStatusAction.KIND, diagramServer);\n    registry.register(sprotty_1.RequestModelAction.KIND, diagramServer);\n    registry.register(sprotty_1.ExportSvgAction.KIND, diagramServer);\n    registry.register(action_definitions_1.RequestCommandPaletteActions.KIND, diagramServer);\n    registry.register(action_definitions_2.IdentifiableRequestAction.KIND, diagramServer);\n    registry.register(validate_1.RequestMarkersAction.KIND, diagramServer);\n    registry.register(sprotty_1.LayoutAction.KIND, diagramServer);\n    // Register an empty handler for SwitchEditMode, to avoid runtime exceptions.\n    // We don't want to support SwitchEditMode, but sprotty still sends some corresponding\n    // actions.\n    registry.register(sprotty_1.SwitchEditModeCommand.KIND, { handle: function (action) { return undefined; } });\n}\nexports.registerDefaultGLSPServerActions = registerDefaultGLSPServerActions;\n//# sourceMappingURL=websocket-diagram-server.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nexports.GLSP_TYPES = {\n    ICommandPaletteActionProviderRegistry: Symbol.for(\"ICommandPaletteActionProviderRegistry\"),\n    IFeedbackActionDispatcher: Symbol.for(\"IFeedbackActionDispatcher\"),\n    IToolFactory: Symbol.for(\"Factory<Tool>\"),\n    IEditConfigProvider: Symbol.for(\"IEditConfigProvider\"),\n    RequestResponseSupport: Symbol.for(\"RequestResponseSupport\"),\n    SelectionService: Symbol.for(\"SelectionService\"),\n    SelectionListener: Symbol.for(\"SelectionListener\"),\n    SModelRootListener: Symbol.for(\"SModelRootListener\"),\n    MouseTool: Symbol.for(\"MouseTool\")\n};\n//# sourceMappingURL=types.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction contains(array, value) {\n    if (value === undefined)\n        return false;\n    return array.indexOf(value) >= 0;\n}\nexports.contains = contains;\nfunction remove(array, value) {\n    var index = array.indexOf(value);\n    if (index >= 0) {\n        array.splice(index, 1);\n        return true;\n    }\n    return false;\n}\nexports.remove = remove;\nfunction distinctAdd(array, value) {\n    if (!contains(array, value)) {\n        array.push(value);\n        return true;\n    }\n    return false;\n}\nexports.distinctAdd = distinctAdd;\n//# sourceMappingURL=array-utils.js.map","\"use strict\";\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MarkerKind;\n(function (MarkerKind) {\n    MarkerKind.INFO = \"info\";\n    MarkerKind.WARNING = \"warning\";\n    MarkerKind.ERROR = \"error\";\n})(MarkerKind = exports.MarkerKind || (exports.MarkerKind = {}));\n//# sourceMappingURL=marker.js.map","\"use strict\";\nvar __values = (this && this.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"sprotty/lib\");\nvar edit_config_1 = require(\"../base/edit-config/edit-config\");\nfunction getIndex(element) {\n    return element.root.index;\n}\nexports.getIndex = getIndex;\nfunction forEachElement(element, predicate, runnable) {\n    getIndex(element).all()\n        .filter(predicate)\n        .forEach(runnable);\n}\nexports.forEachElement = forEachElement;\nfunction hasSelectedElements(element) {\n    return getSelectedElementCount(element) > 0;\n}\nexports.hasSelectedElements = hasSelectedElements;\nfunction getSelectedElementCount(element) {\n    var selected = 0;\n    getIndex(element).all()\n        .filter(isSelected)\n        .forEach(function (e) { return selected = selected + 1; });\n    return selected;\n}\nexports.getSelectedElementCount = getSelectedElementCount;\nfunction isSelected(element) {\n    return isNotUndefined(element) && lib_1.isSelectable(element) && element.selected;\n}\nexports.isSelected = isSelected;\nfunction isNotUndefined(element) {\n    return element !== undefined;\n}\nexports.isNotUndefined = isNotUndefined;\nfunction addCssClasses(root, cssClasses) {\n    var e_1, _a;\n    if (root.cssClasses === undefined) {\n        root.cssClasses = [];\n    }\n    try {\n        for (var cssClasses_1 = __values(cssClasses), cssClasses_1_1 = cssClasses_1.next(); !cssClasses_1_1.done; cssClasses_1_1 = cssClasses_1.next()) {\n            var cssClass = cssClasses_1_1.value;\n            if (root.cssClasses.indexOf(cssClass) < 0) {\n                root.cssClasses.push(cssClass);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (cssClasses_1_1 && !cssClasses_1_1.done && (_a = cssClasses_1.return)) _a.call(cssClasses_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\nexports.addCssClasses = addCssClasses;\nfunction removeCssClasses(root, cssClasses) {\n    var e_2, _a;\n    if (root.cssClasses === undefined || root.cssClasses.length === 0) {\n        return;\n    }\n    try {\n        for (var cssClasses_2 = __values(cssClasses), cssClasses_2_1 = cssClasses_2.next(); !cssClasses_2_1.done; cssClasses_2_1 = cssClasses_2.next()) {\n            var cssClass = cssClasses_2_1.value;\n            var index = root.cssClasses.indexOf(cssClass);\n            if (index !== -1) {\n                root.cssClasses.splice(root.cssClasses.indexOf(cssClass), 1);\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (cssClasses_2_1 && !cssClasses_2_1.done && (_a = cssClasses_2.return)) _a.call(cssClasses_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n}\nexports.removeCssClasses = removeCssClasses;\nfunction isContainmentAllowed(element, containableElementTypeId) {\n    return edit_config_1.isConfigurableNode(element) && element.isContainableElement(containableElementTypeId);\n}\nexports.isContainmentAllowed = isContainmentAllowed;\n//# sourceMappingURL=smodel-util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lib_1 = require(\"sprotty/lib\");\nvar lib_2 = require(\"sprotty/lib\");\n/**\n * Return the position corresponding to this mouse event (Browser coordinates)\n * in the diagram coordinates system (i.e. relative to the Diagram's 0;0 point)\n *\n * This functions takes into account the following transformations:\n * - Location of the Diagram Canvas inside of the browser's page\n * - Current viewport Scroll and Zoom\n *\n * @param target\n *  An element from the diagram\n * @param mouseEvent\n *  A mouseEvent\n */\nfunction getAbsolutePosition(target, mouseEvent) {\n    var xPos = mouseEvent.pageX, yPos = mouseEvent.pageY;\n    var canvasBounds = target.root.canvasBounds;\n    xPos -= canvasBounds.x;\n    yPos -= canvasBounds.y;\n    var viewport = lib_1.findParentByFeature(target, lib_2.isViewport);\n    var zoom = viewport ? viewport.zoom : 1;\n    if (viewport) {\n        var scroll_1 = { x: viewport.scroll.x, y: viewport.scroll.y };\n        xPos += scroll_1.x * zoom;\n        yPos += scroll_1.y * zoom;\n        xPos /= zoom;\n        yPos /= zoom;\n    }\n    xPos;\n    return {\n        x: xPos,\n        y: yPos\n    };\n}\nexports.getAbsolutePosition = getAbsolutePosition;\n//# sourceMappingURL=viewpoint-util.js.map","\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./diagram.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/dist/cjs.js!./diagram.css\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!./diagram.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nrequire(\"../css/diagram.css\");\nvar lib_1 = require(\"@glsp/sprotty-client/lib\");\nvar di_config_1 = require(\"@glsp/sprotty-client/lib/features/execute/di.config\");\nvar inversify_1 = require(\"inversify\");\nvar model_1 = require(\"./model\");\nvar model_factory_1 = require(\"./model-factory\");\nvar workflow_views_1 = require(\"./workflow-views\");\nvar workflowDiagramModule = new inversify_1.ContainerModule(function (bind, unbind, isBound, rebind) {\n    rebind(lib_1.TYPES.ILogger).to(lib_1.ConsoleLogger).inSingletonScope();\n    rebind(lib_1.TYPES.LogLevel).toConstantValue(lib_1.LogLevel.warn);\n    rebind(lib_1.TYPES.IModelFactory).to(model_factory_1.WorkflowModelFactory).inSingletonScope();\n    var context = { bind: bind, unbind: unbind, isBound: isBound, rebind: rebind };\n    lib_1.configureModelElement(context, 'graph', lib_1.GLSPGraph, lib_1.SGraphView);\n    lib_1.configureModelElement(context, 'task:automated', model_1.TaskNode, workflow_views_1.TaskNodeView);\n    lib_1.configureModelElement(context, 'task:manual', model_1.TaskNode, workflow_views_1.TaskNodeView);\n    lib_1.configureModelElement(context, 'label:heading', lib_1.SLabel, lib_1.SLabelView);\n    lib_1.configureModelElement(context, 'label:text', lib_1.SLabel, lib_1.SLabelView);\n    lib_1.configureModelElement(context, 'comp:comp', lib_1.SCompartment, lib_1.SCompartmentView);\n    lib_1.configureModelElement(context, 'comp:header', lib_1.SCompartment, lib_1.SCompartmentView);\n    lib_1.configureModelElement(context, 'label:icon', lib_1.SLabel, lib_1.SLabelView);\n    lib_1.configureModelElement(context, 'html', lib_1.HtmlRoot, lib_1.HtmlRootView);\n    lib_1.configureModelElement(context, 'pre-rendered', lib_1.PreRenderedElement, lib_1.PreRenderedView);\n    lib_1.configureModelElement(context, 'button:expand', lib_1.SButton, lib_1.ExpandButtonView);\n    lib_1.configureModelElement(context, 'routing-point', lib_1.SRoutingHandle, lib_1.SRoutingHandleView);\n    lib_1.configureModelElement(context, 'volatile-routing-point', lib_1.SRoutingHandle, lib_1.SRoutingHandleView);\n    lib_1.configureModelElement(context, 'edge', lib_1.SEdge, workflow_views_1.WorkflowEdgeView);\n    lib_1.configureModelElement(context, 'edge:weighted', model_1.WeightedEdge, workflow_views_1.WeightedEdgeView);\n    lib_1.configureModelElement(context, 'icon', model_1.Icon, workflow_views_1.IconView);\n    lib_1.configureModelElement(context, 'activityNode:merge', model_1.ActivityNode, lib_1.DiamondNodeView);\n    lib_1.configureModelElement(context, 'activityNode:decision', model_1.ActivityNode, lib_1.DiamondNodeView);\n    lib_1.configureModelElement(context, 'node', lib_1.RectangularNode, lib_1.RectangularNodeView);\n});\nfunction createContainer(widgetId) {\n    var container = new inversify_1.Container();\n    container.load(lib_1.decorationModule, lib_1.validationModule, lib_1.defaultModule, lib_1.glspMouseToolModule, lib_1.defaultGLSPModule, lib_1.glspSelectModule, lib_1.boundsModule, lib_1.viewportModule, lib_1.hoverModule, lib_1.fadeModule, lib_1.exportModule, lib_1.expandModule, lib_1.openModule, lib_1.buttonModule, lib_1.modelSourceModule, workflowDiagramModule, lib_1.saveModule, di_config_1.default, lib_1.toolFeedbackModule, lib_1.modelHintsModule, lib_1.commandPaletteModule, lib_1.glspCommandPaletteModule, lib_1.paletteModule, lib_1.requestResponseModule, lib_1.routingModule, lib_1.edgeLayoutModule);\n    lib_1.overrideViewerOptions(container, {\n        needsClientLayout: true,\n        needsServerLayout: false,\n        baseDiv: widgetId,\n        hiddenDiv: widgetId + \"_hidden\"\n    });\n    return container;\n}\nexports.default = createContainer;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar di_config_1 = require(\"./di.config\");\nexports.createWorkflowDiagramContainer = di_config_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"@glsp/sprotty-client/lib\");\nvar model_1 = require(\"./model\");\nvar WorkflowModelFactory = /** @class */ (function (_super) {\n    __extends(WorkflowModelFactory, _super);\n    function WorkflowModelFactory() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WorkflowModelFactory.prototype.createElement = function (schema, parent) {\n        if (this.isTaskNodeSchema(schema)) {\n            return this.initializeChild(new model_1.TaskNode(), schema, parent);\n        }\n        else if (this.isWeightedEdgeSchema(schema)) {\n            return this.initializeChild(new model_1.WeightedEdge(), schema, parent);\n        }\n        else if (this.isActivityNodeSchema(schema)) {\n            return this.initializeChild(new model_1.ActivityNode(), schema, parent);\n        }\n        else {\n            return _super.prototype.createElement.call(this, schema, parent);\n        }\n    };\n    WorkflowModelFactory.prototype.isTaskNodeSchema = function (schema) {\n        return lib_1.getBasicType(schema) === 'task';\n    };\n    WorkflowModelFactory.prototype.isActivityNodeSchema = function (schema) {\n        return lib_1.getBasicType(schema) === 'activityNode';\n    };\n    WorkflowModelFactory.prototype.isWeightedEdgeSchema = function (schema) {\n        return lib_1.getBasicType(schema) === 'edge' && lib_1.getSubType(schema) === 'weighted';\n    };\n    return WorkflowModelFactory;\n}(lib_1.SGraphFactory));\nexports.WorkflowModelFactory = WorkflowModelFactory;\n//# sourceMappingURL=model-factory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ActivityNodeSchema;\n(function (ActivityNodeSchema) {\n    var Type;\n    (function (Type) {\n        Type.INITIAL = 'initalNode';\n        Type.FINAL = 'finalNode';\n        Type.DECISION = 'decisionNode';\n        Type.MERGE = 'mergeNode';\n        Type.JOIN = 'joinNode';\n        Type.FORK = 'forkNode';\n        Type.UNDEFINED = \"undefined\";\n    })(Type = ActivityNodeSchema.Type || (ActivityNodeSchema.Type = {}));\n})(ActivityNodeSchema = exports.ActivityNodeSchema || (exports.ActivityNodeSchema = {}));\n//# sourceMappingURL=model-schema.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"@glsp/sprotty-client/lib\");\nvar model_schema_1 = require(\"./model-schema\");\nvar TaskNode = /** @class */ (function (_super) {\n    __extends(TaskNode, _super);\n    function TaskNode() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.name = \"\";\n        return _this;\n    }\n    TaskNode.prototype.hasFeature = function (feature) {\n        return feature === lib_1.expandFeature || feature === lib_1.nameFeature || _super.prototype.hasFeature.call(this, feature);\n    };\n    return TaskNode;\n}(lib_1.RectangularNode));\nexports.TaskNode = TaskNode;\nvar WeightedEdge = /** @class */ (function (_super) {\n    __extends(WeightedEdge, _super);\n    function WeightedEdge() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return WeightedEdge;\n}(lib_1.SEdge));\nexports.WeightedEdge = WeightedEdge;\nvar ActivityNode = /** @class */ (function (_super) {\n    __extends(ActivityNode, _super);\n    function ActivityNode() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.nodeType = model_schema_1.ActivityNodeSchema.Type.UNDEFINED;\n        _this.size = {\n            width: 32,\n            height: 32\n        };\n        _this.strokeWidth = 1;\n        return _this;\n    }\n    ActivityNode.prototype.hasFeature = function (feature) {\n        return _super.prototype.hasFeature.call(this, feature);\n    };\n    return ActivityNode;\n}(lib_1.DiamondNode));\nexports.ActivityNode = ActivityNode;\nvar Icon = /** @class */ (function (_super) {\n    __extends(Icon, _super);\n    function Icon() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.size = {\n            width: 32,\n            height: 32\n        };\n        return _this;\n    }\n    Icon.prototype.hasFeature = function (feature) {\n        return feature === lib_1.executeCommandFeature\n            || feature === lib_1.boundsFeature || feature === lib_1.layoutContainerFeature\n            || feature === lib_1.layoutableChildFeature || feature === lib_1.fadeFeature;\n    };\n    return Icon;\n}(lib_1.SShapeElement));\nexports.Icon = Icon;\n//# sourceMappingURL=model.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"@glsp/sprotty-client/lib\");\nvar inversify_1 = require(\"inversify\");\nvar snabbdom = require(\"snabbdom-jsx\");\nvar JSX = { createElement: snabbdom.svg };\nvar TaskNodeView = /** @class */ (function (_super) {\n    __extends(TaskNodeView, _super);\n    function TaskNodeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TaskNodeView.prototype.render = function (node, context) {\n        var rcr = this.getRoundedCornerRadius(node);\n        var graph = JSX.createElement(\"g\", null,\n            JSX.createElement(\"rect\", { \"class-sprotty-node\": true, \"class-task\": true, \"class-automated\": node.taskType === 'automated', \"class-manual\": node.taskType === 'manual', \"class-mouseover\": node.hoverFeedback, \"class-selected\": node.selected, x: 0, y: 0, rx: rcr, ry: rcr, width: Math.max(0, node.bounds.width), height: Math.max(0, node.bounds.height) }),\n            context.renderChildren(node));\n        return graph;\n    };\n    TaskNodeView.prototype.getRoundedCornerRadius = function (node) {\n        return 5;\n    };\n    TaskNodeView = __decorate([\n        inversify_1.injectable()\n    ], TaskNodeView);\n    return TaskNodeView;\n}(lib_1.RectangularNodeView));\nexports.TaskNodeView = TaskNodeView;\nvar WorkflowEdgeView = /** @class */ (function (_super) {\n    __extends(WorkflowEdgeView, _super);\n    function WorkflowEdgeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WorkflowEdgeView.prototype.renderAdditionals = function (edge, segments, context) {\n        var p1 = segments[segments.length - 2];\n        var p2 = segments[segments.length - 1];\n        return [\n            JSX.createElement(\"path\", { \"class-sprotty-edge\": true, \"class-arrow\": true, d: \"M 1.5,0 L 10,-4 L 10,4 Z\", transform: \"rotate(\" + lib_1.toDegrees(lib_1.angleOfPoint({ x: p1.x - p2.x, y: p1.y - p2.y })) + \" \" + p2.x + \" \" + p2.y + \") translate(\" + p2.x + \" \" + p2.y + \")\" })\n        ];\n    };\n    WorkflowEdgeView = __decorate([\n        inversify_1.injectable()\n    ], WorkflowEdgeView);\n    return WorkflowEdgeView;\n}(lib_1.PolylineEdgeView));\nexports.WorkflowEdgeView = WorkflowEdgeView;\nvar WeightedEdgeView = /** @class */ (function (_super) {\n    __extends(WeightedEdgeView, _super);\n    function WeightedEdgeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WeightedEdgeView.prototype.render = function (edge, context) {\n        var router = this.edgeRouterRegistry.get(edge.routerKind);\n        var route = router.route(edge);\n        if (route.length === 0)\n            return this.renderDanglingEdge(\"Cannot compute route\", edge, context);\n        return JSX.createElement(\"g\", { \"class-sprotty-edge\": true, \"class-weighted\": true, \"class-low\": edge.probability === 'low', \"class-medium\": edge.probability === 'medium', \"class-high\": edge.probability === 'high', \"class-mouseover\": edge.hoverFeedback },\n            this.renderLine(edge, route, context),\n            this.renderAdditionals(edge, route, context),\n            context.renderChildren(edge, { route: route }));\n    };\n    WeightedEdgeView = __decorate([\n        inversify_1.injectable()\n    ], WeightedEdgeView);\n    return WeightedEdgeView;\n}(WorkflowEdgeView));\nexports.WeightedEdgeView = WeightedEdgeView;\nvar IconView = /** @class */ (function () {\n    function IconView() {\n    }\n    IconView.prototype.render = function (element, context) {\n        var radius = this.getRadius();\n        return JSX.createElement(\"g\", null,\n            JSX.createElement(\"circle\", { \"class-sprotty-icon\": true, r: radius, cx: radius, cy: radius }),\n            context.renderChildren(element));\n    };\n    IconView.prototype.getRadius = function () {\n        return 16;\n    };\n    IconView = __decorate([\n        inversify_1.injectable()\n    ], IconView);\n    return IconView;\n}());\nexports.IconView = IconView;\n//# sourceMappingURL=workflow-views.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nvar lib_1 = require(\"@glsp-examples/workflow-sprotty/lib\");\nvar lib_2 = require(\"@glsp/sprotty-client/lib\");\nvar lib_3 = require(\"sprotty/lib\");\nfunction createContainer() {\n    var container = lib_1.createWorkflowDiagramContainer('sprotty');\n    container.bind(lib_3.TYPES.ModelSource).to(lib_2.GLSPWebsocketDiagramServer).inSingletonScope();\n    container.rebind(lib_3.TYPES.ILogger).to(lib_3.ConsoleLogger).inSingletonScope();\n    container.rebind(lib_3.TYPES.LogLevel).toConstantValue(lib_3.LogLevel.warn);\n    lib_2.registerDefaultTools(container);\n    return container;\n}\nexports.default = createContainer;\n//# sourceMappingURL=di.config.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nrequire(\"reflect-metadata\");\nrequire(\"sprotty-theia/css/theia-sprotty.css\");\nvar lib_1 = require(\"@glsp/sprotty-client/lib\");\nvar sprotty_1 = require(\"sprotty\");\nvar di_config_1 = require(\"./di.config\");\nvar container = di_config_1.default();\nvar websocket = new WebSocket(\"ws://localhost:8081/process\");\nvar diagramServer = container.get(sprotty_1.TYPES.ModelSource);\ndiagramServer.listen(websocket);\nvar actionDispatcher = container.get(sprotty_1.TYPES.IActionDispatcher);\nwebsocket.addEventListener('open', function (event) {\n    actionDispatcher.dispatch(new sprotty_1.RequestModelAction({\n        sourceUri: \"file:///home/tobias/DA/git/graphical-lsp/client/examples/workflow/workspace/example1.wf\",\n        diagramType: \"workflow-diagram\",\n        needsClientLayout: \"true\"\n    }));\n    actionDispatcher.dispatch(new lib_1.RequestOperationsAction());\n    actionDispatcher.dispatch(new lib_1.RequestTypeHintsAction(\"workflow-diagram\"));\n});\n//# sourceMappingURL=main.js.map"],"sourceRoot":""}